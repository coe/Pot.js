/*!
 * PotLite.js - JavaScript library
 *
 * PotLite.js is an implemental utility library
 *  that can execute JavaScript without burdening the CPU.
 *
 * Version 1.31, 2012-02-24
 * Copyright (c) 2012 polygon planet <polygon.planet@gmail.com>
 * Dual licensed under the MIT and GPL v2 licenses.
 * http://polygonplanet.github.com/Pot.js/index.html
 */
(function(d,h){var q={VERSION:"1.31",TYPE:"lite"},j=Array.prototype.push,t=Array.prototype.slice,G=Array.prototype.splice,g=Array.prototype.concat,y=Array.prototype.unshift,b=Array.prototype.indexOf,B=Array.prototype.lastIndexOf,x=Object.prototype.toString,n=Object.prototype.hasOwnProperty,F=String.fromCharCode,r=/([-.*+?^${}()|[\]\/\\])/g,A=/^(?:[a-zA-Z0-9_~.-]|%[0-9a-fA-F]{2})*$/,o=/List|Collection/i,f=/^[\s\u00A0\u3000]+|[\s\u00A0\u3000]+$/g,p,w,l,i;
(function(I){k(q,{NAME:"Pot",System:{},Plugin:{},toString:function(){return u(this.NAME||this.name||typeof this)
},Browser:(function(L){var J={},R,M,K,Q,S,N,O,P;S={webkit:/(webkit)(?:.*version|)[\s\/]+([\w.]+)/,opera:/(opera)(?:.*version|)[\s\/]+([\w.]+)/,msie:/(msie)[\s\/]+([\w.]+)/,mozilla:/(?!^.*compatible.*$).*(mozilla)(?:.*?\s+rv[:\s\/]+([\w.]+)|)/};
N=[/webkit.*(chrome)[\s\/]+([\w.]+)/,/webkit.*version[\s\/]+([\w.]+).*(safari)/,/webkit.*(safari)[\s\/]+([\w.]+)/,/(iphone).*version[\s\/]+([\w.]+)/,/(ipod).*version[\s\/]+([\w.]+)/,/(ipad).*version[\s\/]+([\w.]+)/,/(android).*version[\s\/]+([\w.]+)/,/(blackberry)(?:[\s\d]*|.*version)[\s\/]+([\w.]+)/,S.webkit,S.opera,S.msie,/(?!^.*compatible.*$).*mozilla.*?(firefox)(?:[\s\/]+([\w.]+)|)/,S.mozilla];
R=String(L&&L.userAgent).toLowerCase();if(R){for(O=0,P=N.length;O<P;O++){if((M=N[O].exec(R))){break
}}if(M){if(/[^a-z]/.test(M[1])){K=M[2];Q=M[1]}else{K=M[1];Q=M[2]}if(K){J[K]={version:String(Q||0)}
}}M=S.webkit.exec(R)||S.opera.exec(R)||S.msie.exec(R)||S.mozilla.exec(R)||[];if(M&&M[1]){J[M[1]]={version:String(M[2]||0)}
}}return J})(I),LANG:(function(J){return((J&&(J.language||J.userLanguage||J.browserLanguage||J.systemLanguage))||"en").split(/[^a-zA-Z0-9]+/).shift().toLowerCase()
}(I)),OS:(function(Q){var J={},N=Q||{},R,K,L,S,O,P,M;R=String(N.platform).toLowerCase();
K=String(N.userAgent).toLowerCase();L=String(N.appVersion).toLowerCase();S=[{s:"iphone",p:R},{s:"ipod",p:R},{s:"ipad",p:K},{s:"blackberry",p:K},{s:"android",p:K},{s:"mac",p:R},{s:"win",p:R},{s:"linux",p:R},{s:"x11",p:L}];
for(O=0,P=S.length;O<P;O++){M=S[O];if(~M.p.indexOf(M.s)){J[M.s]=true}}if(J.android&&!~K.indexOf("mobile")){J.androidtablet=true
}if(J.ipad||J.androidtablet){J.tablet=true}J.toString=function(){var T=[],U;for(U in J){if(J[U]===true){T.push(U)
}}return T.join("/")};return J}(I)),Global:(function(){if(!d||typeof d!=="object"||!("setTimeout" in d)){d=this||{}
}return this||{}})(),noop:function(){},tmp:{},Internal:{getMagicNumber:k(function(){var J=arguments.callee,K=J.n+(J.c++);
if(!isFinite(K)||isNaN(K)){J.c=J.n=K=0}return K},{c:0,n:+"0xC26BEB642C0A"}),getExportObject:function(M){var L,N,J;
if(M){if(q.System.isNonBrowser){L=q.Global||d}else{L=(q.isWindow(d)&&d)||(q.isWindow(q.Global)&&q.Global)||q.currentWindow()
}if(!L&&typeof window!=="undefined"&&q.isWindow(window)){L=window}if(L){do{N=m(q,"")
}while(N in L);L[N]=1;J=(new Function("try{return "+N+"===1;}catch(e){}"))();try{delete L[N]
}catch(K){try{L[N]=(void 0)}catch(K){}}if(!J){L=q.Global}}}if(!L){if(q.System.isNodeJS){if(typeof module==="object"&&typeof module.exports==="object"){L=module.exports
}else{if(typeof exports==="object"){L=exports}else{L=d}}}else{L=d}if(!L){L=d||q.Global||q.currentWindow()
}}return L}},update:k,Pot:q})})(typeof navigator!=="undefined"&&navigator||{});k(q.System,(function(){var K={},I;
K.isWaitable=false;if(typeof window==="object"&&"setTimeout" in window&&window.window==window&&typeof document==="object"&&document.nodeType>0&&typeof document.documentElement==="object"){K.isWebBrowser=true;
if(window.location&&/^(?:chrome|resource):?$/.test(window.location.protocol)){try{if(typeof Components!=="object"){throw false
}w=Components.classes;p=Components.interfaces;l=Components.results;i=Components.utils;
K.isWaitable=true;K.hasComponents=true;if(q.Browser.firefox||q.Browser.mozilla){K.isFirefoxExtension=true
}}catch(J){p=w=l=i=null}}}else{K.isNonBrowser=true;if(typeof process!=="undefined"&&process&&process.version&&typeof require==="function"&&(typeof exports==="object"||(typeof module==="object"&&typeof module.exports==="object"))){K.isNodeJS=true
}}if(q.Global&&q.Global.ActiveXObject||typeof ActiveXObject!=="undefined"&&(ActiveXObject)){K.hasActiveXObject=true
}if(!K.isFirefoxExtension){if(q.Browser.chrome||q.Browser.webkit||q.Browser.safari){if(typeof chrome==="object"&&typeof chrome.extension==="object"){K.isChromeExtension=true
}else{if(typeof safari==="object"&&typeof safari.extension==="object"){K.isSafariExtension=true
}}}}if(!K.isChromeExtension&&!K.isSafariExtension){if(typeof GM_log==="function"&&typeof GM_xmlhttpRequest==="function"){K.isGreasemonkey=true
}else{if(typeof require==="function"){try{if("title" in require("windows").browserWindows.activeWindow){K.isJetpack=true
}}catch(J){}}}if(K.isWebBrowser&&!K.isGreasemonkey&&!K.isFirefoxExtension){K.isNotExtension=true
}}try{I=(function(){yield(0)}());if(I&&typeof I.next==="function"){K.isYieldable=true
}}catch(J){}return K}()));(function(K){var J,I,L={};for(J=0,I=K.length;J<I;J++){(function(){var N=K[J],M=N.toLowerCase();
L[u(N)]=M;q["is"+N]=(function(){switch(M){case"error":return function(O){return(O!=null&&(O instanceof Error||q.typeOf(O)===M))||false
};case"date":return function(O){return(O!=null&&(O instanceof Date||q.typeOf(O)===M))||false
};default:return function(O){return q.typeOf(O)===M}}}())}())}q.update({typeOf:function(M){return(M==null)?String(M):(L[x.call(M)]||"object")
},typeLikeOf:function(N){var M=q.typeOf(N);if(M!=="array"&&q.isArrayLike(N)){M="array"
}return M}})}("Boolean Number String Function Array Date RegExp Object Error".split(" ")));
(function(I){k(q.Internal,{callInBackground:{flush:function(K){var J=this.byEvent||this.byTick||this.byTimer;
J(K)},byEvent:(function(){var K;if(q.System.isNonBrowser||q.System.isNodeJS||typeof window!=="object"||typeof document!=="object"||typeof Image!=="function"||window.opera||q.Browser.opera||typeof document.addEventListener!=="function"){return false
}try{if(typeof(new Image()).addEventListener!=="function"){return false}}catch(J){return false
}K="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
return function(P){var L,M,N;M=new Image();N=function(){try{M.removeEventListener("load",N,false);
M.removeEventListener("error",N,false)}catch(Q){}if(!L){L=true;P()}};M.addEventListener("load",N,false);
M.addEventListener("error",N,false);try{M.src=K}catch(O){this.byEvent=this.byTimer
}}}()),byTick:(function(){if(!q.System.isNodeJS||typeof process!=="object"||typeof process.nextTick!=="function"){return false
}return function(J){process.nextTick(J)}}()),byTimer:function(K,J){return setTimeout(K,J||0)
}},setTimeout:function(J,L){try{return q.Internal.callInBackground.byTimer(J,L||0)
}catch(K){}},clearTimeout:function(K){try{return clearTimeout(K)}catch(J){}},setInterval:function(J,L){try{return setInterval(J,L||0)
}catch(K){}},clearInterval:function(K){try{return clearInterval(K)}catch(J){}}});
q.update({Cc:w,Ci:p,Cr:l,Cu:i,StopIteration:(function(){var J=k(function(){return J
},{NAME:I,toString:q.toString});J.prototype={constructor:J,NAME:J.NAME,toString:J.toString};
J.prototype.constructor.prototype=J.constructor.prototype;return new J}()),isStopIter:function(J){if(!J){return false
}if(q.StopIteration!==h&&(J==q.StopIteration||J instanceof q.StopIteration)){return true
}if(typeof D!=="undefined"&&(J==D||J instanceof D)){return true}if(this&&this.StopIteration!==h&&(J==this.StopIteration||J instanceof this.StopIteration)){return true
}if(~x.call(J).indexOf(I)||~String(J&&J.toString&&J.toString()||J).indexOf(I)){return true
}if(q.isError(J)&&J[I]&&!(I in J[I])&&!q.isError(J[I])&&q.isStopIter(J[I])){return true
}return false},isIterable:function(J){return !!(J&&q.isFunction(J.next)&&(~J.next.toString().indexOf(I)||q.isNativeCode(J.next)))
},isScalar:function(J){return J!=null&&(q.isString(J)||q.isNumber(J)||q.isBoolean(J))
},isArrayLike:function(K){var J;if(!K){return false}if(q.isArray(K)||K instanceof Array||K.constructor===Array){return true
}J=K.length;if(!q.isNumber(J)||(!q.isObject(K)&&!q.isArray(K))||K===q||K===q.Global||K===d||q.isWindow(K)||q.isDocument(K)||q.isElement(K)){return false
}if(K.isArray||q.isFunction(K.callee)||q.isNodeList(K)||((typeof K.item==="function"||typeof K.nextNode==="function")&&K.nodeType!=3&&K.nodeType!=4)||(0 in K&&((J-1) in K))||o.test(x.call(K))){return true
}else{return false}},isDeferred:function(J){return J!=null&&((J instanceof q.Deferred)||(J.id!=null&&J.id===q.Deferred.prototype.id&&J.NAME!=null&&J.NAME===q.Deferred.prototype.NAME))
},isIter:function(J){return J!=null&&((J instanceof q.Iter)||(J.id!=null&&J.id===q.Iter.prototype.id&&J.NAME!=null&&J.NAME===q.Iter.prototype.NAME&&typeof J.next==="function"))
},isPercentEncoded:function(J){return A.test(J)},isNumeric:function(J){return(J==null||(J===""||(J==""&&J&&J.constructor===String))||(typeof J==="object"&&J.constructor!==Number))?false:!isNaN(J-0)
},isInt:function(J){return q.isNumber(J)&&isFinite(J)&&J%1==0},isNativeCode:function(K){var J;
if(!K){return false}J=K.toString();return !!(~J.indexOf("[native code]")&&J.length<=92)
},isBuiltinMethod:function(J){return J!=null&&(typeof J==="function"||J.constructor===Function)&&q.isNativeCode(J)
},isWindow:function(J){return J!=null&&typeof J==="object"&&"setInterval" in J&&J.window==J&&!!(J.location||J.screen||J.navigator||J.document)
},isDocument:function(J){return J!=null&&typeof J==="object"&&"getElementById" in J&&J.nodeType>0&&typeof J.documentElement==="object"
},isElement:function(J){return J!=null&&typeof J==="object"&&J.nodeType==1},isNodeLike:function(J){return J!=null&&typeof J==="object"&&J.nodeType>0
},isNodeList:function(J){var K;if(J&&q.isNumber(J.length)){K=typeof J.item;if(q.isObject(J)){return K==="function"||K==="string"
}else{if(q.isFunction(J)){return K==="function"}}}return false}})}("StopIteration"));
if(typeof D==="undefined"){var D=q.StopIteration}(function(){var M,R,I,P,K,Q;P="window contentWindow defaultView parentWindow content top".split(" ");
K="ownerDocument document".split(" ");function L(S){var T;if(S){if(q.isWindow(S)){T=S
}else{e(P,function(V){try{if(q.isWindow(S[V])){T=S[V]}if(S[V].content&&q.isWindow(S[V].content)){T=S[V].content
}}catch(U){}if(T){throw q.StopIteration}})}}return T}function J(S){var T;if(S){if(q.isDocument(S)){T=S
}else{e(K,function(V){try{if(q.isDocument(S[V])){T=S[V]}if(S[V].content&&q.isDocument(S[V].content.document)){T=S[V].content.document
}}catch(U){}if(T){throw q.StopIteration}})}}return T}e([d,q.Global,typeof window==="undefined"?this:window,typeof document==="undefined"?this:document],function(S){if(S){if(!M){M=L(S)
}if(!R){R=J(S)}if(M&&R){throw q.StopIteration}}});if(q.System.isNodeJS){I=(typeof process==="object"&&process.mainModule&&process.mainModule.filename)||(typeof __filename==="string"&&__filename)
}else{if(R){try{I=R.documentURI||R.baseURI||R.URL}catch(N){}}if(!I&&M){try{I=M.location&&M.location.href||M.location
}catch(N){try{Q=R.createElement("a");Q.href="";I=Q.href}catch(O){}}}}k(q.System,{currentWindow:M||{},currentDocument:R||{},currentURI:v(I,true)});
q.update({currentWindow:function(){return q.System.currentWindow},currentDocument:function(){return q.System.currentDocument
},currentURI:function(){return q.System.currentURI}})}());k(q.System,{isBuiltinObjectKeys:q.isBuiltinMethod(Object.keys),isBuiltinArrayForEach:q.isBuiltinMethod(Array.prototype.forEach),isBuiltinArrayIndexOf:q.isBuiltinMethod(Array.prototype.indexOf),isBuiltinArrayLastIndexOf:q.isBuiltinMethod(Array.prototype.lastIndexOf)});
q.update({keys:(function(){var K=!({toString:null}).propertyIsEnumerable("toString"),J=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],I=J.length;
return function(M){var N=[],S=typeof M,P,L,O;if(S!=="object"&&S!=="function"||M===null){return N
}if(q.isArrayLike(M)){P=M.length;for(O=0;O<P;O++){if(O in M){N[N.length]=O}}}else{if(q.System.isBuiltinObjectKeys){try{N=Object.keys(M);
return N}catch(Q){}}for(L in M){try{if(n.call(M,L)){N[N.length]=L}}catch(R){}}if(K){for(O=0;
O<I;O++){try{if(n.call(M,J[O])){N[N.length]=J[O]}}catch(T){}}}}return N}}()),globalEval:k(function(J){var M=arguments.callee,I,Q,K,P,O,N;
if(J&&M.patterns.valid.test(J)){if(q.System.hasActiveXObject){if(typeof execScript!=="undefined"&&execScript&&M.test(execScript)){return execScript(J,M.language)
}else{K="execScript";if(K in d&&M.test(K,d)){return d[K](J,M.language)}else{if(K in q.Global&&M.test(K,q.Global)){return q.Global[K](J,M.language)
}}}}K="eval";if(K in d&&M.test(K,d)){Q=d}else{if(K in q.Global&&M.test(K,q.Global)){Q=q.Global
}}if(q.System.isGreasemonkey){return q.localEval(J,Q||q.Global)}if(Q){if(Q[K].call&&Q[K].apply&&M.test(K,Q,true)){return Q[K].call(Q,J)
}if(M.worksForGlobal==null){M.worksForGlobal=false;do{I=m(q,"")}while(I in Q);Q[K]("var "+I+"=1;");
if(I in Q&&Q[I]===1){M.worksForGlobal=true}try{delete Q[I]}catch(L){try{Q[I]=(void 0)
}catch(L){}}}if(M.worksForGlobal){return Q[K](J)}}if(q.System.isNodeJS){return M.doEvalInGlobalNodeJS(K,J)
}if(q.System.isWebBrowser&&typeof document==="object"){P=document;N=P.getElementsByTagName("head");
if(N&&N[0]){N=N[0]}else{N=P.head||P.body||P.documentElement}if(N){O=P.createElement("script");
O.type="text/javascript";O.defer=false;O.appendChild(P.createTextNode(J));N.appendChild(O);
N.removeChild(O)}}else{return q.localEval(J,Q||q.Global)}}},{language:"JavaScript",patterns:{valid:/\S/},test:function(K,M,J){var I=false,N="(void 0);";
try{if(M){if(J){M.func.call(null,N)}else{M.func(N)}}else{if(J){K.call(null,N)}else{K(N)
}}I=true}catch(L){I=false}return I},doEvalInGlobalNodeJS:function(L,J){var Q,N=arguments.callee,K,O,P=q.Global,I;
if(N.worksForGlobal==null){try{N.worksForGlobal=false;do{I=m(q,"")}while(I in P);
P[L].call(P,"var "+I+"=1;");if(I in P&&P[I]===1){N.worksForGlobal=true}delete P[I]
}catch(M){N.worksForGlobal=false}}if(N.worksForGlobal){Q=P[L].call(P,J)}else{if(typeof require!=="undefined"){K=require("vm");
if(K&&K.createScript){O=K.createScript(J);if(O&&O.runInThisContext){Q=O.runInThisContext()
}}}}return Q}}),localEval:k(function(N,J){var M=q.globalEval,L=arguments.callee,K,I;
if(N&&M.patterns.valid.test(N)){K="eval";if(K in d&&M.test(K,d)){I=d}else{if(K in q.Global&&M.test(K,q.Global)){I=q.Global
}}if(I&&I[K]){if(I[K].call&&I[K].apply&&M.test(K,I,true)){return L.doEval(N,I,J)}else{if(J==null){return L.doEval(N,I,J,true)
}}}return L.doEvalByFunc(N,J)}},{isLiteral:/^\s*(?!(?:return|var|if|do|for|try|while)\b\s*)[\w$.!"'~(){}[\]]/,isFunc:/^\s*function\b[^{]*[{][\s\S]*[}][^}]*$/,clean:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g,doEval:function(){try{return arguments[1]["eval"].call(arguments[2]||arguments[1],arguments[0])
}catch(I){}if(arguments[3]){return arguments[1]["eval"](arguments[0])}else{return q.localEval.doEvalByFunc(arguments[0],arguments[2]||arguments[1])
}},doEvalByFunc:function(K,I){var J=q.localEval,L;if(J.isFunc.test(K)||(J.isLiteral.test(K)&&!q.hasReturn(K))){L="return("+String(K).replace(J.clean,"")+");"
}else{L=K}return(new Function("return(function(){"+L+"}).call(this);")).call(I)}}),hasReturn:(function(){var J={STRIP:new RegExp("^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'","g"),RETURN:/(?:^|\s|[^\w$.]\b)return(?:[^\w$.]\b|\s|$)/,FUNC:/(?:^|\s|[^\w$.]\b)function(?:[^\w$.]\b|\s|)[^{}]*$/,PREREGEX:/(?:^|[,;:!?=&|!([]|[^\w$.<>%'"@){}\]])\s*\/$/,REGEXP:/(\/(?![*])(?:\\.|[^\/\r\n\\])+\/)$/,E4X:/(?:^|[(){}<>&|%*~^!?:;,\/[\]=+-])\s*<([^\s>]*)[^>]*>$/,TAG:/<([^\s>]*)[^>]*>$/},I=8192,L=0,K={};
return function(P){var S=false,N,T,V,M,U,aa,ab,ac,X,R,Q,W,Z,O,ad,Y;N=v(P&&P.toString&&P.toString()||String(P));
if(N in K){return K[N]}M=N;N=N.replace(J.STRIP,"");if(N&&J.RETURN.test(N)){X=0;R=0;
W="";Q="";U="";ad="";Y=false;O=false;ab=N.length;for(aa=0;aa<ab;aa++){ac=N.charAt(aa);
if(W&&ac!=="/"){W+=ac;continue}switch(ac){case"{":if(R===0&&J.FUNC.test(U)){X++}break;
case"}":if(R===0&&X>0){X--}break;case"/":if(!Y&&X===0){if(R>0){Q+=ac}else{if(!W){U+=ac;
if(J.PREREGEX.test(U)){W=ac;U=U.slice(0,-1)+" "}}else{if(W){W+=ac;if(J.REGEXP.test(W)){W=""
}}}}}break;case"-":if(X===0){if(R>0){Q+=ac;if(Q.slice(-4)==="<!--"){Y=true;Q=Q.slice(0,-4)+" "
}}else{U+=ac}}break;case"[":if((O||!Y)&&X===0){if(R>0){Q+=ac;if(Q.slice(-9).toUpperCase()==="<![CDATA["){Y=true;
O=true;Q=Q.slice(0,-9)+" "}}else{U+=ac}}break;case"]":case"<":if((O||!Y)&&X===0){if(R>0){Q+=ac
}else{U+=ac}}break;case">":if(X===0){if(R===0){U+=ac;if(J.E4X.test(U)){Z=U.match(J.TAG);
R++;U=U.slice(0,-Z[0].length)+" ";ad=Z[1];V=new RegExp("</"+C(ad)+">$");T=new RegExp("<"+C(ad)+"\\b[^>]*>$")
}}else{if(R>0){if(Y){if((!O&&Q.slice(-2)==="--")||(O&&Q.slice(-2)==="]]")){Y=O=false;
Q=Q.slice(0,-2)}Q+=" ";break}Q+=ac;if(V&&V.test(Q)){R--;if(R===0){ad=Q=""}}else{if(T&&T.test(Q)){R++
}}}}}break;default:if(!Y&&X===0){if(R>0){Q+=ac}else{U+=ac}}break}}if(J.RETURN.test(U)){S=true
}}if(L<I){K[M]=S;L++}return S}}()),override:function(I,K,N,M){var L=[],J;if(I&&K&&(N||M)){if(M){if(q.isFunction(N)){J=N;
N=M;M=J}}else{if(q.isFunction(N)){M=N}}if(q.isRegExp(N)){N=[N,""]}else{if(q.isString(N)){N=[new RegExp(C(N),"g"),""]
}}e(E(K),function(O){if(O){e(I,function(P,Q){if(q.isFunction(P)&&((q.isRegExp(O)&&O.test(Q))||O==Q)){L[L.length]=Q
}})}});e(L,function(T){var S,Q,R,P,O;if(n.call(I,T)){S=I[T];O=!!(I[T]&&I[T].apply&&typeof I[T].apply===typeof I[T].call);
if(N){Q=R=S.toString();P=E(N);if(!q.isArray(P[0])){P=[P]}e(P,function(U){var X,W;
try{X=U[0];W=U[1];if(q.isString(X)){X=new RegExp(C(X),"g")}if(!q.isString(W)){W=""
}Q=Q.replace(X,W)}catch(V){}});if(R!==Q){S=q.localEval(Q,I)}}I[T]=k(function(){var V=this,U=arguments;
if(q.isFunction(M)){return M.call(V,function(){var W=arguments;if(W.length===1&&W[0]&&W[0].callee&&W[0].callee===U.callee){if(O){return S.apply(V,E(W[0]))
}else{return H(I,T,E(W[0]))}}else{if(O){return S.apply(V,E(W))}else{return H(I,T,E(W))
}}},U,V,T)}else{return S.apply(V,U)}},I[T]);if(!I[T].overridden||q.isNumber(I[T].overridden)){k(I[T],{overridden:((I[T].overridden||0)-0)+1})
}}})}return I},getErrorMessage:function(I,J){var K;if(q.isError(I)){K=String(I.message||I.description||(I.toString&&I.toString())||I)
}return v(K)||v(J)||"error"}});function k(){var P=arguments,N=P.length,M=1,L,J,I,Q,R,K;
if(N===M){J=this||{};M--}else{J=P[M-1]}if(J){do{Q=P[M];if(Q){if(q.keys){R=q.keys(Q);
K=R.length;for(L=0;L<K;L++){I=R[L];try{J[I]=Q[I]}catch(O){}}}else{for(I in Q){try{if(n.call(Q,I)){J[I]=Q[I]
}}catch(O){}}}}}while(++M<N)}return J}function E(K,J){var P,M,I,N=arguments.callee,L;
if(N.canNodeList==null){if(q.System.currentDocument){try{L=t.call(q.System.currentDocument.documentElement.childNodes)[0].nodeType;
L=null;N.canNodeList=true}catch(O){N.canNodeList=false}}}if(K==null){P=[K]}else{switch(q.typeOf(K)){case"array":P=K.slice();
break;case"object":if(q.isArrayLike(K)){if(!N.canNodeList&&q.isNodeList(K)){P=[];
M=0;I=K.length;do{P[M]=K[M]}while(++M<I)}else{P=t.call(K)}break}default:P=t.call(g.call([],K));
break}}if(J>0){P=P.slice(J)}return P}function c(){return +new Date}function v(K,L){var J="",M,I=arguments.length;
if(K!==null){switch(typeof K){case"string":case"number":case"xml":J=K;break;case"boolean":if(I>=2&&!L){J=K
}else{if(!L){J=K?1:""}}break;case"object":if(K){M=K.constructor;if(M===String||M===Number||(typeof XML!=="undefined"&&M===XML)||(typeof Buffer!=="undefined"&&M===Buffer)){J=K
}else{if(M===Boolean){if(I>=2&&!L){J=K}else{if(!L){J=(K==true)?1:""}}}}}break;default:break
}}return J.toString()}function z(K,L,I){var J;if(L){J=new RegExp(["^[","]+|[","]+$"].join(C(L)),"g"+(I?"i":""))
}else{J=f}return v(K,true).replace(J,"")}function C(I){return v(I,true).replace(r,"\\$1")
}function H(){var Q=E(arguments),S=Q.length;var M,I,L,R,J,T,N,O,K;try{switch(S){case 0:throw false;
case 1:I=Q[0];break;case 2:M=Q[0];I=Q[1];break;case 3:M=Q[0];I=Q[1];L=E(Q[2]);break;
default:M=Q[0];I=Q[1];L=E(Q,2);break}if(!I){throw I}if(!M&&q.isString(I)){M=(M&&M[I]&&M)||(d&&d[I]&&d)||(q.Global&&q.Global[I]&&q.Global)
}if(q.isString(I)){R=true;if(!M){M=(d||q.Global)}}}catch(P){K=P;throw q.isError(K)?K:new Error(K)
}if(q.isFunction(I.apply)&&q.isFunction(I.call)){if(L==null||!L.length){return I.call(M)
}else{return I.apply(M,L)}}else{J=L||[];O=J.length||0;if(R){switch(O){case 0:return M[I]();
case 1:return M[I](J[0]);case 2:return M[I](J[0],J[1]);case 3:return M[I](J[0],J[1],J[2]);
default:break}}else{switch(O){case 0:return I();case 1:return I(J[0]);case 2:return I(J[0],J[1]);
case 3:return I(J[0],J[1],J[2]);default:break}}T=[];for(N=0;N<O;N++){T[T.length]="p["+N+"]"
}return(new Function("e,o,m,p",["return e?o[m](","):m(",");"].join(T.join(","))))(R,M,I,J)
}}function s(N){var I=arguments,L=I.callee,K,J;try{if(!L.firebug("log",I)){if(!q.System.hasComponents){throw false
}J=w["@mozilla.org/consoleservice;1"].getService(p.nsIConsoleService);J.logStringMessage(String(N))
}}catch(M){if(typeof GM_log!=="undefined"){K=GM_log}else{if(typeof console!=="undefined"){K=console.debug||console.dir||console.log
}else{if(typeof opera!=="undefined"&&opera.postError){K=opera.postError}else{K=function(O){throw O
}}}}try{if(K.apply){K.apply(K,I)}else{throw K}}catch(M){try{K(N)}catch(M){try{console.log(N)
}catch(M){try{L.divConsole(N)}catch(M){}}}}}return N}k(s,{firebug:function(O,K){var I=false,M,J;
try{if(!q.System.hasComponents){throw false}M=q.XPCOM.getMostRecentWindow();if(!M){throw M
}if(M.FirebugConsole&&M.FirebugContext){J=new M.FirebugConsole(M.FirebugContext,M.content);
J[O].apply(J,K);I=true}else{if(M.Firebug&&M.Firebug.Console){try{M.Firebug.Console.logFormatted.call(M.Firebug.Console,E(K),M.FirebugContext,O);
I=true}catch(N){}}}}catch(L){}return I},dump:function(L){var K,J=arguments.callee,I;
I=function(M){return(M==null)?String(M):M.toString?M.toString():String(M)};if(L==null){return String(L)
}if(typeof uneval==="function"){return uneval(L)}else{if(typeof L.toSource==="function"){return L.toSource()
}}K=[];switch(q.typeLikeOf(L)){case"array":e(L,function(M){K[K.length]=J(M)});return"["+K.join(", ")+"]";
case"object":if(q.isNodeLike(L)||q.isWindow(L)||q.isDocument(L)){K[K.length]=x.call(L)
}else{e(L,function(N,M){K[K.length]=M+": "+J(N)})}return"{"+K.join(", ")+"}";case"string":return'"'+I(L)+'"';
case"function":return"("+I(L)+")";default:return I(L)}},divConsole:k(function(J){var N=arguments.callee,K,Q,P,I,M,O;
if(q.System.hasActiveXObject&&typeof document!=="undefined"){Q=document;P=Q.documentElement||{};
try{K=(typeof P.style.maxHeight==="undefined")}catch(L){}if(N.done&&N.ieConsole){N.append(J)
}else{if(!N.msgStack){N.msgStack=[]}N.msgStack.push(J);if(!N.done){N.done=true;q.Deferred.till(function(){return !!(Q&&Q.body)
}).then(function(){var S,R,T,U;S={border:"1px solid #999",background:"#fff",color:"#333",fontSize:"13px",fontFamily:"monospace",position:"absolute",padding:"10px",margin:"0px"};
U=Q.createElement("div");R=U.style;e(S,function(W,V){R[V]=W});R.borderWidth="3px";
R.width="95%";R.zIndex=9996;R.left="0px";R.bottom="0px";if(K){R.height=Math.floor(P.clientHeight/3.2)+"px"
}else{R.position="fixed";R.height="25%"}N.ieConsole=U.cloneNode(false);N.ieConsole.id=N.ieConsoleId=m(q,"");
R=N.ieConsole.style;R.borderWidth="1px";R.width="95%";R.height="87%";R.position="relative";
R.zIndex=9997;R.padding="5px";R.whiteSpace="pre";R.wordWrap="break-word";R.overflowX="hidden";
R.overflowY="auto";N.hr=Q.createElement("hr");R=N.hr.style;R.position="static";R.width="100%";
R.border="1px solid #aaa";R.zIndex=9998;T=Q.createElement("div");R=T.style;e(S,function(W,V){R[V]=W
});R.zIndex=9999;R.fontFamily="sans-serif";R.fontWeight="bold";R.borderWidth="1px";
R.padding="1px 4px";R.lineHeight=1;R.right="2px";R.top="2px";R.cursor="pointer";T.title="close";
T.innerHTML="x";I=function(){var W,V,X="95%";W=Q.body.clientWidth-7;U.style.width=(W<=0)?X:W+"px";
W=U.offsetWidth-55;N.ieConsole.style.width=(W<=0)?X:W+"px";V=Math.floor(P.clientHeight/3.2)+"px";
U.style.height=V;M()};M=function(){var V=P.scrollTop+(P.clientHeight-U.clientHeight)-7;
if(V>0){U.style.top=V+"px"}};O=function(){try{U.parentNode.removeChild(U);window.dettachEvent("onscroll",M);
window.dettachEvent("onresize",I);U=N.ieConsole=null}catch(V){}};if(typeof window!=="undefined"&&window&&window.attachEvent){if(K){e({onscroll:M,onresize:I},function(W,V){window.attachEvent(V,W)
})}if(T.attachEvent){T.attachEvent("onclick",O)}}if(K){q.Deferred.wait(0.25).then(function(){U.style.bottom="1px"
}).wait(0.5).then(function(){U.style.bottom="0px"})}U.appendChild(T);U.appendChild(N.ieConsole);
Q.body.appendChild(U);N.append()})}}}},{append:function(N){var L=this,J,K,I;if(L.ieConsole){try{I=E(L.msgStack||[]);
while(L.msgStack&&L.msgStack.length){L.msgStack.pop()}if(arguments.length){I.push(N)
}while(I.length){J=I.shift();K=s.dump(J);if(q.isString(J)&&K.charAt(0)==='"'&&K.slice(-1)==='"'){K=K.slice(1,-1)
}e([document.createTextNode(K),L.hr.cloneNode(false)],function(O){L.ieConsole.appendChild(O)
})}q.Internal.setTimeout(function(){L.ieConsole.scrollTop=L.ieConsole.scrollHeight
},10)}catch(M){}}}})});q.update({arrayize:E,stringify:v,trim:z,rescape:C,invoke:H,now:c,debug:s});
function e(M,R,J){var N,O,K,L,I,S;if(M){O=M.length;try{if(q.isArrayLike(M)){for(N=0;
N<O;N++){if(N in M){try{K=M[N]}catch(P){continue}R.call(J,K,N,M)}}}else{S=q.keys(M);
O=S.length;for(N=0;N<O;N++){I=S[N];try{K=M[I]}catch(P){continue}R.call(J,K,I,M)}}}catch(Q){L=Q;
if(!q.isStopIter(L)){throw L}}}return M}function m(J,I){return[String((J&&(J.NAME||J.name))||(void 0)),Math.random().toString(36).substring(2),c()].join(arguments.length>=2?I:"-")
}function u(I){return"[object "+I+"]"}function a(L,J){var K,I;if(L&&J){if(q.isObject(L.options)){K=L.options
}else{if(q.isObject(L)){K=L}}if(q.isObject(J.options)){I=J.options}else{if(q.isObject(J)){I=J
}}if("async" in I){K.async=!!I.async}if("speed" in I&&q.isNumeric(I.speed)){K.speed=I.speed
}if("cancellers" in I){if(!I.cancellers||!I.cancellers.length){I.cancellers=[]}else{if(K.cancellers&&K.cancellers.length){K.cancellers=g.call([],E(K.cancellers),E(I.cancellers))
}else{K.cancellers=E(I.cancellers)}}}if("stoppers" in I){if(!I.stoppers||!I.stoppers.length){I.stoppers=[]
}else{if(K.stoppers&&K.stoppers.length){K.stoppers=g.call([],E(K.stoppers),E(I.stoppers))
}else{K.stoppers=E(I.stoppers)}}}if("storage" in I){K.storage=I.storage||{}}if(!K.storage){K.storage={}
}}}(function(){q.update({Deferred:function(){return q.isDeferred(this)?this.init(arguments):new q.Deferred.fn.init(arguments)
}});k(q.Deferred,{StopIteration:q.StopIteration,speeds:{limp:2400,doze:1000,slow:100,normal:36,fast:20,rapid:12,ninja:0},states:{success:1,failure:2,fired:3,unfired:4}});
e(q.Deferred.states,function(X,W){q.Deferred.states[X]=W});k(q.Deferred,{defaults:{speed:q.Deferred.speeds.ninja,canceller:null,stopper:null,async:true}});
q.Deferred.fn=q.Deferred.prototype=k(q.Deferred.prototype,{constructor:q.Deferred,id:q.Internal.getMagicNumber(),serial:null,chains:[],chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,nested:0,state:null,results:null,destAssign:false,chainDebris:null,options:{},plugins:{},NAME:"Deferred",toString:q.toString,isDeferred:q.isDeferred,init:function(W){if(!this.serial){this.serial=m(this)
}this.options={};this.plugins={};I.call(this,E(W),q.Deferred.defaults);k(this,{results:{success:null,failure:null},state:q.Deferred.states.unfired,chains:[],nested:0,chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,destAssign:false,chainDebris:null});
q.Internal.referSpeeds.call(this,q.Deferred.speeds);return this},speed:function(Z){var X=this,W=arguments,Y;
if(q.isNumeric(Z)){Y=Z-0}else{if(q.isNumeric(q.Deferred.speeds[Z])){Y=q.Deferred.speeds[Z]-0
}else{Y=this.options.speed}}if(this.state===q.Deferred.states.unfired&&!this.chains.length){if(W.length===0){return this.options.speed
}this.options.speed=Y}else{this.then(function(aa){if(W.length===0){return X.options.speed
}X.options.speed=Y;return aa})}return this},async:function(Y){var X=this,W=arguments;
if(this.state===q.Deferred.states.unfired&&!this.chains.length){if(W.length===0){return this.options.async
}this.options.async=!!Y}else{this.then(function(Z){if(W.length===0){return X.options.async
}X.options.async=!!Y;return Z})}return this},canceller:function(X){var W=arguments;
if(this.state===q.Deferred.states.unfired&&!this.chains.length){if(W.length===0){return this.options.cancellers
}if(!this.cancelled&&q.isFunction(X)){this.options.cancellers.push(X)}}else{this.stopper.apply(this,W)
}return this},stopper:function(Y){var X=this,W=arguments;if(this.state===q.Deferred.states.unfired&&!this.chains.length){this.canceller.apply(this,W)
}else{this.then(function(Z){if(W.length===0){return X.options.stoppers}if(!X.cancelled&&q.isFunction(Y)){X.options.stoppers.push(Y)
}return Z})}return this},then:function(X,W){if(!this.chained&&!this.cancelled){this.chains.push({success:X,failure:W});
if(this.state&q.Deferred.states.fired){if(!this.freezing&&!this.tilling&&!this.waiting){N.call(this)
}}}q.Internal.referSpeeds.call(this,q.Deferred.speeds);return this},rescue:function(W){return this.then(null,W)
},ensure:function(W){return this.then(W,W)},cancel:function(){if(!this.cancelled){this.cancelled=true;
switch(this.state){case q.Deferred.states.unfired:P.call(this,"cancellers");if(this.state===q.Deferred.states.unfired){this.raise(new Error(this))
}break;case q.Deferred.states.success:P.call(this,"stoppers");if(q.isDeferred(this.results.success)){this.results.success.cancel()
}break;case q.Deferred.states.failure:P.call(this,"stoppers");break;default:break
}}return this},begin:function(){var Y=this,W,X=E(arguments),Z;W=X[0];if(X.length>1){Z=X
}else{Z=X[0]}if(!this.cancelled&&this.state===q.Deferred.states.unfired){if(q.isDeferred(W)&&!W.cancelled){W.ensure(function(){Y.begin.apply(this,arguments)
})}else{this.options.cancellers=[];U.call(this,Z)}}q.Internal.referSpeeds.call(this,q.Deferred.speeds);
return this},raise:function(){var X=E(arguments),W,Y;W=X[0];if(!q.isError(W)){X[0]=new Error(W)
}if(X.length>1){Y=X}else{Y=X[0]}return this.begin.apply(this,E(Y))},end:function(){this.chained=true;
return this},wait:function(aa,Y){var Z,X=this,W=arguments;Z=new q.Deferred();return this.then(function(ab){if(q.isError(ab)){throw ab
}X.waiting=true;q.Deferred.wait(aa).ensure(function(ac){X.waiting=false;if(q.isError(ac)){Z.raise(ac)
}else{Z.begin(W.length>=2?Y:ab)}});return Z})},till:function(W){var X=this,Y=new q.Deferred();
return this.then(function(Z){if(q.isError(Z)){throw Z}X.tilling=true;q.Deferred.till(W,Z).ensure(function(aa){X.tilling=false;
if(q.isError(aa)){Y.raise(aa)}else{Y.begin(Z)}});return Y})},args:function(){var X=E(arguments),W=X.length;
if(W===0){return q.Deferred.lastResult(this)}else{return this.then(function(){var Z,Y=E(arguments);
if(Y.length>1){Z=Y}else{Z=Y[0]}if(W>1){return X}else{if(q.isFunction(X[0])){return X[0].apply(this,E(Z))
}else{return X[0]}}})}},data:function(){var aa=this,X=this,Y=E(arguments);var Z,W=Y.length,ab=".";
if(this.options){if(!this.options.storage){this.options.storage={}}switch(W){case 0:X={};
e(this.options.storage,function(ae,ac){try{if(ac&&ac.charAt(0)===ab){X[ac.substring(1)]=ae
}}catch(ad){}});break;case 1:if(Y[0]==null){this.options.storage={}}else{if(q.isObject(Y[0])){e(Y[0],function(ad,ac){aa.options.storage[ab+v(ac)]=ad
})}else{X=this.options.storage[ab+v(Y[0])]}}break;case 2:this.options.storage[ab+v(Y[0])]=Y[1];
break;default:Z=0;do{this.options.storage[ab+v(Y[Z++])]=Y[Z++]}while(Z<W);break}}return X
},update:function(){var X=q.Deferred.fn,W=E(arguments);W.unshift(X);k.apply(X,W);
return this}});q.Deferred.prototype.init.prototype=q.Deferred.prototype;function Q(W){if(q.isError(W)){this.state=q.Deferred.states.failure
}else{this.state=q.Deferred.states.success}return this.state}function U(W){Q.call(this,W);
this.results[q.Deferred.states[this.state]]=W;if(!this.freezing&&!this.tilling&&!this.waiting){N.call(this)
}}function N(W){if(W||(!this.freezing&&!this.tilling&&!this.waiting)){if(this.options&&this.options.async){L.call(this)
}else{T.call(this)}}}function L(){var W=this,X,Y;if(this.options&&q.isNumeric(this.options.speed)){X=this.options.speed
}else{X=q.Deferred.defaults.speed}this.freezing=true;Y=function(){try{M.call(W)}catch(Z){W.freezing=false;
throw Z}if(R.call(W)){N.call(W,true)}else{W.freezing=false}};if(!X&&this.state===q.Deferred.states.unfired){q.Internal.callInBackground.flush(Y)
}else{q.Internal.setTimeout(Y,X)}}function T(){M.call(this);if(this.options&&this.options.async){N.call(this)
}}function M(){var aa=this,W,Y,Z,ad,ab,X;S.call(this);W=this.results[q.Deferred.states[this.state]];
ab=null;while(R.call(this)){Z=this.chains.shift();ad=Z&&Z[q.Deferred.states[this.state]];
if(!q.isFunction(ad)){continue}X=false;try{if(this.destAssign||(q.isNumber(ad.length)&&ad.length>1&&q.isArray(W)&&W.length===ad.length)){Y=ad.apply(this,W)
}else{Y=ad.call(this,W)}if(Y===h&&this.state!==q.Deferred.states.failure&&!q.isError(W)&&!q.hasReturn(ad)){Y=W
}W=Y;this.destAssign=false;this.state=Q.call({},W);if(q.isDeferred(W)){ab=function(ae){return O.call(aa,ae)
};this.nested++}}catch(ac){W=ac;if(q.isStopIter(W)){X=true}else{J.call(this,W)}this.destAssign=false;
this.state=q.Deferred.states.failure;if(!q.isError(W)){W=new Error(W);if(X){k(W,{StopIteration:q.StopIteration})
}}}if(this.options&&this.options.async){break}}this.results[q.Deferred.states[this.state]]=W;
if(ab&&this.nested){W.ensure(ab).end()}V.call(this)}function R(){return this.chains&&this.chains.length&&this.nested===0&&!this.cancelled
}function K(){var aa,Z,W,Y,ab,X;Y=q.Deferred.states[q.Deferred.states.failure];ab=this.chains;
W=ab&&ab.length;if(W){for(Z=0;Z<W;Z++){if(ab[Z]){X=ab[Z][Y];if(X&&q.isFunction(X)){aa=true;
break}}}}return aa}function J(W){if(!K.call(this)){this.chainDebris={error:W}}}function V(){var W=this,X;
if(this.chainDebris&&"error" in this.chainDebris&&(this.cancelled||this.chained||(!this.chains||!this.chains.length))){if(this.options&&q.isNumeric(this.options.speed)){X=this.options.speed
}else{X=q.Deferred.defaults.speed}this.chainDebris.timerId=q.Internal.setTimeout(function(){throw W.chainDebris.error
},X)}}function S(){if(this.chainDebris&&this.chainDebris.timerId!=null&&(this.state&q.Deferred.states.fired)&&K.call(this)){q.Internal.clearTimeout(this.chainDebris.timerId);
delete this.chainDebris.error;delete this.chainDebris.timerId;this.chainDebris=null
}}function O(W){U.call(this,W);this.nested--;if(this.nested===0&&!this.cancelled&&(this.state&q.Deferred.states.fired)){N.call(this)
}}function I(X,ac){var aa,ab,W,Z,Y,ad;if(X){if(X.length===1&&X[0]&&q.isObject(X[0])){aa=X[0];
if(aa.speed!==ad||aa.canceller!==ad||aa.async!==ad||aa.stopper!==ad){ab=aa.speed;
W=aa.canceller;Z=aa.stopper;Y=aa.async}else{ab=aa.options&&aa.options.speed;W=aa.options&&aa.options.canceller;
Z=aa.options&&aa.options.stopper;Y=aa.options&&aa.options.async}}else{if(X.length===1&&X[0]&&q.isArray(X[0])){aa=X[0]
}else{aa=X}e(aa||[],function(ae){if(ab===ad&&q.isNumeric(ae)){ab=ae}else{if(ab===ad&&q.isNumeric(q.Deferred.speeds[ae])){ab=q.Deferred.speeds[ae]
}else{if(W===ad&&q.isFunction(ae)){W=ae}else{if(Y===ad&&q.isBoolean(ae)){Y=ae}else{if(Z===ad&&W===ad&&q.isFunction(ae)){Z=ae
}}}}}})}}this.options=this.options||{};this.options.storage=this.options.storage||{};
if(!q.isArray(this.options.cancellers)){this.options.cancellers=[]}if(!q.isArray(this.options.stoppers)){this.options.stoppers=[]
}if(!q.isNumeric(ab)){if(this.options.speed!==ad&&q.isNumeric(this.options.speed)){ab=this.options.speed-0
}else{ab=ac.speed}}if(!q.isFunction(W)){W=ac.canceller}if(!q.isFunction(Z)){Z=ac.stopper
}if(!q.isBoolean(Y)){if(this.options.async!==ad&&q.isBoolean(this.options.async)){Y=this.options.async
}else{Y=ac.async}}k(this.options,{speed:ab-0,async:Y});if(q.isFunction(W)){this.options.cancellers.push(W)
}if(q.isFunction(Z)){this.options.stoppers.push(Z)}return this}function P(W){var X;
while(this.options[W]&&this.options[W].length){X=this.options[W].shift();if(q.isFunction(X)){X.call(this)
}}}k(q.Deferred,{extendSpeeds:function(ab,Z,W,Y){var aa=function(ac,ad){return function(){var ag={},ae=arguments,af=ae.callee;
ae=E(ae);I.call(ag,ae,{speed:ad,canceller:q.Deferred.defaults.canceller,stopper:q.Deferred.defaults.stopper,async:q.Deferred.defaults.async});
ag.speedName=ac;ae.unshift(ag);return W.apply(af.instance,ae)}},X={};e(Y,function(ad,ac){X[ac]=aa(ac,ad)
});return k(ab[Z],X)}});k(q.Internal,{referSpeeds:k(function(W){var X=arguments.callee,Z,Y;
if(W&&this.forEach.fast.instance!==this){for(Z in X.props){if(Z in this&&this[Z]){for(Y in X.speeds){if(Y in W&&Y in this[Z]&&this[Z][Y]){this[Z][Y].instance=this
}}}}}},{props:{forEach:true,repeat:true,forEver:true,iterate:true,items:true,zip:true,map:true,filter:true,reduce:true,every:true,some:true},speeds:{limp:0,doze:1,slow:2,normal:3,fast:4,rapid:5,ninja:6}})});
q.Deferred.extendSpeeds(q,"Deferred",function(W){return q.Deferred(W)},q.Deferred.speeds)
}());(function(){k(q.Deferred,{isDeferred:q.isDeferred,succeed:function(){var I=new q.Deferred();
I.begin.apply(I,arguments);return I},failure:function(){var I=new q.Deferred();I.raise.apply(I,arguments);
return I},wait:function(K,I){var L,J=new q.Deferred({canceller:function(){try{q.Internal.clearTimeout(L)
}catch(M){}}});if(arguments.length>=2){J.then(function(){return I})}L=q.Internal.setTimeout(function(){J.begin()
},Math.floor(((K-0)||0)*1000));return J},callLater:function(J,K){var I=E(arguments,2);
return q.Deferred.wait(J).then(function(){if(q.isDeferred(K)){return K.begin.apply(K,I)
}else{if(q.isFunction(K)){return K.apply(K,I)}else{return K}}})},callLazy:function(J){var I=E(arguments,1);
return q.Deferred.begin(function(){if(q.isDeferred(J)){return J.begin.apply(J,I)}else{if(q.isFunction(J)){return J.apply(J,I)
}else{return J}}})},maybeDeferred:function(J){var I;if(q.isDeferred(J)){if(q.Deferred.isFired(J)){I=J
}else{I=J.begin()}}else{if(q.isError(J)){I=q.Deferred.failure(J)}else{I=q.Deferred.succeed(J)
}}return I},isFired:function(I){return q.isDeferred(I)&&((I.state&q.Deferred.states.fired)!==0)
},lastResult:function(J,M){var I,K=arguments,L;if(q.isDeferred(J)){try{L=q.Deferred.states[q.Deferred.states.success];
if(K.length<=1){I=J.results[L]}else{J.results[L]=M;I=J}}catch(N){}}return I},lastError:function(J,M){var I,K=arguments,L;
if(q.isDeferred(J)){try{L=q.Deferred.states[q.Deferred.states.failure];if(K.length<=1){I=J.results[L]
}else{if(!q.isError(M)){M=new Error(M)}J.results[L]=M;I=J}}catch(N){}}return I},register:function(){var I,L=q.Deferred.fn,K=E(arguments),J;
I=0;J=[];switch(K.length){case 0:break;case 1:if(q.isObject(K[0])){e(K[0],function(N,M){if(q.isFunction(N)&&q.isString(M)){J.push([M,N])
}else{if(q.isFunction(M)&&q.isString(N)){J.push([N,M])}}})}break;case 2:default:if(q.isFunction(K[0])){J.push([K[1],K[0]])
}else{J.push([K[0],K[1]])}break}if(J&&J.length){e(J,function(P){var N={},M,O,Q;if(P&&P.length>=2&&q.isFunction(P[1])){M=v(P[0],true);
O=P[1];Q=function(){var R={};R.inputs=arguments;return this.then(function(){R.results=arguments;
return O.call(this,R)})};N[M]=Q;k(L,N);I++}})}return I},unregister:function(){var I,K=q.Deferred.fn,J=E(arguments),L;
I=0;if(J.length>1){L=J}else{L=J[0]}e(E(L),function(M){try{delete K[M];I++}catch(N){}});
return I},deferrize:function(J,O){var I=arguments,M,K,L;try{switch(I.length){case 0:throw false;
case 1:M=J;break;case 2:default:if(q.isObject(O)){K=O;M=J}else{M=O;K=J}break}if(!M){throw M
}}catch(N){L=N;throw (q.isError(L)?L:new Error(L))}return function(){var Q=this,P=E(arguments),R=new q.Deferred();
R.then(function(){var T,S,X=[],U=false,V,Y=q.Deferred.isFired;T=new q.Deferred();
e(P,function(Z){if(q.isFunction(Z)){X.push(function(){var aa,ac;try{aa=Z.apply(Q,arguments)
}catch(ab){ac=ab;if(!Y(T)){T.raise(ac)}}finally{if(!Y(T)){T.begin(aa)}}if(ac!=null){throw ac
}return aa});U=true}else{X[X.length]=Z}});try{S=H(K,M,X)}catch(W){V=W;if(!U&&!Y(T)){T.raise(V)
}}finally{if(!U&&!Y(T)){T.begin(S)}}if(V!=null){throw q.isError(V)?V:new Error(V)
}return T}).begin();return R}},update:function(){var J=q.Deferred,I=E(arguments);
I.unshift(J);return k.apply(J,I)}});k(q.Deferred,{begin:function(I){var M,J=E(arguments,1),L,K;
M=new q.Deferred();L=(I&&q.isFunction(I));if(L){M.then(function(){return I.apply(this,J)
})}else{K=I}q.Internal.callInBackground.flush(function(){M.begin(K)});return M},flush:function(J){var I=E(arguments,1);
return q.Deferred.begin(function(){if(q.isDeferred(J)){return J.begin.apply(J,I)}else{if(q.isFunction(J)){return J.apply(this,I)
}else{return J}}})},till:function(K){var L=new q.Deferred(),J=E(arguments,1),I=13;
return q.Deferred.begin(function(){var N=this,M=arguments.callee,O=c();if(K&&!K.apply(this,J)){q.Internal.setTimeout(function(){M.call(N)
},Math.min(1000,I+(c()-O)))}else{L.begin()}return L})},parallel:function(N){var I,K=arguments,O,M,J,L;
if(K.length===0){I=q.Deferred.succeed()}else{if(K.length===1){if(q.isObject(N)){M=N
}else{M=E(N)}}else{M=E(K)}I=new q.Deferred({canceller:function(){e(M,function(P){if(q.isDeferred(P)){P.cancel()
}})}});O=new q.Deferred();L=[];J=q.isObject(M)?{}:[];e(M,function(P,Q){var R;if(q.isDeferred(P)){R=P
}else{if(q.isFunction(P)){R=new q.Deferred();R.then(function(){var S=P();if(q.isDeferred(S)&&S.state===q.Deferred.states.unfired){S.begin()
}return S})}else{R=q.Deferred.succeed(P)}}if(!q.isDeferred(R)){R=q.Deferred.maybeDeferred(R)
}L[L.length]=Q;O.then(function(){if(R.state===q.Deferred.states.unfired){q.Deferred.flush(R)
}R.then(function(S){if(L.length){J[Q]=S;L.pop();if(L.length===0){I.begin(J)}}},function(S){L=[];
I.raise(S)})})});q.Deferred.flush(O)}return I},chain:(function(){var I={funcName:/^\s*[()]*\s*function\s*([^\s()]+)/,rescue:/rescue|raise|err|fail/i};
return function(){var K=arguments,J=K.length,M,L=new q.Deferred();if(J>0){M=E((J===1)?K[0]:K);
e(M,function(P){var N;if(q.isFunction(P)){try{N=P.toString().match(I.funcName)[1]
}catch(O){}if(N&&I.rescue.test(N)){L.rescue(P)}else{L.then(P)}}else{if(q.isDeferred(P)){L.then(function(Q){if(P.state===q.Deferred.states.unfired){P.begin(Q)
}return P})}else{if(q.isObject(P)||q.isArray(P)){L.then(function(){return q.Deferred.parallel(P)
})}else{if(q.isError(P)){L.then(function(){throw P})}else{L.then(function(){return P
})}}}}})}q.Deferred.callLazy(L);return L}}())});q.Deferred.extendSpeeds(q.Deferred,"begin",function(I,P){var N,J,O=E(arguments,2),K,M,L,Q;
K=(P&&q.isFunction(P));M=I.options||I||{};if(!M.cancellers){M.cancellers=[]}M.cancellers.push(function(){try{if(J!=null){q.Internal.clearTimeout(J)
}}catch(R){}});N=new q.Deferred(M);if(K){N.then(function(){return P.apply(this,O)
})}else{Q=P}L=(((I.options&&I.options.speed)||I.speed)-0)||0;if(q.isNumeric(L)&&L>0){J=q.Internal.setTimeout(function(){N.begin(Q)
},L)}else{q.Internal.callInBackground.flush(function(){N.begin(Q)})}return N},q.Deferred.speeds);
q.Deferred.extendSpeeds(q.Deferred,"flush",function(K,N){var L,J,M,I=E(arguments,2);
L=K.options?K.options.speed:K.speed;if(L in q.Deferred.speeds&&q.isString(q.Deferred.speeds[L])){J=q.Deferred.speeds[L]
}else{e(q.Deferred.speeds,function(P,O){if(P==L){J=O;throw q.StopIteration}})}if(J&&J in q.Deferred.begin){M=q.Deferred.begin[J]
}else{M=q.Deferred.begin}return M(function(){if(q.isDeferred(N)){return N.begin.apply(N,I)
}else{if(q.isFunction(N)){return N.apply(this,I)}else{return N}}})},q.Deferred.speeds);
q.update({succeed:q.Deferred.succeed,failure:q.Deferred.failure,wait:q.Deferred.wait,callLater:q.Deferred.callLater,callLazy:q.Deferred.callLazy,maybeDeferred:q.Deferred.maybeDeferred,isFired:q.Deferred.isFired,lastResult:q.Deferred.lastResult,lastError:q.Deferred.lastError,register:q.Deferred.register,unregister:q.Deferred.unregister,deferrize:q.Deferred.deferrize,begin:q.Deferred.begin,flush:q.Deferred.flush,till:q.Deferred.till,parallel:q.Deferred.parallel,chain:q.Deferred.chain})
}());k(q.Internal,{LightIterator:k(function(J,K,I){return new q.Internal.LightIterator.prototype.doit(J,K,I)
},{speeds:{limp:-1,doze:0,slow:2,normal:5,fast:12,rapid:36,ninja:60},delays:{limp:1000,doze:100,slow:13,normal:0,fast:0,rapid:0,ninja:0},types:{forLoop:1,forInLoop:2,repeat:4,forEver:8,iterate:16,items:32,zip:64}})});
k(q.Internal.LightIterator,{defaults:{speed:q.Internal.LightIterator.speeds.normal},revSpeeds:{}});
e(q.Internal.LightIterator.speeds,function(J,I){q.Internal.LightIterator.revSpeeds[J]=I
});q.Internal.LightIterator.fn=q.Internal.LightIterator.prototype=k(q.Internal.LightIterator.prototype,{constructor:q.Internal.LightIterator,interval:q.Internal.LightIterator.defaults.speed,iter:null,result:null,deferred:null,revDeferred:null,isDeferStopIter:false,time:{},waiting:false,restable:false,async:false,options:null,doit:function(J,K,I){this.setOptions(I);
this.execute(J,K);this.watch();return this},setOptions:function(I){this.options=I||{};
this.setInterval();this.setAsync()},setInterval:function(){var I=null;if(q.isNumeric(this.options.interval)){I=this.options.interval-0
}else{if(this.options.interval in q.Internal.LightIterator.speeds){I=q.Internal.LightIterator.speeds[this.options.interval]-0
}}if(I!==null&&!isNaN(I)){this.interval=I}if(!q.isNumeric(this.interval)){this.interval=q.Internal.LightIterator.defaults.speed
}},setAsync:function(){var I=null;if(this.options.async!==h){I=!!this.options.async
}if(I!==null){this.async=!!I}if(!q.isBoolean(this.async)){this.async=!!this.async
}},createDeferred:function(){return new q.Deferred({async:false})},watch:function(){var I=this;
if(!this.async&&this.waiting===true&&q.System.isWaitable){q.XPCOM.throughout(function(){return I.waiting!==true
})}},execute:function(I,L){var K,J=this;this.waiting=true;if(!I){this.result={};this.waiting=false
}else{this.waiting=true;this.restable=true;this.time={start:c(),total:null,loop:null,diff:null,risk:null,axis:null,count:1,rest:100,limit:255};
this.setIter(I,L);if(!this.async&&!q.System.isWaitable){this.revback();this.waiting=false
}else{K=this.createDeferred();K.then(function(){var N=J.createDeferred(),M=J.createDeferred();
N.then(function(){return J.revolve().then(function(){M.begin()})}).begin();return M
}).ensure(function(){J.waiting=false});if(this.async){this.deferred=K.then(function(){if(q.isDeferred(J.result)&&q.isStopIter(q.Deferred.lastError(J.result))){J.result=q.Deferred.lastResult(J.result)
}return J.result})}this.flush(K)}}},setIter:function(I,M){var L=this.options.type,K=q.Internal.LightIterator.types,J=this.options.context;
if((L&K.iterate)===K.iterate){this.result=null;this.iter=this.iterate(I,M,J)}else{if((L&K.forEver)===K.forEver){this.result={};
this.iter=this.forEver(I,J)}else{if((L&K.repeat)===K.repeat){this.result={};this.iter=this.repeat(I,M,J)
}else{if((L&K.items)===K.items){this.result=[];this.iter=this.items(I,M,J)}else{if((L&K.zip)===K.zip){this.result=[];
this.iter=this.zip(I,M,J)}else{if(q.isArrayLike(I)){this.result=I;this.iter=this.forLoop(I,M,J)
}else{this.result=I;this.iter=this.forInLoop(I,M,J)}}}}}}},revback:function(){var L=this,I,K,J=false,N;
this.time.loop=c();REVOLVE:{do{try{if(this.isDeferStopIter){this.isDeferStopIter=false;
throw q.StopIteration}I=this.iter.next()}catch(M){K=M;if(q.isStopIter(K)){break REVOLVE
}throw K}if(this.async&&q.isDeferred(I)){return I.ensure(function(O){if(O!==h){if(q.isError(O)){if(q.isStopIter(O)){L.isDeferStopIter=true;
if(q.isDeferred(L.result)&&q.isStopIter(q.Deferred.lastError(L.result))){L.result=q.Deferred.lastResult(L.result)
}}else{q.Deferred.lastError(this,O)}}else{q.Deferred.lastResult(this,O)}}L.flush(L.revback,true)
})}N=c();if(q.System.isWaitable){if(this.time.total===null){this.time.total=N}else{if(N-this.time.total>=this.time.rest){q.XPCOM.throughout(0);
this.time.total=c()}}}else{if(!this.async){if(this.restable&&this.time.count>=this.time.limit){this.restable=false
}}}this.time.risk=N-this.time.start;this.time.diff=N-this.time.loop;if(this.time.diff>=this.interval){if(this.async&&this.interval<q.Internal.LightIterator.speeds.normal){J=true
}else{if(this.async||this.restable||q.System.isWaitable){if(this.time.diff<this.interval+8){this.time.axis=2
}else{if(this.time.diff<this.interval+36){this.time.axis=5}else{if(this.time.diff<this.interval+48){this.time.axis=7
}else{this.time.axis=10}}}if(this.time.axis>=10||(Math.random()*10<this.time.axis)){J=true
}}}}}while(!J);if(this.time.count<=this.time.limit){this.time.count++}return this.flush(this.revback,true)
}if(q.isDeferred(this.revDeferred)){this.revDeferred.begin()}},revolve:function(){var I=this,J=this.createDeferred(),K=this.createDeferred();
J.then(function(){var L=I.createDeferred();I.revDeferred=I.createDeferred();L.then(function(){return I.revback()
}).begin();return I.revDeferred}).ensure(function(L){K.begin();if(q.isError(L)){throw L
}});this.flush(J);return K},flush:function(O,L){var J=this,N,I=false,K,M;if(this.async||q.System.isWaitable){I=true
}if(!I&&q.isFunction(O)){return O.call(this)}else{N=this.createDeferred();N.then(function(){if(q.isDeferred(O)){O.begin()
}else{O.call(J)}});if(I){K=0;if(L){M=q.Internal.LightIterator.revSpeeds[this.interval];
if(M&&q.isNumeric(q.Internal.LightIterator.delays[M])){K=q.Internal.LightIterator.delays[M]
}if(Math.random()*10<Math.max(2,(this.time.axis||2)/2.75)){K+=Math.min(this.time.rest,Math.max(1,Math.ceil((this.time.risk/(this.time.rest+this.time.diff))+this.time.diff)))
}}q.Internal.setTimeout(function(){N.begin()},K)}else{N.begin()}return(void 0)}},noop:function(){return{next:function(){throw q.StopIteration
}}},forEver:function(K,J){var I=0;if(!q.isFunction(K)){return this.noop()}return{next:function(){var L=K.call(J,I);
try{if(!isFinite(++I)||I>=Number.MAX_VALUE){throw 0}}catch(M){I=0}return L}}},repeat:function(I,O,L){var K,J,N,M;
if(!q.isFunction(O)){return this.noop()}if(!I||I==null){N=0}else{if(q.isNumeric(I)){N=I-0
}else{N=I||{};if(q.isNumeric(N.start)){N.begin=N.start}if(q.isNumeric(N.stop)){N.end=N.stop
}}}J={begin:q.isNumeric(N.begin)?N.begin-0:0,end:q.isNumeric(N.end)?N.end-0:(N||0)-0,step:q.isNumeric(N.step)?N.step-0:1,last:false,prev:null};
K=J.step?J.begin:J.end;M=J.end-J.step;return{next:function(){var P;if(K<J.end){J.last=(K>=M);
P=O.call(L,K,J.last,J);J.prev=P}else{throw q.StopIteration}K+=J.step;return P}}},forLoop:function(I,M,K){var L,J=0;
if(!I||!I.length||!q.isFunction(M)){return this.noop()}L=E(I);return{next:function(){var P,N;
while(true){if(J>=L.length){throw q.StopIteration}if(!(J in L)){J++;continue}try{P=L[J]
}catch(O){J++;continue}N=M.call(K,P,J,I);J++;return N}}}},forInLoop:function(I,M,K){var L,J=0;
if(q.isFunction(M)){L=[];e(I,function(N,O){L[L.length]=[N,O]})}if(!L||!L.length){return this.noop()
}return{next:function(){var N,R,O,Q;while(true){if(J>=L.length){throw q.StopIteration
}if(!(J in L)){J++;continue}try{R=L[J];Q=R[0];O=R[1]}catch(P){J++;continue}N=M.call(K,Q,O,I);
J++;return N}}}},iterate:function(I,M,J){var K=this,L;if(q.isIterable(I)&&!q.isIter(I)){if(q.isFunction(M)){return{next:function(){var N=I.next();
K.result=M.apply(J,E(N));return K.result}}}else{return{next:function(){K.result=I.next();
return K.result}}}}else{L=q.Iter.toIter(I);if(!q.isIter(L)){return this.noop()}if(q.isFunction(M)){return{next:function(){var N=L.next();
N=E(N);while(N.length<2){N.push((void 0))}N.push(I);K.result=M.apply(J,N);return K.result
}}}else{return{next:function(){K.result=L.next();return K.result}}}}},items:function(I,O,K){var L=this,N,J=0,M;
if(q.isObject(I)){N=[];e(I,function(P,Q){N[N.length]=[Q,P]});M=true}else{if(q.isArrayLike(I)){N=E(I)
}}if(!N||!N.length){return this.noop()}if(q.isFunction(O)){return{next:function(){var P,T,Q,S;
while(true){if(J>=N.length){throw q.StopIteration}if(!(J in N)){J++;continue}try{T=N[J];
if(M){Q=T[0];S=T[1]}else{Q=J;S=T}}catch(R){J++;continue}P=O.call(K,[Q,S],I);J++;L.result[L.result.length]=P;
return P}}}}else{return{next:function(){var S,R,Q,P;while(true){if(J>=N.length){throw q.StopIteration
}if(!(J in N)){J++;continue}try{R=N[J];if(M){Q=R[0];P=R[1]}else{Q=J;P=R}}catch(T){J++;
continue}J++;S=[Q,P];L.result[L.result.length]=S;return S}}}}},zip:function(J,O,L){var M=this,N,K=0,I;
if(q.isArrayLike(J)){N=E(J);I=N.length}if(!I||!N||!N.length){return this.noop()}if(q.isFunction(O)){return{next:function(){var P,R=[],Q,S;
for(Q=0;Q<I;Q++){S=E(N[Q]);if(!S||!S.length||K>=S.length){throw q.StopIteration}R[R.length]=S[K]
}P=O.call(L,R,J);M.result[M.result.length]=P;K++;return P}}}else{return{next:function(){var R=[],P,Q;
for(P=0;P<I;P++){Q=E(N[P]);if(!Q||!Q.length||K>=Q.length){throw q.StopIteration}R[R.length]=Q[K]
}M.result[M.result.length]=R;K++;return R}}}}});q.Internal.LightIterator.prototype.doit.prototype=q.Internal.LightIterator.prototype;
k(q.Internal.LightIterator,{QuickIteration:{resolve:function(I){var J;try{while(true){I.next()
}}catch(K){J=K;if(!q.isStopIter(J)){throw J}}},forEach:function(K,N,L){var I,J,M=q.Internal.LightIterator.fn;
if(!K){I={}}else{I=K;if(q.isArrayLike(K)){J=M.forLoop(K,N,L)}else{J=M.forInLoop(K,N,L)
}q.Internal.LightIterator.QuickIteration.resolve(J)}return I},repeat:function(J,N,L){var I={},K,M=q.Internal.LightIterator.fn;
if(J){K=M.repeat(J,N,L);q.Internal.LightIterator.QuickIteration.resolve(K)}return I
},forEver:function(M,K){var I={},J,L=q.Internal.LightIterator.fn;if(M){J=L.forEver(M,K);
q.Internal.LightIterator.QuickIteration.resolve(J)}return I},iterate:function(K,O,L){var I,J,N,M=q.Internal.LightIterator.fn;
if(!K){I={}}else{I=null;N={noop:M.noop,result:null};J=M.iterate.call(N,K,O,L);q.Internal.LightIterator.QuickIteration.resolve(J);
I=N.result}return I},items:function(K,O,L){var I=[],J,N,M=q.Internal.LightIterator.fn;
if(K){N={noop:M.noop,result:[]};J=M.items.call(N,K,O,L);q.Internal.LightIterator.QuickIteration.resolve(J);
I=N.result}return I},zip:function(K,O,L){var I=[],J,N,M=q.Internal.LightIterator.fn;
if(K){N={noop:M.noop,result:[]};J=M.zip.call(N,K,O,L);q.Internal.LightIterator.QuickIteration.resolve(J);
I=N.result}return I}}});k(q.tmp,{createLightIterateConstructor:function(M){var K,L=function(O){var N;
if(q.Internal.LightIterator.speeds[O]===h){N=q.Internal.LightIterator.defaults.speed
}else{N=q.Internal.LightIterator.speeds[O]}return M(N)},J={},I=L();for(K in q.Internal.LightIterator.speeds){J[K]=L(K)
}return k(I,J)}});q.update({forEach:q.tmp.createLightIterateConstructor(function(I){if(q.System.isWaitable&&I<q.Internal.LightIterator.speeds.normal){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.forLoop|q.Internal.LightIterator.types.forInLoop;
L.interval=I;L.async=false;L.context=K;return(new q.Internal.LightIterator(J,M,L)).result
}}else{return function(J,L,K){return q.Internal.LightIterator.QuickIteration.forEach(J,L,K)
}}}),repeat:q.tmp.createLightIterateConstructor(function(I){if(q.System.isWaitable&&I<q.Internal.LightIterator.speeds.normal){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.repeat;L.interval=I;L.async=false;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).result}}else{return function(J,L,K){return q.Internal.LightIterator.QuickIteration.repeat(J,L,K)
}}}),forEver:q.tmp.createLightIterateConstructor(function(I){if(q.System.isWaitable&&I<q.Internal.LightIterator.speeds.normal){return function(L,J){var K={};
K.type=q.Internal.LightIterator.types.forEver;K.interval=I;K.async=false;K.context=J;
return(new q.Internal.LightIterator(L,null,K)).result}}else{return function(K,J){return q.Internal.LightIterator.QuickIteration.forEver(K,J)
}}}),iterate:q.tmp.createLightIterateConstructor(function(I){if(q.System.isWaitable&&I<q.Internal.LightIterator.speeds.normal){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.iterate;L.interval=I;L.async=false;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).result}}else{return function(J,L,K){return q.Internal.LightIterator.QuickIteration.iterate(J,L,K)
}}}),items:q.tmp.createLightIterateConstructor(function(I){if(q.System.isWaitable&&I<q.Internal.LightIterator.speeds.normal){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.items;L.interval=I;L.async=false;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).result}}else{return function(J,L,K){return q.Internal.LightIterator.QuickIteration.items(J,L,K)
}}}),zip:q.tmp.createLightIterateConstructor(function(I){if(q.System.isWaitable&&I<q.Internal.LightIterator.speeds.normal){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.zip;L.interval=I;L.async=false;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).result}}else{return function(J,L,K){return q.Internal.LightIterator.QuickIteration.zip(J,L,K)
}}})});k(q.Deferred,{forEach:q.tmp.createLightIterateConstructor(function(I){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.forLoop|q.Internal.LightIterator.types.forInLoop;
L.interval=I;L.async=true;L.context=K;return(new q.Internal.LightIterator(J,M,L)).deferred
}}),repeat:q.tmp.createLightIterateConstructor(function(I){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.repeat;L.interval=I;L.async=true;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).deferred}}),forEver:q.tmp.createLightIterateConstructor(function(I){return function(L,J){var K={};
K.type=q.Internal.LightIterator.types.forEver;K.interval=I;K.async=true;K.context=J;
return(new q.Internal.LightIterator(L,null,K)).deferred}}),iterate:q.tmp.createLightIterateConstructor(function(I){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.iterate;L.interval=I;L.async=true;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).deferred}}),items:q.tmp.createLightIterateConstructor(function(I){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.items;L.interval=I;L.async=true;L.context=K;
return(new q.Internal.LightIterator(J,M,L)).deferred}}),zip:q.tmp.createLightIterateConstructor(function(I){return function(J,M,K){var L={};
L.type=q.Internal.LightIterator.types.zip;L.interval=I;L.async=true;L.context=K;return(new q.Internal.LightIterator(J,M,L)).deferred
}})});delete q.tmp.createLightIterateConstructor;q.update({Iter:function(){return q.isIter(this)?this.init(arguments):new q.Iter.fn.init(arguments)
}});q.Iter.fn=q.Iter.prototype=k(q.Iter.prototype,{constructor:q.Iter,id:q.Internal.getMagicNumber(),serial:null,NAME:"Iter",toString:q.toString,isIter:q.isIter,init:function(I){if(!this.serial){this.serial=m(this)
}return this},next:function(){throw q.StopIteration}});q.Iter.prototype.init.prototype=q.Iter.prototype;
k(q.Iter,{StopIteration:q.StopIteration,toIter:function(J){var K,M,I,L;if(q.isIter(J)){return J
}I=J&&q.isArrayLike(J);L=J&&!I&&q.isObject(J);if(L){M=[];e(J,function(N,O){M[M.length]=[N,O]
})}else{M=E(J)}K=new q.Iter();K.next=(function(){var N=0;if(L){return function(){var O,R,Q;
while(true){if(N>=M.length){throw q.StopIteration}if(!(N in M)){N++;continue}try{O=M[N][1];
R=M[N][0]}catch(P){N++;continue}Q=[R,O];N++;return Q}}}else{return function(){var P,O;
while(true){if(N>=M.length){throw q.StopIteration}if(!(N in M)){N++;continue}try{P=M[N]
}catch(Q){N++;continue}O=[P,N];N++;return O}}}}());return K},forEach:function(){return q.iterate.apply(null,arguments)
},map:function(K,O,I){var P,Q,M,N,L,J;N=this&&this.iterateSpeed;Q=K&&q.isArrayLike(K);
M=K&&!Q&&q.isObject(K);if(Q){P=[]}else{if(M){P={}}else{P=null}}J=N||this&&this.iterateSpeedSync||q.iterate;
L=function(){return J(K,function(U,S,T){var R=O.call(I,U,S,T);if(q.isDeferred(R)){return R.then(function(V){if(Q){P[P.length]=V
}else{if(M){P[S]=V}else{P=V}}})}else{if(Q){P[P.length]=R}else{if(M){P[S]=R}else{P=R
}}}},I)};if(N){return L().then(function(){return P})}else{L();return P}},filter:(function(){var I=function(J){return J
};return function(M,Q,J){var R,S,O,P,N,K,L;L=Q||I;P=this&&this.iterateSpeed;S=M&&q.isArrayLike(M);
O=M&&!S&&q.isObject(M);if(S){R=[]}else{if(O){R={}}else{R=null}}K=P||this&&this.iterateSpeedSync||q.iterate;
N=function(){return K(M,function(W,U,V){var T=L.call(J,W,U,V);if(q.isDeferred(T)){return T.then(function(X){if(X){if(S){R[R.length]=W
}else{if(O){R[U]=W}else{R=W}}}})}else{if(T){if(S){R[R.length]=W}else{if(O){R[U]=W
}else{R=W}}}}},J)};if(P){return N().then(function(){return R})}else{N();return R}}
}()),reduce:function(K,R,N,I){var S,M,P,Q,O,L,J;O=this&&this.iterateSpeed;S=K&&q.isArrayLike(K);
M=K&&!S&&q.isObject(K);if(N===h){P=(function(){var T;if(S||M){e(K,function(U){T=U;
throw q.StopIteration})}return T}())}else{P=N}Q=true;J=O||this&&this.iterateSpeedSync||q.iterate;
L=function(){return J(K,function(W,U,V){var T;if(Q){Q=false}else{T=R.call(I,P,W,U,V);
if(q.isDeferred(T)){return T.then(function(X){P=X})}else{P=T}}},I)};if(O){return L().then(function(){return P
})}else{L();return P}},every:function(J,O,K){var I=true,N,L,M;N=this&&this.iterateSpeed;
M=N||this&&this.iterateSpeedSync||q.iterate;L=function(){return M(J,function(S,Q,R){var P=O.call(K,S,Q,R);
if(q.isDeferred(P)){return P.then(function(T){if(!T){I=false;throw q.StopIteration
}})}else{if(!P){I=false;throw q.StopIteration}}},K)};if(N){return L().then(function(){return I
})}else{L();return I}},some:function(J,O,K){var I=false,N,L,M;N=this&&this.iterateSpeed;
M=N||this&&this.iterateSpeedSync||q.iterate;L=function(){return M(J,function(S,Q,R){var P=O.call(K,S,Q,R);
if(q.isDeferred(P)){return P.then(function(T){if(T){I=true;throw q.StopIteration}})
}else{if(P){I=true;throw q.StopIteration}}},K)};if(N){return L().then(function(){return I
})}else{L();return I}},range:function(){var N=arguments,P,Q=[],K=0,L=0,J=1,I,M,O;
switch(N.length){case 0:return(void 0);case 1:P=N[0];if(q.isObject(P)){if("begin" in P){K=P.begin
}else{if("start" in P){K=P.start}}if("end" in P){L=P.end}else{if("stop" in P){L=P.stop
}}if("step" in P){J=P.step}}else{L=P}break;case 2:K=N[0];L=N[1];break;case 3:default:K=N[0];
L=N[1];J=N[2];break}if(q.isString(K)&&K.length===1&&q.isString(L)&&L.length===1){K=K.charCodeAt(0)||0;
L=L.charCodeAt(0)||0;M=true}else{K=K-0;L=L-0;M=false}J=J-0;if(isNaN(K)||isNaN(L)||isNaN(J)||J==0){return Q
}if((J>0&&K>L)||(J<0&&K<L)){I=K;K=L;L=I}O=new q.Iter();O.next=function(){if((J>0&&K>L)||(J<0&&K<L)){throw q.StopIteration
}Q[Q.length]=M?F(K):K;K+=J};q.iterate(O);return Q},indexOf:function(K,R,S){var V=-1,N,O,I,M,Q=arguments,T=Q.length,U=K&&q.isArrayLike(K),L=K&&!U&&q.isObject(K);
if(U){try{if(q.System.isBuiltinArrayIndexOf){N=b.apply(K,E(Q,1));if(q.isNumeric(N)){V=N
}else{throw N}}else{throw N}}catch(J){O=(K&&K.length)||0;N=(+S)||0;N=(N<0)?Math.ceil(N):Math.floor(N);
if(N<0){N+=O}for(;N<O;N++){try{if(N in K){I=K[N];if(I===R){V=N;break}}}catch(P){continue
}}}}else{if(L){M=false;e(K,function(W,X){if(!M&&T>=3&&S!==X){return}else{M=true}if(W===R){V=X
}})}else{if(K!=null){try{I=(K.toString&&K.toString())||String(K);V=String.prototype.indexOf.apply(I,E(Q,1))
}catch(P){V=-1}}else{V=-1}}}return V},lastIndexOf:function(L,S,T){var W=-1,O,P,U,J,N,I,R=arguments,V=L&&q.isArrayLike(L),M=L&&!V&&q.isObject(L);
if(V){try{if(q.System.isBuiltinArrayLastIndexOf){O=B.apply(L,E(R,1));if(q.isNumeric(O)){W=O
}else{throw O}}else{throw O}}catch(K){P=(L&&L.length)||0;O=(+T);if(isNaN(O)){O=P-1
}else{O=(O<0)?Math.ceil(O):Math.floor(O);if(O<0){O+=P}else{if(O>=P){O=P-1}}}for(;
O>-1;O--){try{if(O in L){J=L[O];if(J===S){W=O;break}}}catch(Q){continue}}}}else{if(M){I=[];
N=false;e(L,function(X,Y){I[I.length]=[Y,X];if(X===S){W=Y}if(Y===T){N=true;throw q.StopIteration
}});if(N){W=-1;P=I.length;while(--P>=0){U=I[P][0];J=I[P][1];if(J===S){W=U;break}}}}else{if(L!=null){try{J=(L.toString&&L.toString())||String(L);
W=String.prototype.lastIndexOf.apply(J,E(R,1))}catch(Q){W=-1}}else{W=-1}}}return W
}});q.update({toIter:q.Iter.toIter});k(q.tmp,{createIterators:function(I){e(I,function(J){var K={};
K[J.NAME]=function(){var M={},L=E(arguments);M.iterateSpeed=(this&&this.iterateSpeed)||q.Deferred.iterate;
return q.Deferred.begin(function(){var N=new q.Deferred();J.method.apply(M,L).then(function(O){N.begin(O)
},function(O){N.raise(O)});return N})};k(q.Deferred,K);q.Deferred.extendSpeeds(q.Deferred,J.NAME,function(N){var M={},L=E(arguments,1);
M.iterateSpeed=q.Deferred.iterate[N.speedName];return q.Deferred.begin(function(){var O=new q.Deferred();
J.method.apply(M,L).then(function(P){O.begin(P)},function(P){O.raise(P)});return O
})},q.Internal.LightIterator.speeds)})},createProtoIterators:function(I){e(I,function(J){var L={},K={};
L[J.NAME]=function(){var N=E(arguments),M=k({},this.options);return this.then(function(O){var P=new q.Deferred();
N=J.args(O,N);J.method.apply(J.context,N).ensure(function(Q){a(P,M);if(q.isError(Q)){P.raise(Q)
}else{P.begin(Q)}});return P})};k(q.Deferred.fn,L);if(J.speed){if(J.iterable){K.methods=function(M){return{iter:J.iterable[M],context:J.context}
}}else{K.methods=function(M){return{iter:J.method,context:{iterateSpeed:J.context.iterateSpeed[M]}}
}}q.Deferred.extendSpeeds(q.Deferred.fn,J.NAME,function(O){var P,N,M=E(arguments,1);
P=K.methods(O.speedName);N=k({},this.options);return this.then(function(Q){var R=new q.Deferred();
M=J.args(Q,M);P.iter.apply(P.context,M).ensure(function(S){a(R,N);if(q.isError(S)){R.raise(S)
}else{R.begin(S)}});return R})},q.Internal.LightIterator.speeds)}})},createSyncIterator:function(L){var J,I,K=function(N){var M=N;
if(!M){e(q.Internal.LightIterator.speeds,function(P,O){if(P===q.Internal.LightIterator.defaults.speed){M=O;
throw q.StopIteration}})}return L(M)};I=K();J={};e(q.Internal.LightIterator.speeds,function(N,M){J[M]=K(M)
});return k(I,J)}});q.tmp.createIterators([{NAME:"map",method:q.Iter.map},{NAME:"filter",method:q.Iter.filter},{NAME:"reduce",method:q.Iter.reduce},{NAME:"every",method:q.Iter.every},{NAME:"some",method:q.Iter.some}]);
q.tmp.createProtoIterators([{NAME:"forEach",method:q.Deferred.forEach,context:null,speed:true,iterable:q.Deferred.forEach,args:function(I,J){return[I].concat(J)
}},{NAME:"repeat",method:q.Deferred.repeat,context:null,speed:true,iterable:q.Deferred.repeat,args:function(I,J){if(q.isNumeric(I)){return[I-0].concat(J)
}if(I&&q.isNumber(I.length)){return[I.length].concat(J)}if(I&&q.isObject(I)&&("end" in I||"begin" in I||"step" in I||"stop" in I||"start" in I)){return[I].concat(J)
}return J}},{NAME:"forEver",method:q.Deferred.forEver,context:null,speed:true,iterable:q.Deferred.forEver,args:function(I,J){return J
}},{NAME:"iterate",method:q.Deferred.iterate,context:null,speed:true,iterable:q.Deferred.iterate,args:function(I,J){return[I].concat(J)
}},{NAME:"items",method:q.Deferred.items,context:null,speed:true,iterable:q.Deferred.items,args:function(I,J){return[I].concat(J)
}},{NAME:"zip",method:q.Deferred.zip,context:null,speed:true,iterable:q.Deferred.zip,args:function(I,J){return[I].concat(J)
}},{NAME:"map",method:q.Iter.map,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(I,J){return[I].concat(J)
}},{NAME:"filter",method:q.Iter.filter,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(I,J){return[I].concat(J)
}},{NAME:"reduce",method:q.Iter.reduce,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(I,J){return[I].concat(J)
}},{NAME:"every",method:q.Iter.every,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(I,J){return[I].concat(J)
}},{NAME:"some",method:q.Iter.some,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(I,J){return[I].concat(J)
}}]);q.update({map:q.tmp.createSyncIterator(function(I){return function(){var J={iterateSpeedSync:q.iterate[I]};
return q.Iter.map.apply(J,arguments)}}),filter:q.tmp.createSyncIterator(function(I){return function(){var J={iterateSpeedSync:q.iterate[I]};
return q.Iter.filter.apply(J,arguments)}}),reduce:q.tmp.createSyncIterator(function(I){return function(){var J={iterateSpeedSync:q.iterate[I]};
return q.Iter.reduce.apply(J,arguments)}}),every:q.tmp.createSyncIterator(function(I){return function(){var J={iterateSpeedSync:q.iterate[I]};
return q.Iter.every.apply(J,arguments)}}),some:q.tmp.createSyncIterator(function(I){return function(){var J={iterateSpeedSync:q.iterate[I]};
return q.Iter.some.apply(J,arguments)}}),range:function(){return q.Iter.range.apply(null,arguments)
},indexOf:function(){return q.Iter.indexOf.apply(null,arguments)},lastIndexOf:function(){return q.Iter.lastIndexOf.apply(null,arguments)
}});k(q.Internal,{defineDeferrater:q.tmp.createSyncIterator});(function(){var I=function(N){return new I.prototype.init(N)
},L=m({NAME:".\u0000[~`{{*@:SPEED:@*}}`~]\u0001"}),K={},J=0,M=8192;I.prototype=k(I.prototype,{constructor:I,id:q.Internal.getMagicNumber(),func:null,code:null,tokens:[],uniqs:{},tails:[],iteration:{},init:function(N){this.func=N;
this.code=this.toCode(this.func);this.tokens=[];this.iteration={};this.tails=[];return this
},execute:function(){var O=this,N="";if(this.code){if(this.code in K){N=K[this.code]
}else{this.uniqs={};e("key val ret rev err nxt".split(" "),function(P){O.uniqs[P]=O.generateUniqName({NAME:"$_"+P+"_"})
});this.tokens=this.tokenize(this.code);if(!this.hasIteration(this.tokens)){N=this.func
}else{this.parseLoop();N=this.deferrizeFunction();if(N){if(J<M){K[this.code]=N;J++
}}}}}return N},hasIteration:function(R){var O=false,Q,N,P;if(R){N=R.length;for(Q=0;
Q<N;Q++){P=R[Q];if(P==="for"||P==="while"||P==="do"){O=true;break}}}return O},toCode:function(N){return v((N&&N.toString)?N.toString():(N?(""+N):""))
},isWord:(function(){var N={SPACE:/\s/,WORDS:/[$\w\u0100-\uFFFF]/};return function(O){return O!=null&&!N.SPACE.test(O)&&N.WORDS.test(O)
}}()),isNL:(function(){var N=/\r\n|\r|\n/;return function(O){return O!=null&&N.test(O)
}}()),format:function(){var N=E(arguments);return N[0].replace(/#(\d+)/g,function(O,P){return N[+P]
})},joinTokens:function(S){var V=[],R=S.length,P,U,O,T,Q,N;for(Q=0;Q<R;Q++){N=S[Q];
if(!P){V[V.length]=N}else{O="";T="";if(N==="+"||N==="-"||N==="++"||N==="--"||N==="in"){O=" ";
T=" "}else{if(this.isWord(P.slice(-1))&&this.isWord(N.charAt(0))){O=" "}}if(U===" "){O=""
}V[V.length]=O+N+T}P=N;U=T}return V.join("")},toEnd:function(O){var N;if(q.isArray(O)){N=this.joinTokens(O)
}else{N=v(O)}if(z(N).slice(-1)===";"){return N}return N?N+";":N},generateUniqName:function(O){var N;
do{N=m(O||q,"")}while(~q.indexOf(this.tokens,N));return N},tokenize:(function(){var N={TOKEN:new RegExp("(^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\[\\s\\S]|[^\"\\r\\n\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\r\\n\\\\])*'|/(?![*])(?:\\\\.|[^/\\r\\n\\\\])+/[gimy]{0,4}|<([^\\s>]*)[^>]*>[\\s\\S]*?</\\2>|>>>=?|<<=|===|!==|>>=|[=!<>*+/&|^-]=|[&][&]|[|][|]|[+][+]|[-][-]|<<|>>|[-+/%*=&|^~<>!?:,;@()\\\\[\\].{}]|\\s+|[^\\s+/%*=&|^~<>!?:,;@()\\\\[\\].{}'\"-]+)","g"),NOTSPACE:/[\S\r\n]/,COMMENTS:/^\/{2,}[\s\S]*$|^\/[*][\s\S]*?[*]\/$/};
return function(S){var R=[],O,P,Q=this.toCode(S);if(Q){N.TOKEN.lastIndex=0;while((O=N.TOKEN.exec(Q))!=null){P=O[1];
if(!N.NOTSPACE.test(P)||N.COMMENTS.test(P)){continue}else{R[R.length]=P}}}return R
}}()),parseLoop:function(){var X,V=0,W=[],Q=[],U=0,O=0,N=0,S,R,P,T=this.tokens.length;
for(R=0;R<T;R++){P=this.tokens[R];switch(P){case"for":case"while":case"do":if(!S){S={token:P,org:{level:N,nest:O},cur:{level:N,nest:O}}
}break;case"(":O++;if(S){S.cur.nest++}break;case")":O--;if(S){if(--S.cur.nest===S.org.nest&&S.cur.level===S.org.level&&S.token==="do"){S.last=true
}}break;case"{":N++;if(S){S.cur.level++}break;case"}":N--;if(S){if(--S.cur.level===S.org.level&&S.cur.nest===S.org.nest&&S.token!=="do"){S.last=true
}}break}if(S){if(!(U in W)){W[U]=[];Q[U]={start:R}}W[U][W[U].length]=P;if(S.last){Q[U].end=R;
S=null;U++}}}T=W.length;for(R=0;R<T;R++){if(W[R].length>V){V=R}}this.iteration={loops:W[V],start:Q[V].start,end:Q[V].end};
return X},deferrizeLoop:function(){var N,P=this.iteration.loops,O=P.shift();switch(O){case"for":N=this.parseFor(P);
break;case"while":N=this.parseWhile(P);break;case"do":N=this.parseDoWhile(P);break
}return N},deferrizeFunction:function(){var Y,S,Q,O,R,U=this.tokens.length,W="before",V,X={level:0,block:0},P={before:[],loop:[],after:[],result:[]},T=function(Z){if(!X[Z]){X[Z]={block:X.block,level:X.level}
}},N=function(Z){e(Z?E(Z):["func","cond"],function(aa){if(X[aa]&&X[aa].block===X.block&&X[aa].level===X.level){X[aa]=null
}})};for(R=1;R<U-1;R++){if(R>=this.iteration.start&&R<=this.iteration.end){if(!Q){Q=true;
R=this.iteration.end-1;P.loop=E(this.deferrizeLoop());W="after";if(X.cond){V=true
}}continue}O=this.tokens[R];S=this.tokens[R+1];switch(O){case"{":X.block++;break;
case"}":X.block--;N();break;case"(":X.level++;break;case")":X.level--;if(X.cond&&X.cond.expr&&S==="{"){X.cond.expr=null;
N("func")}else{N()}break;case";":N("result");break;case"function":T("func");break;
case"if":T("cond");X.cond.expr=true;break;case"return":if(!X.func&&!X.result){if(!S||S===";"||this.isNL(S)){O=this.format("#1 #2=void 0#3",O,this.uniqs.ret,(S===";"||this.isNL(S))?"":";")
}else{O=this.format("#1(#2!==#3)?#2:#2=",O,this.uniqs.ret,this.uniqs.rev)}P.result=[];
T("result")}break;default:if(X.result&&this.isNL(O)){N("result")}break}P[W][P[W].length]=O;
if(X.result){P.result[P.result.length]=O}}Y=this.format("#1var #2={},#3=#2,#4={};return Pot.Deferred.begin(function(){#5#6#9});#7#8}).then(function(r){return(#2===#3)?r:#2;});#10",this.tokens.shift(),this.uniqs.ret,this.uniqs.rev,this.uniqs.nxt,this.toEnd(this.joinTokens(P.before)),this.joinTokens(P.loop),this.joinTokens(this.tails),this.joinTokens(V?P.after:[]),this.joinTokens(V?P.result:P.after),this.tokens.pop());
return Y},parseWhile:function(X){var ab="",N=0,O=0,W=false,R,U,Z,Y="cond",T,Q,S,V=X.length,P=false,aa={cond:[],body:[]};
for(S=0;S<V;S++){Q=X[S];U=X[S+1];Z=false;switch(Q){case"(":O++;if(T){T.cur.nest++
}if(S===0&&O===1){Z=true}break;case")":O--;if(T){if(--T.cur.nest===T.org.nest&&T.cur.level===T.org.level&&T.token==="do"){T=null
}}if(!W&&O===0&&N===0&&U==="{"){Z=true}break;case"{":N++;if(T){T.cur.level++}if(N===1&&O===0&&R===")"){Z=true;
W=true;Y="body"}break;case"}":N--;if(T){if(--T.cur.level===T.org.level&&T.cur.nest===T.org.nest&&T.token!=="do"){T=null
}}if(W&&O===0&&N===0){aa.body.unshift(this.format("if(#1!==#2||!(#3)){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev,this.joinTokens(aa.cond)||"false"));
aa.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}",this.uniqs.err,this.uniqs.nxt));
Q+=").then(function(){";P=true}break;case"for":case"while":case"do":T={token:Q,org:{level:N,nest:O},cur:{level:N,nest:O}};
break;case"break":if(!T&&W&&!this.isWord(U)){Q="throw Pot.StopIteration"}break;case"continue":if(!T&&W&&!this.isWord(U)){Q="throw "+this.uniqs.nxt
}break;case"return":if(W){if(!U||U===";"||this.isNL(U)){Q=this.format("#1 #2=void 0#3",Q,this.uniqs.ret,(U===";"||this.isNL(U))?"":";")
}else{Q=this.format("#1 #2=",Q,this.uniqs.ret)}}break}if(!Z){aa[Y][aa[Y].length]=Q
}R=Q}ab="";if(!P){throw new Error("Parse error, expect 'while(...)'")}ab=this.format("return Pot.Deferred.forEver.#1(function(){#2",L,this.joinTokens(aa.body));
return ab},parseDoWhile:function(W){var aa="",N=0,O=0,R,U,X,Y="body",T,Q,S,V=W.length,P=false,Z={cond:[],body:[],after:[]};
for(S=0;S<V;S++){Q=W[S];U=W[S+1];X=false;switch(Q){case"(":O++;if(T){T.cur.nest++
}if(N===0&&O===1&&R==="while"){X=true;Y="cond"}break;case")":O--;if(T){if(--T.cur.nest===T.org.nest&&T.cur.level===T.org.level&&T.token==="do"){T=null
}}if(O===0&&N===0&&Y==="cond"){X=true}break;case"{":N++;if(T){T.cur.level++}if(S===0&&N===1){X=true
}break;case"}":N--;if(T){if(--T.cur.level===T.org.level&&T.cur.nest===T.org.nest&&T.token!=="do"){T=null
}}if(O===0&&N===0&&U==="while"){P=true;X=true}break;case"while":if(N===0&&O===0){X=true;
break}case"for":case"do":T={token:Q,org:{level:N,nest:O},cur:{level:N,nest:O}};break;
case"break":if(!T&&!this.isWord(U)){Q="throw Pot.StopIteration"}break;case"continue":if(!T&&!this.isWord(U)){Q="throw "+this.uniqs.nxt
}break;case"return":if(!U||U===";"||this.isNL(U)){Q=this.format("#1 #2=void 0#3",Q,this.uniqs.ret,(U===";"||this.isNL(U))?"":";")
}else{Q=this.format("#1 #2=",Q,this.uniqs.ret)}break}if(!X){Z[Y][Z[Y].length]=Q}R=Q
}aa="";if(!P){throw new Error("Parse error, expect 'do...while()'")}Z.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));
Z.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{if(!(#3)){throw Pot.StopIteration;}}}).then(function(){",this.uniqs.err,this.uniqs.nxt,this.joinTokens(Z.cond)||"false"));
aa=this.format("return Pot.Deferred.forEver.#1(function(){#2",L,this.joinTokens(Z.body));
return aa},parseFor:function(Y){var ad="",N=0,O=0,V=null,X=false,R,U,aa,Z="before",ac,T,S,W,Q,P=false,ab={prefix:[],suffix:[],before:[],cond:[],after:[],key:[],target:[],body:[]};
W=Y.length;for(S=0;S<W;S++){Q=Y[S];U=Y[S+1];aa=false;switch(Q){case"(":O++;if(T){T.cur.nest++
}if(S===0&&O===1){aa=true}break;case")":O--;if(T){if(--T.cur.nest===T.org.nest&&T.cur.level===T.org.level&&T.token==="do"){T=null
}}if(!X&&O===0&&N===0&&U==="{"){aa=true}break;case"{":N++;if(T){T.cur.level++}if(N===1&&O===0&&R===")"){aa=true;
X=true;Z="body"}break;case"}":N--;if(T){if(--T.cur.level===T.org.level&&T.cur.nest===T.org.nest&&T.token!=="do"){T=null
}}if(X&&O===0&&N===0){ab.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));
if(ab.suffix.length){ab.body.push(this.toEnd(this.joinTokens(ab.suffix)))}ab.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{#3}",this.uniqs.err,this.uniqs.nxt,this.toEnd(this.joinTokens(ab.after))));
Q+=").then(function(){";P=true}break;case"each":if(S===0){throw new Error("Not supported 'for each'")
}break;case"in":case"of":if(!X&&V===null&&O===1&&N===0){aa=true;V=true;if(ab.before.length>2){throw new Error("Invalid keys, expect 'for(var [...] in ...);'")
}if(ac){ab.before.push(";");y.apply(ab.prefix,ab.before);ab.before.shift();ab.before.pop();
if(ac==="let"){ab.prefix.unshift("{");this.tails.push("}")}}ab.before.push("="+this.uniqs.key);
ab.before.push(";");ab.key=ab.before;y.apply(ab.body,ab.key);Z="target"}break;case"var":case"let":if(!ac&&S===1&&O===1){ac=Q
}break;case",":if(!X&&O===1&&N===0&&!ac&&(Z==="before"||Z==="after")){Q=";"}break;
case";":if(!X&&O===1&&N===0){aa=true;if(V===null){V=false}if(Z==="before"){Z="cond";
ab.prefix.push(this.toEnd(this.joinTokens(ab.before)));if(ac==="let"){ab.prefix.unshift("{");
this.tails.push("}")}}else{if(Z==="cond"){Z="after";if(ab.cond.length){ab.cond.unshift("if(");
ab.cond.push("){");ab.suffix.push("}else{throw Pot.StopIteration;}")}j.apply(ab.body,ab.cond)
}}}break;case"for":case"while":case"do":T={token:Q,org:{level:N,nest:O},cur:{level:N,nest:O}};
break;case"break":if(!T&&X&&!this.isWord(U)){Q="throw Pot.StopIteration"}break;case"continue":if(!T&&X&&!this.isWord(U)){Q="throw "+this.uniqs.nxt
}break;case"return":if(X){if(!U||U===";"||this.isNL(U)){Q=this.format("#1 #2=void 0#3",Q,this.uniqs.ret,(U===";"||this.isNL(U))?"":";")
}else{Q=this.format("#1 #2=",Q,this.uniqs.ret)}}break}if(!aa){ab[Z][ab[Z].length]=Q
}R=Q}ad="";if(!P){throw new Error("Parse error, expect 'for(...)'")}if(V){ad=this.format("#1return Pot.Deferred.forEach.#2(#3,function(#4,#5){#6",this.toEnd(this.joinTokens(ab.prefix)),L,this.joinTokens(ab.target),this.uniqs.val,this.uniqs.key,this.joinTokens(ab.body))
}else{ad=this.format("#1return Pot.Deferred.forEver.#2(function(){#3",this.toEnd(this.joinTokens(ab.prefix)),L,this.joinTokens(ab.body))
}return ad}});I.prototype.init.prototype=I.prototype;k(q.Internal,{deferrate:function(N){return(new I(N)).execute()
}});k(q.Deferred,{deferreed:function(S,N){var V,Q,P,R,O,U;try{switch(arguments.length){case 0:throw false;
case 1:Q=S;if(!q.isFunction(Q)){throw Q}U=Q;break;case 2:default:if(q.isObject(N)){P=N;
Q=S}else{Q=N;P=S}if(!q.isFunction(P[Q])){throw Q}U=P[Q];break}if(!U||!q.isFunction(U)||q.isBuiltinMethod(U)){throw U
}O=q.Internal.deferrate(U);if(!O){throw O}if(O===U){V=q.Deferred.deferrize(U)}else{if(!q.isString(O)){throw O
}V=q.Internal.defineDeferrater(function(X){var Y=O.replace(L,X),W=q.localEval(Y,P);
return function(){return W.apply(P,arguments)}})}if(!V||!q.isFunction(V)){throw V
}}catch(T){R=T;throw q.isError(R)?R:new Error(R)}return V}});q.update({deferreed:q.Deferred.deferreed})
}());delete q.tmp.createIterators;delete q.tmp.createProtoIterators;delete q.tmp.createSyncIterator;
q.update({Serializer:{}});(function(){var I,J;if(typeof JSON==="object"&&q.isBuiltinMethod(JSON.stringify)&&q.isBuiltinMethod(JSON.parse)){k(q.Serializer,{serializeToJSON:function(){return JSON.stringify.apply(null,arguments)
},parseFromJSON:function(){return JSON.parse.apply(null,arguments)}});return}I="null";
J=k(function(){},{charsCache:{'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000B"},replaceTo:/\uFFFF/.test("\uFFFF")?/[\\\"\x00-\x1F\x7F-\uFFFF]/g:/[\\\"\x00-\x1F\x7F-\xFF]/g});
J.prototype=k(J.prototype,{serialize:function(K){var L=[];this.serializeAll(K,L);
return L.join("")},serializeAll:function(K,L){if(K==null){L[L.length]=I}else{switch(q.typeOf(K)){case"string":this.serializeString(K,L);
break;case"number":this.serializeNumber(K,L);break;case"boolean":L[L.length]=(K==true)?"true":"false";
break;case"array":this.serializeArray(K,L);break;case"object":case"error":this.serializeObject(K,L);
break;case"date":this.serializeDate(K,L);break;case"regexp":this.serializeString(K.toString(),L);
break;case"function":break;default:L[L.length]=I;break}}},padZero:function(K){return(K<10)?"0"+K:K
},serializeDate:function(M,K){var L=this.padZero;result=isFinite(M.valueOf())?'"'+M.getUTCFullYear()+"-"+L(M.getUTCMonth()+1)+"-"+L(M.getUTCDate())+"T"+L(M.getUTCHours())+":"+L(M.getUTCMinutes())+":"+L(M.getUTCSeconds())+'Z"':I;
K[K.length]=result},serializeString:function(M,K){var L=M.replace(J.replaceTo,function(P){var O,N;
if(P in J.charsCache){return J.charsCache[P]}O=P.charCodeAt(0);N="\\u";if(O<16){N+="000"
}else{if(O<256){N+="00"}else{if(O<4096){N+="0"}}}N=N+O.toString(16);J.charsCache[P]=N;
return N});K[K.length]='"'+L+'"'},serializeNumber:function(L,K){K[K.length]=(isFinite(L)&&!isNaN(L))?L:I
},serializeArray:function(L,P){var K,M="",O,N,R;K=L&&L.length;P[P.length]="[";for(O=0;
O<K;O++){N=true;try{R=L[O]}catch(Q){N=false}if(N){P[P.length]=M;this.serializeAll(R,P);
M=","}}P[P.length]="]"},serializeObject:function(Q,N){var K="",M,L,O;N[N.length]="{";
for(M in Q){L=true;if(n.call(Q,M)){try{O=Q[M];if(q.isFunction(O)){throw O}}catch(P){L=false
}if(L){N[N.length]=K;this.serializeString(M,N);N[N.length]=":";this.serializeAll(O,N);
K=","}}}N[N.length]="}"}});k(q.Serializer,{serializeToJSON:function(K){return(new J()).serialize(K)
},parseFromJSON:k(function(M){var K=arguments.callee,L;L=String(M).replace(K.PATTERNS.CLEAN,"");
if(K.isValid(K,L)){return q.localEval("("+L+")")}else{throw new Error("Invalid JSON string: "+L)
}},{PATTERNS:{META:/\\["\\\/bfnrtu]/g,STRING:/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1F\x80-\x9F]*"/g,EXPRS:/true|false|null|[+-]?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,BRACKETS:/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,REMAINDER:/^[\],:{}\s\u2028\u2029]*$/,SPACE:/^\s*$/,CLEAN:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g},isValid:function(N,M){var K="@",O="[]".charAt(1),L=N.PATTERNS;
if(L.SPACE.test(M)){return false}return L.REMAINDER.test(M.replace(L.META,K).replace(L.STRING,O).replace(L.EXPRS,O).replace(L.BRACKETS,""))
}})})}());k(q.Serializer,{serializeToQueryString:function(L){var J=[],K,I;if(!L||L==false){return""
}if(typeof Buffer!=="undefined"&&L.constructor===Buffer){return L}if(q.isString(L)){return v(L)
}I=q.isObject(L);if(I||q.isArrayLike(L)){K=q.URI.urlEncode;e(L,function(S,N){var T,R,M,U,O=0,Q=true;
if(I){T=[N,S]}else{T=S}try{R=v(T[0],false);M=T[1]}catch(P){Q=false}if(Q&&(R||M)){if(!I){e(L,function(V){if(V){try{if(v(V[0],false)===R){O++
}}catch(W){}}})}if(O>1||q.isArray(M)){U="=";R=v(R,true)+"[]"}else{U=R?"=":""}e(E(M),function(V){J[J.length]=K(R)+U+K(v(V,true))
})}})}return J.join("&")},parseFromQueryString:function(N,M){var I=[],L,K,J;if(q.isObject(N)||q.isArray(N)){return N
}if(M){I={}}K=v(N,true);if(K){L=q.URI.urlDecode;J=/&(?:(?:amp|#(?:0*38|[xX]0*26));|)/;
while(K.charAt(0)==="?"){K=K.substring(1)}e(K.split(J),function(Q){var P,S,R,O;R=Q.split("=");
switch(R.length){case 0:break;case 1:S=R[0];break;default:P=R[0];S=R[1];break}if(P||S){P=v(L(P));
S=v(L(S));if(P.slice(-2)==="[]"){O=P.slice(0,-2);if(M){if(n.call(I,O)){I[O]=g.call([],E(I[O]),E(S))
}else{I[O]=[S]}}else{I[I.length]=[O,S]}}else{if(M){I[P]=S}else{I[I.length]=[P,S]}}}})
}return I}});q.update({serializeToJSON:q.Serializer.serializeToJSON,parseFromJSON:q.Serializer.parseFromJSON,serializeToQueryString:q.Serializer.serializeToQueryString,parseFromQueryString:q.Serializer.parseFromQueryString});
q.update({URI:{}});k(q.URI,{urlEncode:k(function(J){var I="",L=arguments.callee,K;
K=v(J,true);if(K){if(q.isPercentEncoded(K)){I=K}else{try{I=L.encoder.component(K)
}catch(M){I=L.encoder.encode(K)}}}return v(I,true)},{encoder:{component:function(I){return encodeURIComponent(I)
},encode:function(K){var I="",M,L,N,J;M=v(K,true);if(M){L=/[^!'-*.0-9A-Z_a-z~-]/g;
J="%";N=function(O){var P,Q=O.charCodeAt(0);if(Q<16){P=J+"0"+Q.toString(16)}else{if(Q<128){P=J+Q.toString(16)
}else{if(Q<2048){P=J+(Q>>6|192).toString(16)+J+(Q&63|128).toString(16)}else{P=J+(Q>>12|224).toString(16)+J+(Q>>6&63|128).toString(16)+J+(Q&63|128).toString(16)
}}}return P.toUpperCase()};I=M.replace(L,N)}return I}}}),urlDecode:k(function(J){var I="",L=arguments.callee,K;
K=v(J,true);if(K){K=K.replace(L.decoder.reSpace.from,L.decoder.reSpace.to);try{I=L.decoder.component(K)
}catch(M){I=L.decoder.decode(K)}}return v(I,true)},{decoder:{reSpace:{from:/[+]/g,to:" "},component:function(I){return decodeURIComponent(I)
},decode:function(J){var I="",L,K,M;L=v(J,true);if(L){K=new RegExp("%(?:E(?:0%[AB]|[1-CEF]%[89AB]|D%[89])[0-9A-F]|C[2-9A-F]|D[0-9A-F])%[89AB][0-9A-F]|%[0-7][0-9A-F]","gi");
M=function(N){var O,P=parseInt(N.substring(1),16);if(P<128){O=P}else{if(P<224){O=((P&31)<<6|parseInt(N.substring(4),16)&63)
}else{O=(((P&15)<<6|parseInt(N.substring(4),16)&63)<<6|parseInt(N.substring(7),16)&63)
}}return String.fromCharCode(O)};I=L.replace(K,M)}return I}}})});q.update({urlEncode:q.URI.urlEncode,urlDecode:q.URI.urlDecode});
q.update({Crypt:{}});k(q.Crypt,{hashCode:function(L){var K=0,N,M,J,I;I=4294967296;
if(L==null){N=String(L)}else{N=L.toString?L.toString():String(L)}J=N.length;for(M=0;
M<J;++M){K=31*K+N.charCodeAt(M);K%=I}return K}});q.update({hashCode:q.Crypt.hashCode});
(function(){q.update({Net:{}});k(q.Net,{request:function(N,M){if(q.System.isGreasemonkey){return q.Net.requestByGreasemonkey(N,M)
}else{if(q.System.isNodeJS){return q.Net.requestByNodeJS(N,M)}else{return q.Net.XHR.request(N,M)
}}},XHR:{ReadyState:{UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},factory:function(){var M;
try{M=new XMLHttpRequest()}catch(N){}if(!M&&q.System.hasActiveXObject){e(["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],function(P){try{M=new ActiveXObject(P)
}catch(O){}if(M){throw q.StopIteration}})}return M},request:(function(){var O=function(Q,P){return new O.prototype.doit(Q,P)
},M={URI:/^([^:]+)(?::+\/{0,}((?:[^@]+@|)[^\/\\?&#:;]*)(?::(\d+)|)|)/},N=M.URI.exec(q.currentURI().toLowerCase())||[];
O.prototype=k(O.prototype,{xhr:null,url:null,options:{},deferred:null,doit:function(Q,P){var S=this;
this.url=v(Q,true);this.deferred=new q.Deferred({canceller:function(){try{S.cancel(true)
}catch(U){}}});if(this.url){try{this.setOptions(P);if(this.factory()){this.open();
this.setHeaders();this.setReadyStateChange();this.send()}}catch(T){try{this.cancel(true)
}catch(R){}this.deferred.raise(T)}}return this},factory:function(){this.xhr=q.Net.XHR.factory();
if(!this.xhr){this.deferred.raise("Failed to create XMLHttpRequest");return false
}else{return true}},setOptions:function(P){var Q,S,R={method:"GET",sendContent:null,queryString:null,callback:null,username:null,password:null,mimeType:null,binary:false,cache:true,cookie:false,crossDomain:null,headers:{Accept:["*/"]+["*"],"X-Requested-With":"XMLHttpRequest"}};
if(q.isObject(P)){Q=k({},P)}else{Q={}}this.options=k({},R,Q||{});this.method=z(this.options.method).toUpperCase();
if(!this.method){this.method=R.method}this.url=I(this.url,this.options.queryString);
this.options.sendContent=v(q.Serializer.serializeToQueryString(this.options.sendContent),true);
if((this.options.method==="GET"||this.options.method===R.method)&&(this.options.sendContent)){this.options.method="POST"
}if(!this.options.cache&&(this.options.method==="GET"||this.options.method==="HEAD")){this.url=K(this.url)
}if(this.options.crossDomain==null){S=M.URI.exec(q.currentURI().toLowerCase());this.options.crossDomain=!!(S&&(S[1]!==N[1]||S[2]!==N[2]||S[3]!==N[3]))
}if(this.options.binary&&!this.options.mimeType){this.options.mimeType="text/plain; charset=x-user-defined"
}},open:function(){if(this.options.username!=null){this.xhr.open(this.options.method,this.url,true,v(this.options.username,true),v(this.options.password,true))
}else{this.xhr.open(this.options.method,this.url,true)}},setHeaders:function(){var P=this,R;
try{if(this.options.cookie){try{this.xhr.withCredentials="true"}catch(Q){}}try{if(this.xhr.overrideMimeType&&this.options.mimeType!=null){this.xhr.overrideMimeType(this.options.mimeType)
}}catch(Q){}if(this.options.contentType!=null){R=this.options.contentType}if(this.options.headers!=null){e(this.options.headers,function(T,S){if(!R&&/^Content-?Type/i.test(S)){R=T
}else{P.xhr.setRequestHeader(S,T)}})}if(!R&&this.options.method==="POST"){R="application/x-www-form-urlencoded"
}if(R){this.xhr.setRequestHeader("Content-Type",R)}}catch(Q){}},setReadyStateChange:function(){var P=this;
this.xhr.onreadystatechange=function(){var Q=null;if(P.xhr.readyState==q.Net.XHR.ReadyState.COMPLETE){P.cancel();
try{Q=parseInt(P.xhr.status);if(!Q&&P.xhr.responseText){Q=304}}catch(R){}if((Q>=200&&Q<300)||Q===304||Q===1223){P.assignResponseText();
if(q.isFunction(P.options.callback)){q.Deferred.flush(function(){P.options.callback.call(P.xhr,P.xhr.responseText,P.xhr)
}).ensure(function(S){P.deferred.begin(P.xhr)})}else{P.deferred.begin(P.xhr)}}else{P.deferred.raise(k({},P.xhr));
try{P.cancel(true)}catch(R){}}}}},assignResponseText:function(){var R,P,Q,T,V,W,S;
if(this.options.binary){Q=[];T=[];S=this.xhr.responseText||"";P=S.length;V=String.fromCharCode;
for(R=0;R<P;R++){W=S.charCodeAt(R)&255;Q[R]=W;T[R]=V(W)}try{this.xhr.originalText=S;
this.xhr.responseBytes=Q;this.xhr.responseText=T.join("")}catch(U){}}},cancel:function(P){try{this.xhr.onreadystatechange=null
}catch(Q){try{this.xhr.onreadystatechange=q.noop}catch(Q){}}if(P){try{this.xhr.abort()
}catch(Q){}}},send:function(){this.xhr.send(this.options.sendContent);this.deferred.data({request:this.xhr})
}});O.prototype.doit.prototype=O.prototype;return function(Q,P){return(new O(Q,P)).deferred
}}())},requestByGreasemonkey:function(N,M){var R,P,Q,O;R=new q.Deferred();P=k({cache:true},M||{});
Q={sendContent:"data",mimeType:"overrideMimeType",username:"user"};e(Q,function(S,T){if(T in P){P[S]=P[T]
}});P.method=z(P.method).toUpperCase()||"GET";P.url=I(N,P.queryString);if(P.data){P.data=q.Serializer.serializeToQueryString(P.data)
}if(P.data&&P.method==="GET"){P.method="POST"}if(!P.cache&&(P.method==="GET"||P.method==="HEAD")){P.url=K(P.url)
}O=P.contentType;if(P.headers){e(P.headers,function(T,S){if(!O&&/^Content-?Type/i.test(S)){O=T;
throw q.StopIteration}})}if(!O&&P.method==="POST"){O="application/x-www-form-urlencoded"
}if(O){P.headers=k(P.headers||{},{"Content-Type":O})}if(P.onload){R.then(P.onload)
}if(P.onerror){R.rescue(P.onerror)}k(P,{onload:function(){R.begin.apply(R,arguments)
},onerror:function(){R.raise.apply(R,arguments)}});q.Deferred.callLazy(function(){var S=GM_xmlhttpRequest(P);
R.data({request:S});R.canceller(function(){try{S.abort()}catch(T){}})});return R},requestByNodeJS:(function(){function N(O){return new N.prototype.doit(O)
}function M(O){return new M.prototype.init(O)}M.prototype=k(M.prototype,{responseText:"",responseXML:"",status:null,statusText:null,init:function(O){var P=O||{};
k(this,P,{getResponseHeader:this.getResponseHeader,getAllResponseHeaders:this.getAllResponseHeaders,responseText:P.responseText,responseXML:P.responseXML,status:P.status,statusText:P.statusText});
return this},getResponseHeader:function(P){var O=null,Q;Q=v(P);lkey=Q.toLowerCase();
if(this.headers){if(lkey in this.headers){O=this.headers[lkey]}else{if(Q in this.headers){O=this.headers[Q]
}}}return O},getAllResponseHeaders:function(){var P=[],O;if(this.headers){for(O in this.headers){P.push(O+": "+this.headers[O])
}}return P.join("\r\n")}});N.prototype=k(N.prototype,{deferred:null,request:null,response:null,headers:{},requestOptions:{},defaultHeaders:{Accept:["*/"]+["*"],"User-Agent":["Pot.js/"+q.VERSION,q.TYPE,"(Node.js; *)"].join(" ")},doit:function(O){var P=this;
this.deferred=new q.Deferred({canceller:function(){try{P.abort()}catch(Q){}}});this.setOptions(O);
this.send();return this},setOptions:function(X){var P,O,T,Q,V,R,W,S,U;P=k({cache:true},X||{});
O=z(P.method).toUpperCase()||"GET";T=false;Q=require("url").parse(P.url);switch(Q.protocol){case"https:":T=true;
case"http:":V=Q.hostname;break;default:throw new Error("Not supported protocol: "+Q.protocol)
}R=Q.port||(T?443:80);W=Q.pathname+(Q.search?Q.search:"");this.headers=k({},this.defaultHeaders,P.headers||{});
this.headers.Host=V;if(P.username!=null){S=new Buffer([v(P.username,true),v(P.password,true)].join(":"));
this.headers.Authorization="Basic "+S.toString("base64")}U=P.sendContent||P.queryString;
if(O==="GET"||O==="HEAD"){W=I(W,U);if(!P.cache){W=K(W)}U=null}else{U=q.Serializer.serializeToQueryString(U);
if(U){this.headers["Content-Length"]=Buffer.byteLength(U);if(!this.headers["Content-Type"]){this.headers["Content-Type"]="application/x-www-form-urlencoded"
}}}this.requestOptions={data:U,ssl:T,settings:{host:V,port:R,path:W,method:O,headers:this.headers}}
},send:function(){var P=this,O;if(this.requestOptions.ssl){O=require("https").request
}else{O=require("http").request}this.request=O(this.requestOptions.settings,function(Q){P.response=new M(Q);
P.response.responseText="";P.response.responseXML="";P.response.setEncoding("utf8");
P.response.status=P.response.statusCode;if(P.response.status==200&&!P.response.statusText){P.response.statusText="OK"
}P.response.on("data",function(R){if(R){P.response.responseText+=v(R,true)}});P.response.on("end",function(){P.deferred.begin(P.response)
});P.response.on("error",function(R){P.handleError(R)})}).on("error",function(Q){P.handleError(Q)
});if(this.requestOptions.data){this.request.write(this.requestOptions.data)}this.request.end()
},handleError:function(O){this.response.status=503;this.response.statusText=O;this.response.responseText=O&&O.stack;
this.deferred.raise(this.response)},abort:function(){if(this.response){this.response.responseText="";
this.response.responseXML=""}try{if(this.request&&this.request.abort){this.request.abort()
}}catch(O){}}});N.prototype.doit.prototype=N.prototype;M.prototype.init.prototype=M.prototype;
return function(P,O){var Q=k({},O||{},{url:P});return(new N(Q)).deferred}}()),requestByJSONP:(function(){var M={KEY:/json|call/i,DONE:/loaded|complete/};
return function(O,ab){var V,N,Q,P,aa,Z,Y,R,X,W,T,S;S="callback";V=new q.Deferred();
N=k({cache:false},ab||{});Q=d||q.Global;Y=q.System.currentDocument;X=L();if(!Q||!Y||!X||!O){return V.raise(Q||O||X||Y)
}try{if(N.callback){if(q.isString(N.callback)){P=N.callback}else{if(q.isFunction(N.callback)){aa=N.callback
}else{if(q.isObject(N.callback)){for(Z in N.callback){S=Z;if(q.isString(N.callback[Z])){P=N.callback[Z]
}else{if(q.isFunction(N.callback[Z])){aa=N.callback[Z]}}break}}}}}else{e(N,function(ad,ac){if(M.KEY.test(ac)){S=ac;
if(q.isString(ad)){P=ad}else{if(q.isFunction(ad)){aa=ad}}throw q.StopIteration}})
}if(!P){do{P=m(q,"")}while(P in Q)}R=I(J(O,P,S),N.queryString||N.sendContent);if(!N.cache){R=K(R)
}if(q.System.isGreasemonkey){return q.Net.requestByGreasemonkey(R,{method:"GET"}).then(function(ac){var ad=z(ac&&ac.responseText);
ad=ad.replace(/^[^{]*|[^}]*$/g,"");return q.Serializer.parseFromJSON(ad)})}W=Y.createElement("script");
W.async="async";if(N.type){W.type=N.type}if(N.charset){W.charset=N.charset}Q[P]=function(){var ac=arguments;
try{delete Q[P]}catch(ad){try{Q[P]=null}catch(ad){}}try{if(W){W.parentNode.removeChild(W)
}W=h}catch(ad){}if(q.isFunction(aa)){aa.apply(aa,ac)}V.begin.apply(V,ac)};W.src=R;
W.onload=W.onreadystatechange=function(ad,ac){if(!T&&W&&(ac===1||!W.readyState||M.DONE.test(W.readyState))){T=true;
try{W.onload=W.onreadystatechange=null}catch(ae){}if(X&&W&&W.parentNode){try{X.removeChild(W)
}catch(ae){}}W=h}};V.canceller(function(){try{if(W){W.onload(0,1)}}catch(ac){}});
X.insertBefore(W,X.firstChild)}catch(U){V.raise(U)}return V}}()),getJSON:(function(){var M=/^[^{]*|[^}]*$/g;
return function(O,N){return q.Net.request(O,k({mimeType:"application/json",headers:{"Content-Type":"application/json"}},N||{})).then(function(P){var Q=z(P&&P.responseText).replace(M,"");
return q.Serializer.parseFromJSON(Q)})}}()),loadScript:(function(){var M;if(q.System.isNonBrowser||!q.System.isNotExtension){return function(O,N){return q.Net.request(O,k({method:"GET",mimeType:"text/javascript",headers:{"Content-Type":"text/javascript"}},{cache:false},N||{})).then(function(P){return q.globalEval(P.responseText)
})}}M={DONE:/loaded|complete/,CALLBACK:/^callback|(?:on|)(?:load(?:ed|)|ready)/i};
return function(O,X){var S,U,N,V,T,P,W,Q;S=new q.Deferred();try{if(q.isFunction(X)){N={callback:N};
W=N.callback}else{N=k({},X||{});e(N,function(Z,Y){if(q.isFunction(Z)){W=Z;if(M.CALLBACK.test(Y)){throw q.StopIteration
}}})}if(W){S.then(function(){return W.apply(this,arguments)})}P=I(O,N.queryString||N.sendContent);
if(!N.cache){P=K(P)}V=q.System.currentDocument;T=L();if(!V||!T||!P){return S.raise(P||T||V)
}U=V.createElement("script");U.async="async";U.type=N.type||"text/javascript";if(N.charset){U.charset=N.charset
}U.src=P;U.onload=U.onreadystatechange=function(Z,Y){if(!Q&&U&&(Y===1||!U.readyState||M.DONE.test(U.readyState))){Q=true;
try{U.onload=U.onreadystatechange=null}catch(aa){}if(T&&U&&U.parentNode){try{T.removeChild(U)
}catch(aa){}}U=h;S.begin()}};S.canceller(function(){try{if(U){U.onload(0,1)}}catch(Y){}});
T.insertBefore(U,T.firstChild)}catch(R){S.raise(R)}return S}}())});function I(N,P){var M,O,Q;
M=v(N);Q=(~M.indexOf("?"))?"&":"?";O=v(q.Serializer.serializeToQueryString(P));while(M.slice(-1)===Q){M=M.slice(0,-1)
}while(O.charAt(0)===Q){O=O.substring(1)}if(O){O=Q+O}return M?M+O:null}function K(P){var N=v(P),O,M="?",Q="_";
if(N){do{O=Q+m(q,"").toLowerCase()}while(~N.indexOf(O));if(~N.indexOf(M)){M="&";while(N.slice(-1)===M){N=N.slice(0,-1)
}}N=N+M+O+"="+c()}return N}function L(){var M,O=q.System.currentDocument;try{if(O.head&&q.isElement(O.head)){return O.head
}}catch(N){}try{M=O.getElementsByTagName("head");if(M&&q.isElement(M[0])){return M[0]
}}catch(N){}try{return O.documentElement}catch(N){}}function J(M,P,O){var N=v(M);
if(~N.indexOf("=?")){N=N.replace("=?","="+P)}else{if(~N.indexOf("?")){N=N.replace("?","?"+O+"="+P)
}else{while(N.slice(-1)==="&"){N=N.slice(0,-1)}N=N+"?"+O+"="+P}}return N}q.update({request:q.Net.request,jsonp:q.Net.requestByJSONP,getJSON:q.Net.getJSON,loadScript:q.Net.loadScript})
}());q.update({XPCOM:{}});k(q.XPCOM,{evalInSandbox:function(L,J){var I,K,M;if(q.System.hasComponents){if(!i){q.System.isWaitable=q.System.hasComponents=false;
return}K=/^[\s;]*|[\s;]*$/g;M=v(L).replace(K,"");I=i.evalInSandbox(M,i.Sandbox(J))
}return I},throughout:function(J){var I;if(q.System.hasComponents){try{I=w["@mozilla.org/thread-manager;1"].getService(p.nsIThreadManager).mainThread
}catch(K){q.System.isWaitable=q.System.hasComponents=false}if(I&&q.System.hasComponents){do{I.processNextEvent(true)
}while(J&&!J())}}},getMostRecentWindow:function(){var J;if(q.System.hasComponents){try{J=w["@mozilla.org/appshell/window-mediator;1"].getService(p.nsIWindowMediator).getMostRecentWindow("navigator:browser")
}catch(I){q.System.isWaitable=q.System.hasComponents=false}}return J},getChromeWindow:function(K){var J,M,N,I;
if(!q.System.hasComponents){return}I=K||"chrome://browser/content/browser.xul";try{N=w["@mozilla.org/appshell/window-mediator;1"].getService(p.nsIWindowMediator).getXULWindowEnumerator(null)
}catch(L){q.System.isWaitable=q.System.hasComponents=false;return}while(N.hasMoreElements()){try{M=N.getNext().QueryInterface(p.nsIXULWindow).docShell.QueryInterface(p.nsIInterfaceRequestor).getInterface(p.nsIDOMWindow);
if(M&&M.location&&(M.location.href==I||M.location==I)){J=M;break}}catch(L){}}return J
}});q.update({evalInSandbox:q.XPCOM.evalInSandbox,throughout:q.XPCOM.throughout,getMostRecentWindow:q.XPCOM.getMostRecentWindow,getChromeWindow:q.XPCOM.getChromeWindow});
(function(){var Z=[],W=[],V=[],af={},aa=false,ac="*e",M=".",U={MOUSE_OVER:/mouse(?:over|enter)/,MOUSE_OUT:/mouse(?:out|leave)/,EVENT_ONCE:/^(?:on|)(?:(?:un|)load|DOMContentLoaded)$/,ID_CLEAN:/^#/};
q.update({Signal:{}});k(q.Signal,{NAME:"Signal",toString:q.toString,Handler:k(function(ag){return new q.Signal.Handler.prototype.init(ag)
},{advices:{normal:1,before:2,around:4,after:8,propBefore:16,propAround:32,propAfter:64}}),Observer:function(ah,ak){var aj=this,ag,al=this.PotInternal;
if(!al.serial){al.serial=m(this)}k(al,{orgEvent:ak||(typeof window==="object"&&window.event)||{},object:ah});
ag=al.orgEvent;if(!q.isObject(ag)){al.orgEvent=ag={type:ag}}e(ag,function(am,an){if(!n.call(aj,an)){aj[an]=am
}});try{if(!ag.target){ag.target=ag.srcElement||q.currentDocument()||{}}if(ag.target.nodeType==3&&ag.target.parentNode){ag.target=ag.target.parentNode
}if(ag.metaKey==null){ag.metaKey=ag.ctrlKey}if(ag.timeStamp==null){ag.timeStamp=c()
}if(ag.relatedTarget==null){if(U.MOUSE_OVER.test(ag.type)){ag.relatedTarget=ag.fromElement
}else{if(U.MOUSE_OUT.test(ag.type)){ag.relatedTarget=ag.toElement}}}}catch(ai){}this.originalEvent=ag
},DropFile:function(ah,ag){return q.Signal.DropFile.prototype.init(ah,ag)},isHandler:function(ag){return ag!=null&&((ag instanceof q.Signal.Handler)||(ag.id!=null&&ag.id===q.Signal.Handler.prototype.id&&ag.NAME!=null&&ag.NAME===q.Signal.Handler.prototype.NAME))
},isObserver:function(ag){return ag!=null&&((ag instanceof q.Signal.Observer)||(ag.PotInternal!=null&&ag.PotInternal.id!=null&&ag.PotInternal.id===q.Signal.Observer.prototype.PotInternal.id&&ag.PotInternal.NAME!=null&&ag.PotInternal.NAME===q.Signal.Observer.prototype.PotInternal.NAME))
},attach:function(ak,an,aq,ai,ag){var al=[],ao,am,ap,aj,ah=Q(ak);if(!ah){return(void 0)
}ao=R(ah);ap=!!ai;if(q.isArray(an)){am=true}aj=q.Signal.Handler.advices.normal;e(E(an),function(av){var ar,at,au;
ar=v(av);au=N(ah,ar,aq,ap,ao,ag,aj);at=new q.Signal.Handler({object:ah,signal:ar,listener:au,callback:aq,isDOM:ao,useCapture:ap,advice:aj,attached:true});
L(function(aw){aw[aw.length]=at});if(ao){if(ah.addEventListener){ah.addEventListener(X(ah,ar),au,ap)
}else{if(ah.attachEvent){ah.attachEvent(X(ah,ar),au)}}}al[al.length]=at});return am?al:al[0]
},attachBefore:function(ai,ah,ak,ag,aj){return ad(ai,ah,ak,q.Signal.Handler.advices.before,aj)
},attachAfter:function(ai,ah,ak,ag,aj){return ad(ai,ah,ak,q.Signal.Handler.advices.after,aj)
},attachPropBefore:function(ah,aj,ak,ag,ai){return Y(ah,aj,ak,q.Signal.Handler.advices.propBefore,ai)
},attachPropAfter:function(ah,aj,ak,ag,ai){return Y(ah,aj,ak,q.Signal.Handler.advices.propAfter,ai)
},detach:function(aj,am,an,ai){var ao=false,al=arguments,ag=q.Signal,ak,ah=Q(aj);
if(!ah){return(void 0)}if(ag.isHandler(ah)){O(function(ap){if(ap&&ap.attached&&ap===ah){ak=ap;
throw q.StopIteration}})}else{if(al.length>1){O(function(ap){if(ap&&ap.attached&&ap.object===ah&&ap.signal==am&&ap.callback===an){ak=ap;
throw q.StopIteration}})}}if(ak){ab(ak);ao=true}return ao},detachAll:function(){var ai=arguments,ak,ah=[],aj={},ag=[];
switch(ai.length){case 0:break;case 1:ak=ai[0];break;case 2:ak=ai[0];ah=ai[1]||[];
break;default:ak=ai[0];ah=E(ai,1);break}if(ak!=null){ak=Q(ak)}ah=E(ah);e(ah,function(al){aj[M+v(al)]=true
});O(function(al){if(!al||((ak==null||al.object===ak)&&((!ah||ah.length===0)||(ah.length&&al.signal in aj)))){if(al&&al.attached){ag[ag.length]=al
}}});e(ag,function(al){ab(al)})},signal:function(ai,al){var ao,ak=E(arguments,2),am=[],an,ah,aj={},ag=Q(ai);
if(!ag){return(void 0)}ao=J();an=al;ah=q.Signal.Handler.advices.normal;e(E(an),function(ap){aj[M+v(ap)]=true
});O(function(ap){if(ap&&ap.attached&&ap.advice===ah&&ap.object===ag&&((M+ap.signal) in aj)){ao.then(function(){var aq=ap.listener.apply(ag,ak);
if(q.isDeferred(aq)){aq.begin()}return aq},function(aq){am[am.length]=aq})}});return ao.ensure(function(ap){if(q.isError(ap)){am[am.length]=ap
}switch(am.length){case 0:break;case 1:throw am[0];default:throw k(am[0]||{},{errors:am})
}return ap}).begin()},cancelEvent:function(ag){var ah=function(ai){try{ai.preventDefault();
ai.stopPropagation()}catch(aj){}};if(ag){ah();if(ag.originalEvent){ah(ag.originalEvent)
}if(ag.PotInternal&&ag.PotInternal.orgEvent){ah(ag.PotInternal.orgEvent)}}return false
}});q.Signal.DropFile.prototype=k(q.Signal.DropFile.prototype,{constructor:q.Signal.DropFile,id:q.Internal.getMagicNumber(),NAME:"DropFile",serial:null,toString:q.toString,defaultOptions:{onShow:null,onHide:null,onDrop:null,onLoadImage:null,onLoadText:null,onLoadUnknown:null,onLoadEnd:null},encoding:"UTF-8",loadedFiles:[],handleCache:[],target:[],options:{},isShow:false,init:function(ah,ag){if(!this.serial){this.serial=m(this)
}this.isShow=false;this.target=Q(ah);this.options=k({},this.defaultOptions,ag||{});
if(this.options.encoding){this.encoding=this.options.encoding}if(this.target){this.initEvents()
}return this},clearDropEvents:function(){e(this.handleCache,function(ag){q.Signal.detach(ag)
});this.handleCache=[]},initEvents:function(){var ai=this,aj=this.target,ah,ag=this.handleCache,al=this.options,ak=q.Signal;
ag[ag.length]=ak.attach(aj,"drop",function(ap){var ao,am,an=0;ai.isShow=false;ao=ap.dataTransfer&&ap.dataTransfer.files;
if(ao){if(al.onDrop){al.onDrop.call(ai,ao)}am=new FileReader();am.onloadend=function(aq){an--;
if(aq&&aq.target&&aq.target.result!=null){ai.loadedFiles.push(aq.target.result);if(an<=0){if(al.onLoadEnd){al.onLoadEnd.call(ai,E(ai.loadedFiles))
}}}};e(ao,function(at){var aq,ar,au;if(at){an++;au=at.type;ar=at.size;aq=at.name;
am.readAsDataURL(at);if(ai.isImageFile(au)){ai.loadAsImage(at,aq,ar,au)}else{if(ai.isTextFile(au)){ai.loadAsText(at,aq,ar,au)
}else{ai.loadAsUnknown(at,aq,ar,au)}}}})}});ag[ag.length]=ak.attach(aj,"dragenter",function(am){ai.isShow=true;
ak.cancelEvent(am)});ag[ag.length]=ak.attach(aj,"dragover",function(am){ai.isShow=true;
ak.cancelEvent(am)});ag[ag.length]=ak.attach(aj,"dragleave",function(am){ai.isShow=false
});if(al.onHide){al.onHide.call(ai)}ah=q.currentDocument().documentElement;ag[ag.length]=ak.attach(ah,"drop",function(am){ai.isShow=false;
if(al.onHide){al.onHide.call(ai)}ak.cancelEvent(am)});ag[ag.length]=ak.attach(ah,"dragleave",function(am){q.Internal.setTimeout(function(){if(ai.isShow){ai.isShow=false
}else{if(al.onHide){al.onHide.call(ai)}}},1000)});e(["dragenter","dragover"],function(am){ag[ag.length]=ak.attach(ah,am,function(aq){var ap=aq&&aq.dataTransfer,ao,an;
if(ap){if(ap.files&&ap.files.length){ao=true}else{if(ap.types){an=/Files/i;if(an.test(ap.types)){ao=true
}else{if(q.isArrayLike(ap.types)){e(ap.types,function(ar){if(an.test(ar)){ao=true;
throw q.StopIteration}})}}}}}if(ao){ai.isShow=true;if(al.onShow){al.onShow.call(ai)
}}ak.cancelEvent(aq)})})},isImageFile:function(ag){return/image/i.test(ag)},isTextFile:function(ag){return !/image|audio|video|zip|compress/i.test(ag)
},upload:function(ai,ao){var al,aj,ah=this.loadedFiles,ag={},an,ak,am="file";if(ah&&ah.length){if(q.isString(ao)){am=ao
}else{if(q.isObject(ao)){an=/key|file|name/i;e(ao,function(aq,ap){if(q.isString(aq)&&an.test(ap)){am=aq;
throw q.StopIteration}});ag=k({},ao)}}aj=v(ai);an=/([^@:;#?&=\/\\]+)=[?]/;if(an.test(aj)){am=aj.match(an)[1];
aj=aj.replace(am,"")}ak=ag.sendContent||ag.queryString||{};if(q.isArray(ak)){ak[ak.length]=[am,ah.splice(0)]
}else{ak[am]=ah.splice(0)}ag.sendContent=ak;ag.queryString=null;ag.method=ag.method||"POST";
al=q.Net.request(aj,ag)}return q.Deferred.maybeDeferred(al)},loadAsImage:function(aj,ah,ai,ak){var al=this,ag=new FileReader(),am=this.options.onLoadImage;
ag.onload=function(an){if(am){am.call(al,an&&an.target&&an.target.result,ah,ai,ak)
}};ag.readAsDataURL(aj)},loadAsText:function(aj,ah,ai,ak){var al=this,ag=new FileReader(),am=this.options.onLoadText;
ag.onload=function(an){if(am){am.call(al,an&&an.target&&an.target.result,ah,ai,ak)
}};ag.readAsText(aj,this.encoding)},loadAsUnknown:function(aj,ah,ai,ak){var al=this,ag=new FileReader(),am=this.options.onLoadUnknown;
ag.onload=function(an){if(am){am.call(al,an&&an.target&&an.target.result,ah,ai,ak)
}};ag.readAsDataURL(aj)}});q.Signal.DropFile.prototype.init.prototype=q.Signal.DropFile.prototype;
q.Signal.Handler.prototype=k(q.Signal.Handler.prototype,{constructor:q.Signal.Handler,id:q.Internal.getMagicNumber(),NAME:"Handler",serial:null,toString:q.toString,init:function(ag){if(!this.serial){this.serial=m(this)
}k(this,ag);return this}});q.Signal.Handler.prototype.init.prototype=q.Signal.Handler.prototype;
q.Signal.Observer.prototype={constructor:q.Signal.Observer,PotInternal:{id:q.Internal.getMagicNumber(),NAME:"Observer",serial:null,orgEvent:null,object:null},toString:function(){return u(this.PotInternal.NAME)
},preventDefault:function(){var ag;try{ag=this.PotInternal.orgEvent;if(ag){if(ag.preventDefault){ag.preventDefault()
}else{ag.returnValue=false}}}catch(ah){}if(this.originalEvent){try{ag=this.originalEvent;
if(ag){if(ag.preventDefault){ag.preventDefault()}else{ag.returnValue=false}}}catch(ah){}}},stopPropagation:function(){var ag;
try{ag=this.PotInternal.orgEvent;if(ag){if(ag.stopPropagation){ag.stopPropagation()
}ag.cancelBubble=true}}catch(ah){}if(this.originalEvent){try{ag=this.originalEvent;
if(ag){if(ag.stopPropagation){ag.stopPropagation()}ag.cancelBubble=true}}catch(ah){}}}};
e({attach:4,attachBefore:4,attachAfter:4,attachPropBefore:4,attachPropAfter:4},function(ah,ag){k(q.Signal[ag],{once:function(){var ai=E(arguments);
ai[ah]=true;return q.Signal[ag].apply(q.Signal,ai)}})});e({before:true,after:true,normal:true,before:true,after:true,propBefore:true,propAfter:true},function(ah,ag){var ai={};
ai[ag]=function(aj,am,al,ak){return S(aj,am,al,q.Signal.Handler.advices[ag],ak)};
k(af,ai)});function N(al,at,aq,ai,ap,ah,ak){var ar=(ap&&U.EVENT_ONCE.test(at)),an,aj,ao,ag=q.Signal,am;
if(ah||ar){an=true;aj=function(au){ag.detach(al,at,aq,ai)}}if(ae(al,at,true)){if(ak===ag.Handler.advices.normal){I(al,at)
}ao=q.noop;if(ap){return ao}else{O(function(au){if(au&&!au.isDOM&&au.advice===ag.Handler.advices.normal&&au.object===al&&au.signal==at&&au.listener!==q.noop){if(am){au.listener=q.noop
}else{if(!au.attached){ao=au.listener;au.listener=q.noop;am=true}}}});return ao}}V[V.length]={object:al,signal:at,advice:ak,attached:true};
return function(aw){var ax=J(),au=arguments,av=au.callee,ay=ap?new ag.Observer(al,aw):au;
ax.data(ac,[]);af.before(ax,al,at,ay);af.normal(ax,al,at,ay);af.after(ax,al,at,ay);
return ax.ensure(function(az){var aA;if(q.isError(az)){this.data(ac,g.call(this.data(ac)||[],az))
}aA=this.data(ac);if(an){aj(av)}if(aA&&aA.length){if(aA.length>1){throw k(aA[0],{errors:aA})
}else{throw aA[0]}}return az}).begin()}}function S(ap,ak,ao,aj,an){var ah=q.Signal,al={},am,ag,ai=Q(ak);
if(!ai){return(void 0)}am=E(ao);e(am,function(aq){al[M+v(aq)]=true});ag=false;switch(aj){case ah.Handler.advices.normal:ag=true;
break;case ah.Handler.advices.before:case ah.Handler.advices.after:e(am,function(aq){if(ae(ai,v(aq))){ag=true;
throw q.StopIteration}});break;case ah.Handler.advices.propBefore:case ah.Handler.advices.propAfter:e(am,function(aq){if(K(ai,v(aq))){ag=true;
throw q.StopIteration}});break;default:ag=false;break}if(ag){O(function(ar){var aq=v(ar&&ar.signal);
if(ar&&ar.attached&&ar.advice===aj&&ar.object===ai&&((M+aq) in al)){ap.ensure(function(at){if(q.isError(at)){this.data(ac,g.call(this.data(ac)||[],at))
}if(aj===ah.Handler.advices.normal){return ar.callback.apply(ai,E(an))}else{return ar.listener.apply(ai,E(an))
}})}})}return ap}function ae(ai,ah,ak){var ag=false,aj=q.Signal;e(E(ah),function(ao){var am,an,al=v(ao);
for(am=V.length-1;am>=0;am--){an=V[am];if(an&&(ak||an.attached)&&an.advice===aj.Handler.advices.normal&&an.object===ai&&an.signal==al){ag=true;
throw q.StopIteration}}});return ag}function I(ai,ah){var ag=false,aj=q.Signal;e(E(ah),function(an){var al,am,ak=v(an);
for(al=V.length-1;al>=0;al--){am=V[al];if(am&&!am.attached&&am.advice===aj.Handler.advices.normal&&am.object===ai&&am.signal==ak){am.attached=true;
throw q.StopIteration}}});return ag}function K(ah,aj,ai){var ag=false;e(E(aj),function(an){var al,am,ak=v(an);
for(al=W.length-1;al>=0;al--){am=W[al];if(am&&(ai||am.attached)&&am.object===ah&&am.signal==ak){ag=true;
throw q.StopIteration}}});return ag}function T(ah,aj){var ag=false,ai=q.Signal;e(E(aj),function(an){var al,am,ak=v(an);
for(al=W.length-1;al>=0;al--){am=W[al];if(am&&!am.attached&&(am.advice===ai.Handler.advices.propBefore||am.advice===ai.Handler.advices.propAfter)&&am.object===ah&&am.signal==ak){am.attached=true;
throw q.StopIteration}}});return ag}function ab(ap){var aj,am,ai,ao,ak,al,an,ah,ag=q.Signal;
if(!ap||!ap.attached){return}ap.attached=false;aj=ap.object;am=ap.signal;ao=ap.useCapture;
ai=ap.listener;if(!ap.isDOM){if(ap.advice===ag.Handler.advices.propBefore||ap.advice===ag.Handler.advices.propAfter){an=false;
O(function(aq){if(aq&&aq.attached&&!aq.isDOM&&(aq.advice===ag.Handler.advices.propBefore||aq.advice===ag.Handler.advices.propAfter)&&aq.object===aj&&aq.signal==am){an=true;
throw q.StopIteration}});if(!an){for(ak=W.length-1;ak>=0;ak--){al=W[ak];if(al&&al.attached&&al.object===aj&&al.signal==am){al.attached=false
}}}}else{if(ap.advice===ag.Handler.advices.normal){an=false;ah=null;O(function(aq){if(aq&&aq.attached&&!aq.isDOM&&aq.advice===ag.Handler.advices.normal&&aq.object===aj&&aq.signal==am){an=true;
ah=aq;throw q.StopIteration}});if(an){if(ah&&ah.listener===q.noop&&ai!==q.noop){ah.listener=ai
}}else{for(ak=V.length-1;ak>=0;ak--){al=V[ak];if(al&&al.attached&&al.object===aj&&al.signal==am){al.attached=false
}}}}}}else{if(ap.advice===ag.Handler.advices.normal){an=false;O(function(aq){if(aq&&aq.attached&&aq.isDOM&&aq.advice===ag.Handler.advices.normal&&aq.object===aj&&aq.signal==am){an=true;
throw q.StopIteration}});if(!an){for(ak=V.length-1;ak>=0;ak--){al=V[ak];if(al&&al.attached&&al.advice===ag.Handler.advices.normal&&al.object===aj&&al.signal==am){al.attached=false
}}}}}P()}function ad(aj,am,ap,ai,ag){var ak=[],ah,ao,al,an;ah=Q(aj);if(!ah){return(void 0)
}an=function(aq){return function(){var ar=arguments;ap.apply(ah,ar);if(ag){q.Signal.detach(ah,aq,ar.callee,false)
}}};ao=R(ah);if(q.isArray(am)){al=true}e(E(am),function(au){var aq=v(au),ar,at;at=an(aq);
ar=new q.Signal.Handler({object:ah,signal:aq,listener:at,callback:at,isDOM:ao,useCapture:false,advice:ai,attached:true});
L(function(av){av[av.length]=ar});ak[ak.length]=ar});return al?ak:ak[0]}function Y(aj,am,ap,ai,ah){var ak=[],al,an,ao,ag=q.Signal;
if(!aj||!q.isFunction(ap)){return(void 0)}if(q.isArray(am)){al=true}ao=function(aq){return function(){var ar=arguments;
ap.apply(aj,ar);if(ah){ag.detach(aj,aq,ar.callee,false)}}};an=E(am);e(an,function(ar){var aq=v(ar);
if(K(aj,aq,true)){if(ai===ag.Handler.advices.propBefore||ai===ag.Handler.advices.propAfter){T(aj,aq)
}}else{W[W.length]={object:aj,signal:aq,advice:ai,attached:true};q.override(aj,aq,function(ax,at){var aw={},av=J(),au=aw;
av.data(ac,[]);af.propBefore(av,aj,aq,at);av.ensure(function(ay){if(q.isError(ay)){this.data(ac,g.call(this.data(ac)||[],ay))
}return ax.apply(aj,at)}).then(function(ay){au=ay;return ay});af.normal(av,aj,aq,at);
af.propAfter(av,aj,aq,at);av.ensure(function(ay){var az;if(q.isError(ay)){this.data(ac,g.call(this.data(ac)||[],ay))
}az=this.data(ac);if(az&&az.length){if(az.length>1){throw k(az[0],{errors:az})}else{throw az[0]
}}return ay}).begin();return(au===aw)?null:au})}});e(an,function(au){var aq=v(au),ar,at;
at=ao(aq);ar=new q.Signal.Handler({object:aj,signal:aq,listener:at,callback:at,isDOM:false,useCapture:false,advice:ai,attached:true});
L(function(av){av[av.length]=ar});ak[ak.length]=ar});return al?ak:ak[0]}function X(ag,aj){var ah=v(aj),ai="on";
if(ag){if(ag.addEventListener){if(ah.indexOf(ai)===0){ah=ah.substring(2)}}else{if(ag.attachEvent){if(ah.indexOf(ai)!==0){ah=ai+ah
}}}}return ah}function R(ag){return !!(ag&&(ag.addEventListener&&ag.removeEventListener)||(ag.attachEvent&&ag.detachEvent))
}function Q(ah){if(typeof ah==="object"||q.isFunction(ah)){if(ah.jquery&&ah.get){return ah.get(0)
}else{return ah}}if(q.isString(ah)){try{return q.currentDocument().getElementById(v(ah).replace(U.ID_CLEAN,""))
}catch(ag){}}return false}function O(al){var ah,aj=null,ai,ag;aa=true;try{ag=Z.length;
for(ai=0;ai<ag;ai++){ah=al(Z[ai],ai)}}catch(ak){aj=ak}finally{aa=false}if(aj!==null&&!q.isStopIter(aj)){throw aj
}return ah}function L(al){var ag,aj=255,ai={},ah=false;(function ak(){try{if(aa){if(--aj>=0){throw ai
}else{aj=-1;q.Internal.setTimeout(function(){ak()},0)}}else{if(!ah){ah=true;ag=al(Z)
}}}catch(am){if(am===ai){return ak()}else{throw am}}})();return ag}function P(){var ai,ag,aj,ah=[],ak,am=q.Signal;
if(!aa){aa=true;try{ag=Z.length;for(ai=0;ai<ag;ai++){aj=Z[ai];if(!aj||(!aj.attached&&((aj.advice===am.Handler.advices.normal&&aj.listener===q.noop)||(aj.advice===am.Handler.advices.propBefore||aj.advice===am.Handler.advices.propAfter)||(aj.advice===am.Handler.advices.before||aj.advice===am.Handler.advices.after)))){continue
}ah[ah.length]=aj}Z.splice(0,ag);j.apply(Z,ah)}catch(al){ak=al}finally{aa=false}if(ak!=null){throw ak
}}}function J(){return new q.Deferred({async:false})}q.update({attach:q.Signal.attach,attachBefore:q.Signal.attachBefore,attachAfter:q.Signal.attachAfter,attachPropBefore:q.Signal.attachPropBefore,attachPropAfter:q.Signal.attachPropAfter,detach:q.Signal.detach,detachAll:q.Signal.detachAll,signal:q.Signal.signal,cancelEvent:q.Signal.cancelEvent,DropFile:q.Signal.DropFile})
}());q.update({Debug:{}});k(q.Debug,{debug:s});q.update({deferrizejQueryAjax:(function(){if(typeof jQuery!=="function"||!jQuery.fn){return q.noop
}return function(){return(function(I){var J=I.ajax;I.pot=q;I.fn.extend({deferred:function(N){var M,K=E(arguments,1),L=false;
e(K,function(O){if(q.isFunction(O)){L=true;throw q.StopIteration}});if(!L){K.push(function(){return E(arguments)
})}M=q.Deferred.deferrize(N,this);return M.apply(this,K)}});I.ajax=function(K){var O=new q.Deferred(),M,L,P;
M=k({},K||{});L=k({},M);k(M,{success:function(){var R=E(arguments),S,Q;try{if(L.success){L.success.apply(this,R)
}}catch(T){Q=true;S=T||new Error(T);R.push(S);O.raise.apply(O,R)}if(!Q){O.destAssign=true;
O.begin.apply(O,R)}},error:function(){var Q=E(arguments),R;try{if(L.error){L.error.apply(this,Q)
}}catch(S){R=S||new Error(S);Q.unshift(R)}finally{O.raise.apply(O,Q)}}});try{O.data({result:J(M)})
}catch(N){P=N;O.raise(P)}return O}}(jQuery))}}())});(function(J,I){k(J,{storage:{},shelter:{},add:function(M,P,O){var K=true,N,L;
if(q.isObject(M)){N=M;L=!!(O||P)}else{N={};N[v(M,true)]=P;L=!!O}e(N,function(R,Q){var S=v(Q,true),T;
if(q.isFunction(R)){T=function(){return R.apply(R,arguments)};k(T,{deferred:(function(){try{return q.Deferred.deferreed(T)
}catch(U){return q.Deferred.deferrize(T)}}())})}else{T=R}if(S&&(L||!J.has(S))){if(S in q){J.shelter[S]=q[S]
}q[S]=J.storage[S]=I.PotExportProps[S]=T}else{K=false}});return K},has:function(L){var K=true;
e(E(L),function(M){var N=v(M,true);if(!(N in J.storage)){K=false;throw q.StopIteration
}});return K},remove:function(L){var K=true;e(E(L),function(M){var N=v(M,true);if(q.Plugin.has(N)){try{if(N in J.shelter){q[N]=I.PotExportProps[N]=J.shelter[N];
delete J.shelter[N]}else{if(N in q){delete q[N]}if(N in I.PotExportProps){delete I.PotExportProps[N]
}}delete J.storage[N];if(J.has(N)){throw false}}catch(O){K=false}}});return K},list:function(){var K=q.keys(J.storage);
return K}});q.update({addPlugin:J.add,hasPlugin:J.has,removePlugin:J.remove,listPlugin:J.list})
}(q.Plugin,q.Internal));q.update({globalize:function(O,L){var J=false,N=E(arguments);
var K,P,I,M=[];I=N.length;if(I<=1&&this===q&&!q.isObject(O)){K=this;if(I>=1&&q.isBoolean(O)){L=O
}else{L=!!O}}else{if(O&&(q.isObject(O)||q.isFunction(O)||q.isArray(O))){K=O}}P=q.Internal.getExportObject(true);
if(K&&P){if(K===q){if(q.Internal.exportPot&&q.Internal.PotExportProps){J=q.Internal.exportPot(L,true,true)
}}else{e(K,function(R,Q){if(L&&Q in P){M[M.length]=Q}else{P[Q]=R}});J=M}}return J
}});k(q.Internal,{exportPot:function(J,N,L,I){var M,K=[];M=q.Internal.getExportObject(N);
if(M){if(L){e(q.Internal.PotExportProps,function(P,O){if(J&&O in M){K[K.length]=O
}else{M[O]=P}})}else{e(q.Internal.PotExportObject,function(P,O){if(J&&O in M){K[K.length]=O
}else{M[O]=P}})}}if(I){M=q.Internal.getExportObject(q.System.isNodeJS?false:true);
if(M){k(M,q.Internal.PotExportObject)}if((q.System.isNonBrowser||!q.System.isNotExtension)&&typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=q
}exports.Pot=q}else{if(typeof define==="function"&&define.amd){define("pot",function(){return q
})}}if(M&&!M.Pot){M.Pot=q}}return K},PotExportObject:{Pot:q},PotExportProps:{Pot:q,update:k,isBoolean:q.isBoolean,isNumber:q.isNumber,isString:q.isString,isFunction:q.isFunction,isArray:q.isArray,isDate:q.isDate,isRegExp:q.isRegExp,isObject:q.isObject,isError:q.isError,typeOf:q.typeOf,typeLikeOf:q.typeLikeOf,StopIteration:q.StopIteration,isStopIter:q.isStopIter,isIterable:q.isIterable,isScalar:q.isScalar,isArrayLike:q.isArrayLike,isDeferred:q.isDeferred,isIter:q.isIter,isPercentEncoded:q.isPercentEncoded,isNumeric:q.isNumeric,isInt:q.isInt,isNativeCode:q.isNativeCode,isBuiltinMethod:q.isBuiltinMethod,isWindow:q.isWindow,isDocument:q.isDocument,isElement:q.isElement,isNodeLike:q.isNodeLike,isNodeList:q.isNodeList,Deferred:q.Deferred,succeed:q.Deferred.succeed,failure:q.Deferred.failure,wait:q.Deferred.wait,callLater:q.Deferred.callLater,callLazy:q.Deferred.callLazy,maybeDeferred:q.Deferred.maybeDeferred,isFired:q.Deferred.isFired,lastResult:q.Deferred.lastResult,lastError:q.Deferred.lastError,register:q.Deferred.register,unregister:q.Deferred.unregister,deferrize:q.Deferred.deferrize,deferreed:q.Deferred.deferreed,begin:q.Deferred.begin,flush:q.Deferred.flush,till:q.Deferred.till,parallel:q.Deferred.parallel,chain:q.Deferred.chain,forEach:q.forEach,repeat:q.repeat,forEver:q.forEver,iterate:q.iterate,items:q.items,zip:q.zip,Iter:q.Iter,toIter:q.Iter.toIter,map:q.map,filter:q.filter,reduce:q.reduce,every:q.every,some:q.some,range:q.range,indexOf:q.indexOf,lastIndexOf:q.lastIndexOf,globalEval:q.globalEval,localEval:q.localEval,hasReturn:q.hasReturn,override:q.override,getErrorMessage:q.getErrorMessage,currentWindow:q.currentWindow,currentDocument:q.currentDocument,currentURI:q.currentURI,serializeToJSON:q.Serializer.serializeToJSON,parseFromJSON:q.Serializer.parseFromJSON,serializeToQueryString:q.Serializer.serializeToQueryString,parseFromQueryString:q.Serializer.parseFromQueryString,urlEncode:q.URI.urlEncode,urlDecode:q.URI.urlDecode,request:q.Net.request,jsonp:q.Net.requestByJSONP,getJSON:q.Net.getJSON,loadScript:q.Net.loadScript,hashCode:q.Crypt.hashCode,evalInSandbox:q.XPCOM.evalInSandbox,throughout:q.XPCOM.throughout,getMostRecentWindow:q.XPCOM.getMostRecentWindow,getChromeWindow:q.XPCOM.getChromeWindow,attach:q.Signal.attach,attachBefore:q.Signal.attachBefore,attachAfter:q.Signal.attachAfter,attachPropBefore:q.Signal.attachPropBefore,attachPropAfter:q.Signal.attachPropAfter,detach:q.Signal.detach,detachAll:q.Signal.detachAll,signal:q.Signal.signal,cancelEvent:q.Signal.cancelEvent,DropFile:q.Signal.DropFile,rescape:C,arrayize:E,invoke:H,stringify:v,trim:z,now:c,globalize:q.globalize,debug:q.Debug.debug,addPlugin:q.Plugin.add,hasPlugin:q.Plugin.has,removePlugin:q.Plugin.remove,listPlugin:q.Plugin.list}});
q.Internal.exportPot(false,false,false,true)}(this||{}));
