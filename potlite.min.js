/*!
 * PotLite.js - JavaScript library
 *
 * PotLite.js is an implemental utility library
 *  that can execute JavaScript without burdening the CPU.
 *
 * Version 1.33, 2012-03-13
 * Copyright (c) 2012 polygon planet <polygon.planet@gmail.com>
 * Dual licensed under the MIT and GPL v2 licenses.
 * http://polygonplanet.github.com/Pot.js/index.html
 */
(function(d,h){var q={VERSION:"1.33",TYPE:"lite"},j=Array.prototype.push,t=Array.prototype.slice,G=Array.prototype.splice,g=Array.prototype.concat,y=Array.prototype.unshift,b=Array.prototype.indexOf,B=Array.prototype.lastIndexOf,x=Object.prototype.toString,n=Object.prototype.hasOwnProperty,F=String.fromCharCode,H=(function(){var J,K=[];
for(J=0;J<=65535;J++){K[J]=F(J)}return function(L){return K[L&65535]}}()),r=/([-.*+?^${}()|[\]\/\\])/g,A=/^(?:[a-zA-Z0-9_~.-]|%[0-9a-fA-F]{2})*$/,o=/List|Collection/i,f=/^[\s\u00A0\u3000]+|[\s\u00A0\u3000]+$/g,p,w,l,i;
(function(J){k(q,{NAME:"Pot",System:{},Plugin:{},toString:function(){return u(this.NAME||this.name||typeof this)
},Browser:(function(M){var K={},S,N,L,R,T,O,P,Q;T={webkit:/(webkit)(?:.*version|)[\s\/]+([\w.]+)/,opera:/(opera)(?:.*version|)[\s\/]+([\w.]+)/,msie:/(msie)[\s\/]+([\w.]+)/,mozilla:/(?!^.*compatible.*$).*(mozilla)(?:.*?\s+rv[:\s\/]+([\w.]+)|)/};
O=[/webkit.*(chrome)[\s\/]+([\w.]+)/,/webkit.*version[\s\/]+([\w.]+).*(safari)/,/webkit.*(safari)[\s\/]+([\w.]+)/,/(iphone).*version[\s\/]+([\w.]+)/,/(ipod).*version[\s\/]+([\w.]+)/,/(ipad).*version[\s\/]+([\w.]+)/,/(android).*version[\s\/]+([\w.]+)/,/(blackberry)(?:[\s\d]*|.*version)[\s\/]+([\w.]+)/,T.webkit,T.opera,T.msie,/(?!^.*compatible.*$).*mozilla.*?(firefox)(?:[\s\/]+([\w.]+)|)/,T.mozilla];
S=String(M&&M.userAgent).toLowerCase();if(S){for(P=0,Q=O.length;P<Q;P++){if((N=O[P].exec(S))){break
}}if(N){if(/[^a-z]/.test(N[1])){L=N[2];R=N[1]}else{L=N[1];R=N[2]}if(L){K[L]={version:String(R||0)}
}}N=T.webkit.exec(S)||T.opera.exec(S)||T.msie.exec(S)||T.mozilla.exec(S)||[];if(N&&N[1]){K[N[1]]={version:String(N[2]||0)}
}}return K}(J)),LANG:(function(K){return((K&&(K.language||K.userLanguage||K.browserLanguage||K.systemLanguage))||"en").split(/[^a-zA-Z0-9]+/).shift().toLowerCase()
}(J)),OS:(function(R){var K={},O=R||{},S,L,M,T,P,Q,N;S=String(O.platform).toLowerCase();
L=String(O.userAgent).toLowerCase();M=String(O.appVersion).toLowerCase();T=[{s:"iphone",p:S},{s:"ipod",p:S},{s:"ipad",p:L},{s:"blackberry",p:L},{s:"android",p:L},{s:"mac",p:S},{s:"win",p:S},{s:"linux",p:S},{s:"x11",p:M}];
for(P=0,Q=T.length;P<Q;P++){N=T[P];if(~N.p.indexOf(N.s)){K[N.s]=true}}if(K.android&&!~L.indexOf("mobile")){K.androidtablet=true
}if(K.ipad||K.androidtablet){K.tablet=true}K.toString=function(){var U=[],V;for(V in K){if(K[V]===true){U.push(V)
}}return U.join("/")};return K}(J)),Global:(function(){if(!d||typeof d!=="object"||!("setTimeout" in d)){d=this||{}
}return this||{}}()),noop:function(){},tmp:{},Internal:{getMagicNumber:k(function(){var K=arguments.callee,L=K.n+(K.c++);
if(!isFinite(L)||isNaN(L)){K.c=K.n=L=0}return L},{c:0,n:+"0xC26BEB642C0A"}),getExportObject:function(N){var M,O,K;
if(N){if(q.System.isNonBrowser){M=q.Global||d}else{M=(q.isWindow(d)&&d)||(q.isWindow(q.Global)&&q.Global)||q.currentWindow()
}if(!M&&typeof window!=="undefined"&&q.isWindow(window)){M=window}if(M){do{O=m(q,"")
}while(O in M);M[O]=1;K=(new Function("try{return "+O+"===1;}catch(e){}"))();try{delete M[O]
}catch(L){try{M[O]=(void 0)}catch(L){}}if(!K){M=q.Global}}}if(!M){if(q.System.isNodeJS){if(typeof module==="object"&&typeof module.exports==="object"){M=module.exports
}else{if(typeof exports==="object"){M=exports}else{M=d}}}else{M=d}if(!M){M=d||q.Global||q.currentWindow()
}}return M}},update:k,Pot:q})}(typeof navigator!=="undefined"&&navigator||{}));k(q.System,(function(){var L={},J;
L.isWaitable=false;if(typeof window==="object"&&"setTimeout" in window&&window.window==window&&typeof document==="object"&&document.nodeType>0&&typeof document.documentElement==="object"){L.isWebBrowser=true;
if(window.location&&/^(?:chrome|resource):?$/.test(window.location.protocol)){try{if(typeof Components!=="object"){throw false
}w=Components.classes;p=Components.interfaces;l=Components.results;i=Components.utils;
L.isWaitable=true;L.hasComponents=true;if(q.Browser.firefox||q.Browser.mozilla){L.isFirefoxExtension=true
}}catch(K){p=w=l=i=null}}}else{L.isNonBrowser=true;if(typeof process!=="undefined"&&process&&process.version&&typeof require==="function"&&(typeof exports==="object"||(typeof module==="object"&&typeof module.exports==="object"))){L.isNodeJS=true
}}if(q.Global&&q.Global.ActiveXObject||typeof ActiveXObject!=="undefined"&&(ActiveXObject)){L.hasActiveXObject=true
}if(!L.isFirefoxExtension){if(q.Browser.chrome||q.Browser.webkit||q.Browser.safari){if(typeof chrome==="object"&&typeof chrome.extension==="object"){L.isChromeExtension=true
}else{if(typeof safari==="object"&&typeof safari.extension==="object"){L.isSafariExtension=true
}}}}if(!L.isChromeExtension&&!L.isSafariExtension){if(typeof GM_log==="function"&&typeof GM_xmlhttpRequest==="function"){L.isGreasemonkey=true
}else{if(typeof require==="function"){try{if("title" in require("windows").browserWindows.activeWindow){L.isJetpack=true
}}catch(K){}}}if(L.isWebBrowser&&!L.isGreasemonkey&&!L.isFirefoxExtension){L.isNotExtension=true
}}try{J=(function(){yield(0)}());if(J&&typeof J.next==="function"){L.isYieldable=true
}}catch(K){}return L}()));(function(L){var K,J,M={};for(K=0,J=L.length;K<J;K++){(function(){var O=L[K],N=O.toLowerCase();
M[u(O)]=N;q["is"+O]=(function(){switch(N){case"error":return function(P){return(P!=null&&(P instanceof Error||q.typeOf(P)===N))||false
};case"date":return function(P){return(P!=null&&(P instanceof Date||q.typeOf(P)===N))||false
};default:return function(P){return q.typeOf(P)===N}}}())}())}q.update({typeOf:function(N){return(N==null)?String(N):(M[x.call(N)]||"object")
},typeLikeOf:function(O){var N=q.typeOf(O);if(N!=="array"&&q.isArrayLike(O)){N="array"
}return N}})}("Boolean Number String Function Array Date RegExp Object Error".split(" ")));
(function(J){k(q.Internal,{callInBackground:{flush:function(L){var K=this.byEvent||this.byTick||this.byTimer;
K(L)},byEvent:(function(){var L;if(q.System.isNonBrowser||q.System.isNodeJS||typeof window!=="object"||typeof document!=="object"||typeof Image!=="function"||window.opera||q.Browser.opera||typeof document.addEventListener!=="function"){return false
}try{if(typeof(new Image()).addEventListener!=="function"){return false}}catch(K){return false
}L="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
return function(Q){var M,N,O;N=new Image();O=function(){try{N.removeEventListener("load",O,false);
N.removeEventListener("error",O,false)}catch(R){}if(!M){M=true;Q()}};N.addEventListener("load",O,false);
N.addEventListener("error",O,false);try{N.src=L}catch(P){this.byEvent=this.byTimer
}}}()),byTick:(function(){if(!q.System.isNodeJS||typeof process!=="object"||typeof process.nextTick!=="function"){return false
}return function(K){process.nextTick(K)}}()),byTimer:function(L,K){return setTimeout(L,K||0)
}},setTimeout:function(K,M){try{return q.Internal.callInBackground.byTimer(K,M||0)
}catch(L){}},clearTimeout:function(L){try{return clearTimeout(L)}catch(K){}},setInterval:function(K,M){try{return setInterval(K,M||0)
}catch(L){}},clearInterval:function(L){try{return clearInterval(L)}catch(K){}}});
q.update({Cc:w,Ci:p,Cr:l,Cu:i,StopIteration:(function(){var K=k(function(){return K
},{NAME:J,toString:q.toString});K.prototype={constructor:K,NAME:K.NAME,toString:K.toString};
K.prototype.constructor.prototype=K.constructor.prototype;return new K}()),isStopIter:function(K){if(!K){return false
}if(q.StopIteration!==h&&(K==q.StopIteration||K instanceof q.StopIteration)){return true
}if(typeof D!=="undefined"&&(K==D||K instanceof D)){return true}if(this&&this.StopIteration!==h&&(K==this.StopIteration||K instanceof this.StopIteration)){return true
}if(~x.call(K).indexOf(J)||~String(K&&K.toString&&K.toString()||K).indexOf(J)){return true
}if(q.isError(K)&&K[J]&&!(J in K[J])&&!q.isError(K[J])&&q.isStopIter(K[J])){return true
}return false},isIterable:function(K){return !!(K&&q.isFunction(K.next)&&(~K.next.toString().indexOf(J)||q.isNativeCode(K.next)))
},isScalar:function(K){return K!=null&&(q.isString(K)||q.isNumber(K)||q.isBoolean(K))
},isArrayLike:function(L){var K;if(!L){return false}if(q.isArray(L)||L instanceof Array||L.constructor===Array){return true
}K=L.length;if(!q.isNumber(K)||(!q.isObject(L)&&!q.isArray(L))||L===q||L===q.Global||L===d||q.isWindow(L)||q.isDocument(L)||q.isElement(L)){return false
}if(L.isArray||q.isFunction(L.callee)||q.isNodeList(L)||((typeof L.item==="function"||typeof L.nextNode==="function")&&L.nodeType!=3&&L.nodeType!=4)||(0 in L&&((K-1) in L))||o.test(x.call(L))){return true
}else{return false}},isDeferred:function(K){return K!=null&&((K instanceof q.Deferred)||(K.id!=null&&K.id===q.Deferred.prototype.id&&K.NAME!=null&&K.NAME===q.Deferred.prototype.NAME))
},isIter:function(K){return K!=null&&((K instanceof q.Iter)||(K.id!=null&&K.id===q.Iter.prototype.id&&K.NAME!=null&&K.NAME===q.Iter.prototype.NAME&&typeof K.next==="function"))
},isPercentEncoded:function(K){return A.test(K)},isNumeric:function(K){return(K==null||(K===""||(K==""&&K&&K.constructor===String))||(typeof K==="object"&&K.constructor!==Number))?false:!isNaN(K-0)
},isInt:function(K){return q.isNumber(K)&&isFinite(K)&&K%1==0},isNativeCode:function(L){var K;
if(!L){return false}K=L.toString();return !!(~K.indexOf("[native code]")&&K.length<=92)
},isBuiltinMethod:function(K){return K!=null&&(typeof K==="function"||K.constructor===Function)&&q.isNativeCode(K)
},isWindow:function(K){return K!=null&&typeof K==="object"&&"setInterval" in K&&K.window==K&&!!(K.location||K.screen||K.navigator||K.document)
},isDocument:function(K){return K!=null&&typeof K==="object"&&"getElementById" in K&&K.nodeType>0&&typeof K.documentElement==="object"
},isElement:function(K){return K!=null&&typeof K==="object"&&K.nodeType==1},isNodeLike:function(K){return K!=null&&typeof K==="object"&&K.nodeType>0
},isNodeList:function(K){var L;if(K&&q.isNumber(K.length)){L=typeof K.item;if(q.isObject(K)){return L==="function"||L==="string"
}else{if(q.isFunction(K)){return L==="function"}}}return false}})}("StopIteration"));
if(typeof D==="undefined"){var D=q.StopIteration}(function(){var N,S,J,Q,L,R;Q="window contentWindow defaultView parentWindow content top".split(" ");
L="ownerDocument document".split(" ");function M(T){var U;if(T){if(q.isWindow(T)){U=T
}else{e(Q,function(W){try{if(q.isWindow(T[W])){U=T[W]}if(T[W].content&&q.isWindow(T[W].content)){U=T[W].content
}}catch(V){}if(U){throw q.StopIteration}})}}return U}function K(T){var U;if(T){if(q.isDocument(T)){U=T
}else{e(L,function(W){try{if(q.isDocument(T[W])){U=T[W]}if(T[W].content&&q.isDocument(T[W].content.document)){U=T[W].content.document
}}catch(V){}if(U){throw q.StopIteration}})}}return U}e([d,q.Global,typeof window==="undefined"?this:window,typeof document==="undefined"?this:document],function(T){if(T){if(!N){N=M(T)
}if(!S){S=K(T)}if(N&&S){throw q.StopIteration}}});if(q.System.isNodeJS){J=(typeof process==="object"&&process.mainModule&&process.mainModule.filename)||(typeof __filename==="string"&&__filename)
}else{if(S){try{J=S.documentURI||S.baseURI||S.URL}catch(O){}}if(!J&&N){try{J=N.location&&N.location.href||N.location
}catch(O){try{R=S.createElement("a");R.href="";J=R.href}catch(P){}}}}k(q.System,{currentWindow:N||{},currentDocument:S||{},currentURI:v(J,true)});
q.update({currentWindow:function(){return q.System.currentWindow},currentDocument:function(){return q.System.currentDocument
},currentURI:function(){return q.System.currentURI}})}());k(q.System,{isBuiltinObjectKeys:q.isBuiltinMethod(Object.keys),isBuiltinArrayForEach:q.isBuiltinMethod(Array.prototype.forEach),isBuiltinArrayIndexOf:q.isBuiltinMethod(Array.prototype.indexOf),isBuiltinArrayLastIndexOf:q.isBuiltinMethod(Array.prototype.lastIndexOf)});
q.update({keys:(function(){var L=!({toString:null}).propertyIsEnumerable("toString"),K=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],J=K.length;
return function(N){var O=[],T=typeof N,Q,M,P;if(T!=="object"&&T!=="function"||N===null){return O
}if(q.isArrayLike(N)){Q=N.length;for(P=0;P<Q;P++){if(P in N){O[O.length]=P}}}else{if(q.System.isBuiltinObjectKeys){try{O=Object.keys(N);
return O}catch(R){}}for(M in N){try{if(n.call(N,M)){O[O.length]=M}}catch(S){}}if(L){for(P=0;
P<J;P++){try{if(n.call(N,K[P])){O[O.length]=K[P]}}catch(U){}}}}return O}}()),globalEval:k(function(K){var N=arguments.callee,J,R,L,Q,P,O;
if(K&&N.patterns.valid.test(K)){if(q.System.hasActiveXObject){if(typeof execScript!=="undefined"&&execScript&&N.test(execScript)){return execScript(K,N.language)
}else{L="execScript";if(L in d&&N.test(L,d)){return d[L](K,N.language)}else{if(L in q.Global&&N.test(L,q.Global)){return q.Global[L](K,N.language)
}}}}L="eval";if(L in d&&N.test(L,d)){R=d}else{if(L in q.Global&&N.test(L,q.Global)){R=q.Global
}}if(q.System.isGreasemonkey){return q.localEval(K,R||q.Global)}if(R){if(R[L].call&&R[L].apply&&N.test(L,R,true)){return R[L].call(R,K)
}if(N.worksForGlobal==null){N.worksForGlobal=false;do{J=m(q,"")}while(J in R);R[L]("var "+J+"=1;");
if(J in R&&R[J]===1){N.worksForGlobal=true}try{delete R[J]}catch(M){try{R[J]=(void 0)
}catch(M){}}}if(N.worksForGlobal){return R[L](K)}}if(q.System.isNodeJS){return N.doEvalInGlobalNodeJS(L,K)
}if(q.System.isWebBrowser&&typeof document==="object"){Q=document;O=Q.getElementsByTagName("head");
if(O&&O[0]){O=O[0]}else{O=Q.head||Q.body||Q.documentElement}if(O){P=Q.createElement("script");
P.type="text/javascript";P.defer=false;P.appendChild(Q.createTextNode(K));O.appendChild(P);
O.removeChild(P)}}else{return q.localEval(K,R||q.Global)}}},{language:"JavaScript",patterns:{valid:/\S/},test:function(L,N,K){var J=false,O="(void 0);";
try{if(N){if(K){N.func.call(null,O)}else{N.func(O)}}else{if(K){L.call(null,O)}else{L(O)
}}J=true}catch(M){J=false}return J},doEvalInGlobalNodeJS:function(M,K){var R,O=arguments.callee,L,P,Q=q.Global,J;
if(O.worksForGlobal==null){try{O.worksForGlobal=false;do{J=m(q,"")}while(J in Q);
Q[M].call(Q,"var "+J+"=1;");if(J in Q&&Q[J]===1){O.worksForGlobal=true}delete Q[J]
}catch(N){O.worksForGlobal=false}}if(O.worksForGlobal){R=Q[M].call(Q,K)}else{if(typeof require!=="undefined"){L=require("vm");
if(L&&L.createScript){P=L.createScript(K);if(P&&P.runInThisContext){R=P.runInThisContext()
}}}}return R}}),localEval:k(function(O,K){var N=q.globalEval,M=arguments.callee,L,J;
if(O&&N.patterns.valid.test(O)){L="eval";if(L in d&&N.test(L,d)){J=d}else{if(L in q.Global&&N.test(L,q.Global)){J=q.Global
}}if(J&&J[L]){if(J[L].call&&J[L].apply&&N.test(L,J,true)){return M.doEval(O,J,K)}else{if(K==null){return M.doEval(O,J,K,true)
}}}return M.doEvalByFunc(O,K)}},{isLiteral:/^\s*(?!(?:return|var|if|do|for|try|while)\b\s*)[\w$.!"'~(){}[\]]/,isFunc:/^\s*function\b[^{]*[{][\s\S]*[}][^}]*$/,clean:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g,doEval:function(){try{return arguments[1]["eval"].call(arguments[2]||arguments[1],arguments[0])
}catch(J){}if(arguments[3]){return arguments[1]["eval"](arguments[0])}else{return q.localEval.doEvalByFunc(arguments[0],arguments[2]||arguments[1])
}},doEvalByFunc:function(L,J){var K=q.localEval,M;if(K.isFunc.test(L)||(K.isLiteral.test(L)&&!q.hasReturn(L))){M="return("+String(L).replace(K.clean,"")+");"
}else{M=L}return(new Function("return(function(){"+M+"}).call(this);")).call(J)}}),hasReturn:(function(){var K={STRIP:new RegExp("^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'","g"),RETURN:/(?:^|\s|[^\w$.]\b)return(?:[^\w$.]\b|\s|$)/,FUNC:/(?:^|\s|[^\w$.]\b)function(?:[^\w$.]\b|\s|)[^{}]*$/,PREREGEX:/(?:^|[,;:!?=&|!([]|[^\w$.<>%'"@){}\]])\s*\/$/,REGEXP:/(\/(?![*])(?:\\.|[^\/\r\n\\])+\/)$/,E4X:/(?:^|[(){}<>&|%*~^!?:;,\/[\]=+-])\s*<([^\s>]*)[^>]*>$/,TAG:/<([^\s>]*)[^>]*>$/},J=8192,M=0,L={};
return function(Q){var T=false,O,U,W,N,V,ab,ac,ad,Y,S,R,X,aa,P,ae,Z;O=v(Q&&Q.toString&&Q.toString()||String(Q));
if(O in L){return L[O]}N=O;O=O.replace(K.STRIP,"");if(O&&K.RETURN.test(O)){Y=0;S=0;
X="";R="";V="";ae="";Z=false;P=false;ac=O.length;for(ab=0;ab<ac;ab++){ad=O.charAt(ab);
if(X&&ad!=="/"){X+=ad;continue}switch(ad){case"{":if(S===0&&K.FUNC.test(V)){Y++}break;
case"}":if(S===0&&Y>0){Y--}break;case"/":if(!Z&&Y===0){if(S>0){R+=ad}else{if(!X){V+=ad;
if(K.PREREGEX.test(V)){X=ad;V=V.slice(0,-1)+" "}}else{if(X){X+=ad;if(K.REGEXP.test(X)){X=""
}}}}}break;case"-":if(Y===0){if(S>0){R+=ad;if(R.slice(-4)==="<!--"){Z=true;R=R.slice(0,-4)+" "
}}else{V+=ad}}break;case"[":if((P||!Z)&&Y===0){if(S>0){R+=ad;if(R.slice(-9).toUpperCase()==="<![CDATA["){Z=true;
P=true;R=R.slice(0,-9)+" "}}else{V+=ad}}break;case"]":case"<":if((P||!Z)&&Y===0){if(S>0){R+=ad
}else{V+=ad}}break;case">":if(Y===0){if(S===0){V+=ad;if(K.E4X.test(V)){aa=V.match(K.TAG);
S++;V=V.slice(0,-aa[0].length)+" ";ae=aa[1];W=new RegExp("</"+C(ae)+">$");U=new RegExp("<"+C(ae)+"\\b[^>]*>$")
}}else{if(S>0){if(Z){if((!P&&R.slice(-2)==="--")||(P&&R.slice(-2)==="]]")){Z=P=false;
R=R.slice(0,-2)}R+=" ";break}R+=ad;if(W&&W.test(R)){S--;if(S===0){ae=R=""}}else{if(U&&U.test(R)){S++
}}}}}break;default:if(!Z&&Y===0){if(S>0){R+=ad}else{V+=ad}}break}}if(K.RETURN.test(V)){T=true
}}if(M<J){L[N]=T;M++}return T}}()),override:function(J,L,O,N){var M=[],K;if(J&&L&&(O||N)){if(N){if(q.isFunction(O)){K=O;
O=N;N=K}}else{if(q.isFunction(O)){N=O}}if(q.isRegExp(O)){O=[O,""]}else{if(q.isString(O)){O=[new RegExp(C(O),"g"),""]
}}e(E(L),function(P){if(P){e(J,function(Q,R){if(q.isFunction(Q)&&((q.isRegExp(P)&&P.test(R))||P==R)){M[M.length]=R
}})}});e(M,function(U){var T,R,S,Q,P;if(n.call(J,U)){T=J[U];P=!!(J[U]&&J[U].apply&&typeof J[U].apply===typeof J[U].call);
if(O){R=S=T.toString();Q=E(O);if(!q.isArray(Q[0])){Q=[Q]}e(Q,function(V){var Y,X;
try{Y=V[0];X=V[1];if(q.isString(Y)){Y=new RegExp(C(Y),"g")}if(!q.isString(X)){X=""
}R=R.replace(Y,X)}catch(W){}});if(S!==R){T=q.localEval(R,J)}}J[U]=k(function(){var W=this,V=arguments;
if(q.isFunction(N)){return N.call(W,function(){var X=arguments;if(X.length===1&&X[0]&&X[0].callee&&X[0].callee===V.callee){if(P){return T.apply(W,E(X[0]))
}else{return I(J,U,E(X[0]))}}else{if(P){return T.apply(W,E(X))}else{return I(J,U,E(X))
}}},V,W,U)}else{return T.apply(W,V)}},J[U]);if(!J[U].overridden||q.isNumber(J[U].overridden)){k(J[U],{overridden:((J[U].overridden||0)-0)+1})
}}})}return J},getErrorMessage:function(J,K){var L;if(q.isError(J)){L=String(J.message||J.description||(J.toString&&J.toString())||J)
}return v(L)||v(K)||"error"}});function k(){var Q=arguments,O=Q.length,N=1,M,K,J,R,S,L;
if(O===N){K=this||{};N--}else{K=Q[N-1]}if(K){do{R=Q[N];if(R){if(q.keys){S=q.keys(R);
L=S.length;for(M=0;M<L;M++){J=S[M];try{K[J]=R[J]}catch(P){}}}else{for(J in R){try{if(n.call(R,J)){K[J]=R[J]
}}catch(P){}}}}}while(++N<O)}return K}function E(L,K){var Q,N,J,O=arguments.callee,M;
if(O.canNodeList==null){if(q.System.currentDocument){try{M=t.call(q.System.currentDocument.documentElement.childNodes)[0].nodeType;
M=null;O.canNodeList=true}catch(P){O.canNodeList=false}}}if(L==null){Q=[L]}else{switch(q.typeOf(L)){case"array":Q=L.slice();
break;case"object":if(q.isArrayLike(L)){if(!O.canNodeList&&q.isNodeList(L)){Q=[];
N=0;J=L.length;do{Q[N]=L[N]}while(++N<J)}else{Q=t.call(L)}break}default:Q=t.call(g.call([],L));
break}}if(K>0){Q=Q.slice(K)}return Q}function c(){return +new Date}function v(L,M){var K="",N,J=arguments.length;
if(L!==null){switch(typeof L){case"string":case"number":case"xml":K=L;break;case"boolean":if(J>=2&&!M){K=L
}else{if(!M){K=L?1:""}}break;case"object":if(L){N=L.constructor;if(N===String||N===Number||(typeof XML!=="undefined"&&N===XML)||(typeof Buffer!=="undefined"&&N===Buffer)){K=L
}else{if(N===Boolean){if(J>=2&&!M){K=L}else{if(!M){K=(L==true)?1:""}}}}}break;default:break
}}return K.toString()}function z(L,M,J){var K;if(M){K=new RegExp(["^[","]+|[","]+$"].join(C(M)),"g"+(J?"i":""))
}else{K=f}return v(L,true).replace(K,"")}function C(J){return v(J,true).replace(r,"\\$1")
}function I(){var R=E(arguments),T=R.length;var N,J,M,S,K,U,O,P,L;try{switch(T){case 0:throw false;
case 1:J=R[0];break;case 2:N=R[0];J=R[1];break;case 3:N=R[0];J=R[1];M=E(R[2]);break;
default:N=R[0];J=R[1];M=E(R,2);break}if(!J){throw J}if(!N&&q.isString(J)){N=(N&&N[J]&&N)||(d&&d[J]&&d)||(q.Global&&q.Global[J]&&q.Global)
}if(q.isString(J)){S=true;if(!N){N=(d||q.Global)}}}catch(Q){L=Q;throw q.isError(L)?L:new Error(L)
}if(q.isFunction(J.apply)&&q.isFunction(J.call)){if(M==null||!M.length){return J.call(N)
}else{return J.apply(N,M)}}else{K=M||[];P=K.length||0;if(S){switch(P){case 0:return N[J]();
case 1:return N[J](K[0]);case 2:return N[J](K[0],K[1]);case 3:return N[J](K[0],K[1],K[2]);
default:break}}else{switch(P){case 0:return J();case 1:return J(K[0]);case 2:return J(K[0],K[1]);
case 3:return J(K[0],K[1],K[2]);default:break}}U=[];for(O=0;O<P;O++){U[U.length]="p["+O+"]"
}return(new Function("e,o,m,p",["return e?o[m](","):m(",");"].join(U.join(","))))(S,N,J,K)
}}function s(O){var J=arguments,M=J.callee,L,K;try{if(!M.firebug("log",J)){if(!q.System.hasComponents){throw false
}K=w["@mozilla.org/consoleservice;1"].getService(p.nsIConsoleService);K.logStringMessage(String(O))
}}catch(N){if(typeof GM_log!=="undefined"){L=GM_log}else{if(typeof console!=="undefined"){L=console.debug||console.dir||console.log
}else{if(typeof opera!=="undefined"&&opera.postError){L=opera.postError}else{L=function(P){throw P
}}}}try{if(L.apply){L.apply(L,J)}else{throw L}}catch(N){try{L(O)}catch(N){try{console.log(O)
}catch(N){try{M.divConsole(O)}catch(N){}}}}}return O}k(s,{firebug:function(P,L){var J=false,N,K;
try{if(!q.System.hasComponents){throw false}N=q.XPCOM.getMostRecentWindow();if(!N){throw N
}if(N.FirebugConsole&&N.FirebugContext){K=new N.FirebugConsole(N.FirebugContext,N.content);
K[P].apply(K,L);J=true}else{if(N.Firebug&&N.Firebug.Console){try{N.Firebug.Console.logFormatted.call(N.Firebug.Console,E(L),N.FirebugContext,P);
J=true}catch(O){}}}}catch(M){}return J},dump:function(M){var L,K=arguments.callee,J;
J=function(N){return(N==null)?String(N):N.toString?N.toString():String(N)};if(M==null){return String(M)
}if(typeof uneval==="function"){return uneval(M)}else{if(typeof M.toSource==="function"){return M.toSource()
}}L=[];switch(q.typeLikeOf(M)){case"array":e(M,function(N){L[L.length]=K(N)});return"["+L.join(", ")+"]";
case"object":if(q.isNodeLike(M)||q.isWindow(M)||q.isDocument(M)){L[L.length]=x.call(M)
}else{e(M,function(O,N){L[L.length]=N+": "+K(O)})}return"{"+L.join(", ")+"}";case"string":return'"'+J(M)+'"';
case"function":return"("+J(M)+")";default:return J(M)}},divConsole:k(function(K){var O=arguments.callee,L,R,Q,J,N,P;
if(q.System.hasActiveXObject&&typeof document!=="undefined"){R=document;Q=R.documentElement||{};
try{L=(typeof Q.style.maxHeight==="undefined")}catch(M){}if(O.done&&O.ieConsole){O.append(K)
}else{if(!O.msgStack){O.msgStack=[]}O.msgStack.push(K);if(!O.done){O.done=true;q.Deferred.till(function(){return !!(R&&R.body)
}).then(function(){var T,S,U,V;T={border:"1px solid #999",background:"#fff",color:"#333",fontSize:"13px",fontFamily:"monospace",position:"absolute",padding:"10px",margin:"0px"};
V=R.createElement("div");S=V.style;e(T,function(X,W){S[W]=X});S.borderWidth="3px";
S.width="95%";S.zIndex=9996;S.left="0px";S.bottom="0px";if(L){S.height=Math.floor(Q.clientHeight/3.2)+"px"
}else{S.position="fixed";S.height="25%"}O.ieConsole=V.cloneNode(false);O.ieConsole.id=O.ieConsoleId=m(q,"");
S=O.ieConsole.style;S.borderWidth="1px";S.width="95%";S.height="87%";S.position="relative";
S.zIndex=9997;S.padding="5px";S.whiteSpace="pre";S.wordWrap="break-word";S.overflowX="hidden";
S.overflowY="auto";O.hr=R.createElement("hr");S=O.hr.style;S.position="static";S.width="100%";
S.border="1px solid #aaa";S.zIndex=9998;U=R.createElement("div");S=U.style;e(T,function(X,W){S[W]=X
});S.zIndex=9999;S.fontFamily="sans-serif";S.fontWeight="bold";S.borderWidth="1px";
S.padding="1px 4px";S.lineHeight=1;S.right="2px";S.top="2px";S.cursor="pointer";U.title="close";
U.innerHTML="x";J=function(){var X,W,Y="95%";X=R.body.clientWidth-7;V.style.width=(X<=0)?Y:X+"px";
X=V.offsetWidth-55;O.ieConsole.style.width=(X<=0)?Y:X+"px";W=Math.floor(Q.clientHeight/3.2)+"px";
V.style.height=W;N()};N=function(){var W=Q.scrollTop+(Q.clientHeight-V.clientHeight)-7;
if(W>0){V.style.top=W+"px"}};P=function(){try{V.parentNode.removeChild(V);window.dettachEvent("onscroll",N);
window.dettachEvent("onresize",J);V=O.ieConsole=null}catch(W){}};if(typeof window!=="undefined"&&window&&window.attachEvent){if(L){e({onscroll:N,onresize:J},function(X,W){window.attachEvent(W,X)
})}if(U.attachEvent){U.attachEvent("onclick",P)}}if(L){q.Deferred.wait(0.25).then(function(){V.style.bottom="1px"
}).wait(0.5).then(function(){V.style.bottom="0px"})}V.appendChild(U);V.appendChild(O.ieConsole);
R.body.appendChild(V);O.append()})}}}},{append:function(O){var M=this,K,L,J;if(M.ieConsole){try{J=E(M.msgStack||[]);
while(M.msgStack&&M.msgStack.length){M.msgStack.pop()}if(arguments.length){J.push(O)
}while(J.length){K=J.shift();L=s.dump(K);if(q.isString(K)&&L.charAt(0)==='"'&&L.slice(-1)==='"'){L=L.slice(1,-1)
}e([document.createTextNode(L),M.hr.cloneNode(false)],function(P){M.ieConsole.appendChild(P)
})}q.Internal.setTimeout(function(){M.ieConsole.scrollTop=M.ieConsole.scrollHeight
},10)}catch(N){}}}})});q.update({arrayize:E,stringify:v,trim:z,rescape:C,invoke:I,now:c,debug:s});
function e(N,S,K){var O,P,L,M,J,T;if(N){P=N.length;try{if(q.isArrayLike(N)){for(O=0;
O<P;O++){if(O in N){try{L=N[O]}catch(Q){continue}S.call(K,L,O,N)}}}else{T=q.keys(N);
P=T.length;for(O=0;O<P;O++){J=T[O];try{L=N[J]}catch(Q){continue}S.call(K,L,J,N)}}}catch(R){M=R;
if(!q.isStopIter(M)){throw M}}}return N}function m(K,J){return[String((K&&(K.NAME||K.name))||(void 0)),Math.random().toString(36).substring(2),c()].join(arguments.length>=2?J:"-")
}function u(J){return"[object "+J+"]"}function a(M,K){var L,J;if(M&&K){if(q.isObject(M.options)){L=M.options
}else{if(q.isObject(M)){L=M}}if(q.isObject(K.options)){J=K.options}else{if(q.isObject(K)){J=K
}}if("async" in J){L.async=!!J.async}if("speed" in J&&q.isNumeric(J.speed)){L.speed=J.speed
}if("cancellers" in J){if(!J.cancellers||!J.cancellers.length){J.cancellers=[]}else{if(L.cancellers&&L.cancellers.length){L.cancellers=g.call([],E(L.cancellers),E(J.cancellers))
}else{L.cancellers=E(J.cancellers)}}}if("stoppers" in J){if(!J.stoppers||!J.stoppers.length){J.stoppers=[]
}else{if(L.stoppers&&L.stoppers.length){L.stoppers=g.call([],E(L.stoppers),E(J.stoppers))
}else{L.stoppers=E(J.stoppers)}}}if("storage" in J){L.storage=J.storage||{}}if(!L.storage){L.storage={}
}}}(function(){q.update({Deferred:function(){return q.isDeferred(this)?this.init(arguments):new q.Deferred.fn.init(arguments)
}});k(q.Deferred,{StopIteration:q.StopIteration,speeds:{limp:2400,doze:1000,slow:100,normal:36,fast:20,rapid:12,ninja:0},states:{success:1,failure:2,fired:3,unfired:4}});
e(q.Deferred.states,function(Y,X){q.Deferred.states[Y]=X});k(q.Deferred,{defaults:{speed:q.Deferred.speeds.ninja,canceller:null,stopper:null,async:true}});
q.Deferred.fn=q.Deferred.prototype=k(q.Deferred.prototype,{constructor:q.Deferred,id:q.Internal.getMagicNumber(),serial:null,chains:[],chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,nested:0,state:null,results:null,destAssign:false,chainDebris:null,options:{},plugins:{},NAME:"Deferred",toString:q.toString,isDeferred:q.isDeferred,init:function(X){if(!this.serial){this.serial=m(this)
}this.options={};this.plugins={};J.call(this,E(X),q.Deferred.defaults);k(this,{results:{success:null,failure:null},state:q.Deferred.states.unfired,chains:[],nested:0,chained:false,cancelled:false,freezing:false,tilling:false,waiting:false,destAssign:false,chainDebris:null});
q.Internal.referSpeeds.call(this,q.Deferred.speeds);return this},speed:function(aa){var Y=this,X=arguments,Z;
if(q.isNumeric(aa)){Z=aa-0}else{if(q.isNumeric(q.Deferred.speeds[aa])){Z=q.Deferred.speeds[aa]-0
}else{Z=this.options.speed}}if(this.state===q.Deferred.states.unfired&&!this.chains.length){if(X.length===0){return this.options.speed
}this.options.speed=Z}else{this.then(function(ab){if(X.length===0){return Y.options.speed
}Y.options.speed=Z;return ab})}return this},async:function(Z){var Y=this,X=arguments;
if(this.state===q.Deferred.states.unfired&&!this.chains.length){if(X.length===0){return this.options.async
}this.options.async=!!Z}else{this.then(function(aa){if(X.length===0){return Y.options.async
}Y.options.async=!!Z;return aa})}return this},canceller:function(Y){var X=arguments;
if(this.state===q.Deferred.states.unfired&&!this.chains.length){if(X.length===0){return this.options.cancellers
}if(!this.cancelled&&q.isFunction(Y)){this.options.cancellers.push(Y)}}else{this.stopper.apply(this,X)
}return this},stopper:function(Z){var Y=this,X=arguments;if(this.state===q.Deferred.states.unfired&&!this.chains.length){this.canceller.apply(this,X)
}else{this.then(function(aa){if(X.length===0){return Y.options.stoppers}if(!Y.cancelled&&q.isFunction(Z)){Y.options.stoppers.push(Z)
}return aa})}return this},then:function(Y,X){if(!this.chained&&!this.cancelled){this.chains.push({success:Y,failure:X});
if(this.state&q.Deferred.states.fired){if(!this.freezing&&!this.tilling&&!this.waiting){O.call(this)
}}}q.Internal.referSpeeds.call(this,q.Deferred.speeds);return this},rescue:function(X){return this.then(null,X)
},ensure:function(X){return this.then(X,X)},cancel:function(){if(!this.cancelled){this.cancelled=true;
switch(this.state){case q.Deferred.states.unfired:Q.call(this,"cancellers");if(this.state===q.Deferred.states.unfired){this.raise(new Error(this))
}break;case q.Deferred.states.success:Q.call(this,"stoppers");if(q.isDeferred(this.results.success)){this.results.success.cancel()
}break;case q.Deferred.states.failure:Q.call(this,"stoppers");break;default:break
}}return this},begin:function(){var Z=this,X,Y=E(arguments),aa;X=Y[0];if(Y.length>1){aa=Y
}else{aa=Y[0]}if(!this.cancelled&&this.state===q.Deferred.states.unfired){if(q.isDeferred(X)&&!X.cancelled){X.ensure(function(){Z.begin.apply(this,arguments)
})}else{this.options.cancellers=[];V.call(this,aa)}}q.Internal.referSpeeds.call(this,q.Deferred.speeds);
return this},raise:function(){var Y=E(arguments),X,Z;X=Y[0];if(!q.isError(X)){Y[0]=new Error(X)
}if(Y.length>1){Z=Y}else{Z=Y[0]}return this.begin.apply(this,E(Z))},end:function(){this.chained=true;
return this},wait:function(ab,Z){var aa,Y=this,X=arguments;aa=new q.Deferred();return this.then(function(ac){if(q.isError(ac)){throw ac
}Y.waiting=true;q.Deferred.wait(ab).ensure(function(ad){Y.waiting=false;if(q.isError(ad)){aa.raise(ad)
}else{aa.begin(X.length>=2?Z:ac)}});return aa})},till:function(X){var Y=this,Z=new q.Deferred();
return this.then(function(aa){if(q.isError(aa)){throw aa}Y.tilling=true;q.Deferred.till(X,aa).ensure(function(ab){Y.tilling=false;
if(q.isError(ab)){Z.raise(ab)}else{Z.begin(aa)}});return Z})},args:function(){var Y=E(arguments),X=Y.length;
if(X===0){return q.Deferred.lastResult(this)}else{return this.then(function(){var aa,Z=E(arguments);
if(Z.length>1){aa=Z}else{aa=Z[0]}if(X>1){return Y}else{if(q.isFunction(Y[0])){return Y[0].apply(this,E(aa))
}else{return Y[0]}}})}},data:function(){var ab=this,Y=this,Z=E(arguments);var aa,X=Z.length,ac=".";
if(this.options){if(!this.options.storage){this.options.storage={}}switch(X){case 0:Y={};
e(this.options.storage,function(af,ad){try{if(ad&&ad.charAt(0)===ac){Y[ad.substring(1)]=af
}}catch(ae){}});break;case 1:if(Z[0]==null){this.options.storage={}}else{if(q.isObject(Z[0])){e(Z[0],function(ae,ad){ab.options.storage[ac+v(ad)]=ae
})}else{Y=this.options.storage[ac+v(Z[0])]}}break;case 2:this.options.storage[ac+v(Z[0])]=Z[1];
break;default:aa=0;do{this.options.storage[ac+v(Z[aa++])]=Z[aa++]}while(aa<X);break
}}return Y},update:function(){var Y=q.Deferred.fn,X=E(arguments);X.unshift(Y);k.apply(Y,X);
return this}});q.Deferred.prototype.init.prototype=q.Deferred.prototype;function R(X){if(q.isError(X)){this.state=q.Deferred.states.failure
}else{this.state=q.Deferred.states.success}return this.state}function V(X){R.call(this,X);
this.results[q.Deferred.states[this.state]]=X;if(!this.freezing&&!this.tilling&&!this.waiting){O.call(this)
}}function O(X){if(X||(!this.freezing&&!this.tilling&&!this.waiting)){if(this.options&&this.options.async){M.call(this)
}else{U.call(this)}}}function M(){var X=this,Y,Z;if(this.options&&q.isNumeric(this.options.speed)){Y=this.options.speed
}else{Y=q.Deferred.defaults.speed}this.freezing=true;Z=function(){try{N.call(X)}catch(aa){X.freezing=false;
throw aa}if(S.call(X)){O.call(X,true)}else{X.freezing=false}};if(!Y&&this.state===q.Deferred.states.unfired){q.Internal.callInBackground.flush(Z)
}else{q.Internal.setTimeout(Z,Y)}}function U(){N.call(this);if(this.options&&this.options.async){O.call(this)
}}function N(){var ab=this,X,Z,aa,ae,ac,Y;T.call(this);X=this.results[q.Deferred.states[this.state]];
ac=null;while(S.call(this)){aa=this.chains.shift();ae=aa&&aa[q.Deferred.states[this.state]];
if(!q.isFunction(ae)){continue}Y=false;try{if(this.destAssign||(q.isNumber(ae.length)&&ae.length>1&&q.isArray(X)&&X.length===ae.length)){Z=ae.apply(this,X)
}else{Z=ae.call(this,X)}if(Z===h&&this.state!==q.Deferred.states.failure&&!q.isError(X)&&!q.hasReturn(ae)){Z=X
}X=Z;this.destAssign=false;this.state=R.call({},X);if(q.isDeferred(X)){ac=function(af){return P.call(ab,af)
};this.nested++}}catch(ad){X=ad;if(q.isStopIter(X)){Y=true}else{K.call(this,X)}this.destAssign=false;
this.state=q.Deferred.states.failure;if(!q.isError(X)){X=new Error(X);if(Y){k(X,{StopIteration:q.StopIteration})
}}}if(this.options&&this.options.async){break}}this.results[q.Deferred.states[this.state]]=X;
if(ac&&this.nested){X.ensure(ac).end()}W.call(this)}function S(){return this.chains&&this.chains.length&&this.nested===0&&!this.cancelled
}function L(){var ab,aa,X,Z,ac,Y;Z=q.Deferred.states[q.Deferred.states.failure];ac=this.chains;
X=ac&&ac.length;if(X){for(aa=0;aa<X;aa++){if(ac[aa]){Y=ac[aa][Z];if(Y&&q.isFunction(Y)){ab=true;
break}}}}return ab}function K(X){if(!L.call(this)){this.chainDebris={error:X}}}function W(){var X=this,Y;
if(this.chainDebris&&"error" in this.chainDebris&&(this.cancelled||this.chained||(!this.chains||!this.chains.length))){if(this.options&&q.isNumeric(this.options.speed)){Y=this.options.speed
}else{Y=q.Deferred.defaults.speed}this.chainDebris.timerId=q.Internal.setTimeout(function(){throw X.chainDebris.error
},Y)}}function T(){if(this.chainDebris&&this.chainDebris.timerId!=null&&(this.state&q.Deferred.states.fired)&&L.call(this)){q.Internal.clearTimeout(this.chainDebris.timerId);
delete this.chainDebris.error;delete this.chainDebris.timerId;this.chainDebris=null
}}function P(X){V.call(this,X);this.nested--;if(this.nested===0&&!this.cancelled&&(this.state&q.Deferred.states.fired)){O.call(this)
}}function J(Y,ad){var ab,ac,X,aa,Z,ae;if(Y){if(Y.length===1&&Y[0]&&q.isObject(Y[0])){ab=Y[0];
if(ab.speed!==ae||ab.canceller!==ae||ab.async!==ae||ab.stopper!==ae){ac=ab.speed;
X=ab.canceller;aa=ab.stopper;Z=ab.async}else{ac=ab.options&&ab.options.speed;X=ab.options&&ab.options.canceller;
aa=ab.options&&ab.options.stopper;Z=ab.options&&ab.options.async}}else{if(Y.length===1&&Y[0]&&q.isArray(Y[0])){ab=Y[0]
}else{ab=Y}e(ab||[],function(af){if(ac===ae&&q.isNumeric(af)){ac=af}else{if(ac===ae&&q.isNumeric(q.Deferred.speeds[af])){ac=q.Deferred.speeds[af]
}else{if(X===ae&&q.isFunction(af)){X=af}else{if(Z===ae&&q.isBoolean(af)){Z=af}else{if(aa===ae&&X===ae&&q.isFunction(af)){aa=af
}}}}}})}}this.options=this.options||{};this.options.storage=this.options.storage||{};
if(!q.isArray(this.options.cancellers)){this.options.cancellers=[]}if(!q.isArray(this.options.stoppers)){this.options.stoppers=[]
}if(!q.isNumeric(ac)){if(this.options.speed!==ae&&q.isNumeric(this.options.speed)){ac=this.options.speed-0
}else{ac=ad.speed}}if(!q.isFunction(X)){X=ad.canceller}if(!q.isFunction(aa)){aa=ad.stopper
}if(!q.isBoolean(Z)){if(this.options.async!==ae&&q.isBoolean(this.options.async)){Z=this.options.async
}else{Z=ad.async}}k(this.options,{speed:ac-0,async:Z});if(q.isFunction(X)){this.options.cancellers.push(X)
}if(q.isFunction(aa)){this.options.stoppers.push(aa)}return this}function Q(X){var Y;
while(this.options[X]&&this.options[X].length){Y=this.options[X].shift();if(q.isFunction(Y)){Y.call(this)
}}}k(q.Deferred,{extendSpeeds:function(ac,aa,X,Z){var ab=function(ad,ae){return function(){var ah={},af=arguments,ag=af.callee;
af=E(af);J.call(ah,af,{speed:ae,canceller:q.Deferred.defaults.canceller,stopper:q.Deferred.defaults.stopper,async:q.Deferred.defaults.async});
ah.speedName=ad;af.unshift(ah);return X.apply(ag.instance,af)}},Y={};e(Z,function(ae,ad){Y[ad]=ab(ad,ae)
});return k(ac[aa],Y)}});k(q.Internal,{referSpeeds:k(function(X){var Y=arguments.callee,aa,Z;
if(X&&this.forEach.fast.instance!==this){for(aa in Y.props){if(aa in this&&this[aa]){for(Z in Y.speeds){if(Z in X&&Z in this[aa]&&this[aa][Z]){this[aa][Z].instance=this
}}}}}},{props:{forEach:true,repeat:true,forEver:true,iterate:true,items:true,zip:true,map:true,filter:true,reduce:true,every:true,some:true},speeds:{limp:0,doze:1,slow:2,normal:3,fast:4,rapid:5,ninja:6}})});
q.Deferred.extendSpeeds(q,"Deferred",function(X){return q.Deferred(X)},q.Deferred.speeds)
}());(function(){k(q.Deferred,{isDeferred:q.isDeferred,succeed:function(){var J=new q.Deferred();
J.begin.apply(J,arguments);return J},failure:function(){var J=new q.Deferred();J.raise.apply(J,arguments);
return J},wait:function(L,J){var M,K=new q.Deferred({canceller:function(){try{q.Internal.clearTimeout(M)
}catch(N){}}});if(arguments.length>=2){K.then(function(){return J})}M=q.Internal.setTimeout(function(){K.begin()
},Math.floor(((L-0)||0)*1000));return K},callLater:function(K,L){var J=E(arguments,2);
return q.Deferred.wait(K).then(function(){if(q.isDeferred(L)){return L.begin.apply(L,J)
}else{if(q.isFunction(L)){return L.apply(L,J)}else{return L}}})},callLazy:function(K){var J=E(arguments,1);
return q.Deferred.begin(function(){if(q.isDeferred(K)){return K.begin.apply(K,J)}else{if(q.isFunction(K)){return K.apply(K,J)
}else{return K}}})},maybeDeferred:function(K){var J;if(q.isDeferred(K)){if(q.Deferred.isFired(K)){J=K
}else{J=K.begin()}}else{if(q.isError(K)){J=q.Deferred.failure(K)}else{J=q.Deferred.succeed(K)
}}return J},isFired:function(J){return q.isDeferred(J)&&((J.state&q.Deferred.states.fired)!==0)
},lastResult:function(K,N){var J,L=arguments,M;if(q.isDeferred(K)){try{M=q.Deferred.states[q.Deferred.states.success];
if(L.length<=1){J=K.results[M]}else{K.results[M]=N;J=K}}catch(O){}}return J},lastError:function(K,N){var J,L=arguments,M;
if(q.isDeferred(K)){try{M=q.Deferred.states[q.Deferred.states.failure];if(L.length<=1){J=K.results[M]
}else{if(!q.isError(N)){N=new Error(N)}K.results[M]=N;J=K}}catch(O){}}return J},register:function(){var J,M=q.Deferred.fn,L=E(arguments),K;
J=0;K=[];switch(L.length){case 0:break;case 1:if(q.isObject(L[0])){e(L[0],function(O,N){if(q.isFunction(O)&&q.isString(N)){K.push([N,O])
}else{if(q.isFunction(N)&&q.isString(O)){K.push([O,N])}}})}break;case 2:default:if(q.isFunction(L[0])){K.push([L[1],L[0]])
}else{K.push([L[0],L[1]])}break}if(K&&K.length){e(K,function(Q){var O={},N,P,R;if(Q&&Q.length>=2&&q.isFunction(Q[1])){N=v(Q[0],true);
P=Q[1];R=function(){var S={};S.inputs=arguments;return this.then(function(){S.results=arguments;
return P.call(this,S)})};O[N]=R;k(M,O);J++}})}return J},unregister:function(){var J,L=q.Deferred.fn,K=E(arguments),M;
J=0;if(K.length>1){M=K}else{M=K[0]}e(E(M),function(N){try{delete L[N];J++}catch(O){}});
return J},deferrize:function(K,P){var J=arguments,N,L,M;try{switch(J.length){case 0:throw false;
case 1:N=K;break;case 2:default:if(q.isObject(P)){L=P;N=K}else{N=P;L=K}break}if(!N){throw N
}}catch(O){M=O;throw (q.isError(M)?M:new Error(M))}return function(){var R=this,Q=E(arguments),S=new q.Deferred();
S.then(function(){var U,T,Y=[],V=false,W,Z=q.Deferred.isFired;U=new q.Deferred();
e(Q,function(aa){if(q.isFunction(aa)){Y.push(function(){var ab,ad;try{ab=aa.apply(R,arguments)
}catch(ac){ad=ac;if(!Z(U)){U.raise(ad)}}finally{if(!Z(U)){U.begin(ab)}}if(ad!=null){throw ad
}return ab});V=true}else{Y[Y.length]=aa}});try{T=I(L,N,Y)}catch(X){W=X;if(!V&&!Z(U)){U.raise(W)
}}finally{if(!V&&!Z(U)){U.begin(T)}}if(W!=null){throw q.isError(W)?W:new Error(W)
}return U}).begin();return S}},update:function(){var K=q.Deferred,J=E(arguments);
J.unshift(K);return k.apply(K,J)}});k(q.Deferred,{begin:function(J){var N,K=E(arguments,1),M,L;
N=new q.Deferred();M=(J&&q.isFunction(J));if(M){N.then(function(){return J.apply(this,K)
})}else{L=J}q.Internal.callInBackground.flush(function(){N.begin(L)});return N},flush:function(K){var J=E(arguments,1);
return q.Deferred.begin(function(){if(q.isDeferred(K)){return K.begin.apply(K,J)}else{if(q.isFunction(K)){return K.apply(this,J)
}else{return K}}})},till:function(L){var M=new q.Deferred(),K=E(arguments,1),J=13;
return q.Deferred.begin(function(){var O=this,N=arguments.callee,P=c();if(L&&!L.apply(this,K)){q.Internal.setTimeout(function(){N.call(O)
},Math.min(1000,J+(c()-P)))}else{M.begin()}return M})},parallel:function(O){var J,L=arguments,P,N,K,M;
if(L.length===0){J=q.Deferred.succeed()}else{if(L.length===1){if(q.isObject(O)){N=O
}else{N=E(O)}}else{N=E(L)}J=new q.Deferred({canceller:function(){e(N,function(Q){if(q.isDeferred(Q)){Q.cancel()
}})}});P=new q.Deferred();M=[];K=q.isObject(N)?{}:[];e(N,function(Q,R){var S;if(q.isDeferred(Q)){S=Q
}else{if(q.isFunction(Q)){S=new q.Deferred();S.then(function(){var T=Q();if(q.isDeferred(T)&&T.state===q.Deferred.states.unfired){T.begin()
}return T})}else{S=q.Deferred.succeed(Q)}}if(!q.isDeferred(S)){S=q.Deferred.maybeDeferred(S)
}M[M.length]=R;P.then(function(){if(S.state===q.Deferred.states.unfired){q.Deferred.flush(S)
}S.then(function(T){if(M.length){K[R]=T;M.pop();if(M.length===0){J.begin(K)}}},function(T){M=[];
J.raise(T)})})});q.Deferred.flush(P)}return J},chain:(function(){var J={funcName:/^\s*[()]*\s*function\s*([^\s()]+)/,rescue:/rescue|raise|err|fail/i};
return function(){var L=arguments,K=L.length,N,M=new q.Deferred();if(K>0){N=E((K===1)?L[0]:L);
e(N,function(Q){var O;if(q.isFunction(Q)){try{O=Q.toString().match(J.funcName)[1]
}catch(P){}if(O&&J.rescue.test(O)){M.rescue(Q)}else{M.then(Q)}}else{if(q.isDeferred(Q)){M.then(function(R){if(Q.state===q.Deferred.states.unfired){Q.begin(R)
}return Q})}else{if(q.isObject(Q)||q.isArray(Q)){M.then(function(){return q.Deferred.parallel(Q)
})}else{if(q.isError(Q)){M.then(function(){throw Q})}else{M.then(function(){return Q
})}}}}})}q.Deferred.callLazy(M);return M}}())});q.Deferred.extendSpeeds(q.Deferred,"begin",function(J,Q){var O,K,P=E(arguments,2),L,N,M,R;
L=(Q&&q.isFunction(Q));N=J.options||J||{};if(!N.cancellers){N.cancellers=[]}N.cancellers.push(function(){try{if(K!=null){q.Internal.clearTimeout(K)
}}catch(S){}});O=new q.Deferred(N);if(L){O.then(function(){return Q.apply(this,P)
})}else{R=Q}M=(((J.options&&J.options.speed)||J.speed)-0)||0;if(q.isNumeric(M)&&M>0){K=q.Internal.setTimeout(function(){O.begin(R)
},M)}else{q.Internal.callInBackground.flush(function(){O.begin(R)})}return O},q.Deferred.speeds);
q.Deferred.extendSpeeds(q.Deferred,"flush",function(L,O){var M,K,N,J=E(arguments,2);
M=L.options?L.options.speed:L.speed;if(M in q.Deferred.speeds&&q.isString(q.Deferred.speeds[M])){K=q.Deferred.speeds[M]
}else{e(q.Deferred.speeds,function(Q,P){if(Q==M){K=P;throw q.StopIteration}})}if(K&&K in q.Deferred.begin){N=q.Deferred.begin[K]
}else{N=q.Deferred.begin}return N(function(){if(q.isDeferred(O)){return O.begin.apply(O,J)
}else{if(q.isFunction(O)){return O.apply(this,J)}else{return O}}})},q.Deferred.speeds);
q.update({succeed:q.Deferred.succeed,failure:q.Deferred.failure,wait:q.Deferred.wait,callLater:q.Deferred.callLater,callLazy:q.Deferred.callLazy,maybeDeferred:q.Deferred.maybeDeferred,isFired:q.Deferred.isFired,lastResult:q.Deferred.lastResult,lastError:q.Deferred.lastError,register:q.Deferred.register,unregister:q.Deferred.unregister,deferrize:q.Deferred.deferrize,begin:q.Deferred.begin,flush:q.Deferred.flush,till:q.Deferred.till,parallel:q.Deferred.parallel,chain:q.Deferred.chain})
}());k(q.Internal,{LightIterator:k(function(K,L,J){return new q.Internal.LightIterator.prototype.doit(K,L,J)
},{speeds:{limp:-1,doze:0,slow:2,normal:5,fast:12,rapid:36,ninja:60},delays:{limp:1000,doze:100,slow:13,normal:0,fast:0,rapid:0,ninja:0},types:{forLoop:1,forInLoop:2,repeat:4,forEver:8,iterate:16,items:32,zip:64}})});
k(q.Internal.LightIterator,{defaults:{speed:q.Internal.LightIterator.speeds.normal},revSpeeds:{}});
e(q.Internal.LightIterator.speeds,function(K,J){q.Internal.LightIterator.revSpeeds[K]=J
});q.Internal.LightIterator.fn=q.Internal.LightIterator.prototype=k(q.Internal.LightIterator.prototype,{constructor:q.Internal.LightIterator,interval:q.Internal.LightIterator.defaults.speed,iter:null,result:null,deferred:null,revDeferred:null,isDeferStopIter:false,time:{},waiting:false,restable:false,async:false,options:null,doit:function(K,L,J){this.setOptions(J);
this.execute(K,L);this.watch();return this},setOptions:function(J){this.options=J||{};
this.setInterval();this.setAsync()},setInterval:function(){var J=null;if(q.isNumeric(this.options.interval)){J=this.options.interval-0
}else{if(this.options.interval in q.Internal.LightIterator.speeds){J=q.Internal.LightIterator.speeds[this.options.interval]-0
}}if(J!==null&&!isNaN(J)){this.interval=J}if(!q.isNumeric(this.interval)){this.interval=q.Internal.LightIterator.defaults.speed
}},setAsync:function(){var J=null;if(this.options.async!==h){J=!!this.options.async
}if(J!==null){this.async=!!J}if(!q.isBoolean(this.async)){this.async=!!this.async
}},createDeferred:function(){return new q.Deferred({async:false})},watch:function(){var J=this;
if(!this.async&&this.waiting===true&&q.System.isWaitable){q.XPCOM.throughout(function(){return J.waiting!==true
})}},execute:function(J,M){var L,K=this;this.waiting=true;if(!J){this.result={};this.waiting=false
}else{this.waiting=true;this.restable=true;this.time={start:c(),total:null,loop:null,diff:null,risk:null,axis:null,count:1,rest:100,limit:255};
this.setIter(J,M);if(!this.async&&!q.System.isWaitable){this.revback();this.waiting=false
}else{L=this.createDeferred();L.then(function(){var O=K.createDeferred(),N=K.createDeferred();
O.then(function(){return K.revolve().then(function(){N.begin()})}).begin();return N
}).ensure(function(){K.waiting=false});if(this.async){this.deferred=L.then(function(){if(q.isDeferred(K.result)&&q.isStopIter(q.Deferred.lastError(K.result))){K.result=q.Deferred.lastResult(K.result)
}return K.result})}this.flush(L)}}},setIter:function(J,N){var M=this.options.type,L=q.Internal.LightIterator.types,K=this.options.context;
if((M&L.iterate)===L.iterate){this.result=null;this.iter=this.iterate(J,N,K)}else{if((M&L.forEver)===L.forEver){this.result={};
this.iter=this.forEver(J,K)}else{if((M&L.repeat)===L.repeat){this.result={};this.iter=this.repeat(J,N,K)
}else{if((M&L.items)===L.items){this.result=[];this.iter=this.items(J,N,K)}else{if((M&L.zip)===L.zip){this.result=[];
this.iter=this.zip(J,N,K)}else{if(q.isArrayLike(J)){this.result=J;this.iter=this.forLoop(J,N,K)
}else{this.result=J;this.iter=this.forInLoop(J,N,K)}}}}}}},revback:function(){var M=this,J,L,K=false,O;
this.time.loop=c();REVOLVE:{do{try{if(this.isDeferStopIter){this.isDeferStopIter=false;
throw q.StopIteration}J=this.iter.next()}catch(N){L=N;if(q.isStopIter(L)){break REVOLVE
}throw L}if(this.async&&q.isDeferred(J)){return J.ensure(function(P){if(P!==h){if(q.isError(P)){if(q.isStopIter(P)){M.isDeferStopIter=true;
if(q.isDeferred(M.result)&&q.isStopIter(q.Deferred.lastError(M.result))){M.result=q.Deferred.lastResult(M.result)
}}else{q.Deferred.lastError(this,P)}}else{q.Deferred.lastResult(this,P)}}M.flush(M.revback,true)
})}O=c();if(q.System.isWaitable){if(this.time.total===null){this.time.total=O}else{if(O-this.time.total>=this.time.rest){q.XPCOM.throughout(0);
this.time.total=c()}}}else{if(!this.async){if(this.restable&&this.time.count>=this.time.limit){this.restable=false
}}}this.time.risk=O-this.time.start;this.time.diff=O-this.time.loop;if(this.time.diff>=this.interval){if(this.async&&this.interval<q.Internal.LightIterator.speeds.normal){K=true
}else{if(this.async||this.restable||q.System.isWaitable){if(this.time.diff<this.interval+8){this.time.axis=2
}else{if(this.time.diff<this.interval+36){this.time.axis=5}else{if(this.time.diff<this.interval+48){this.time.axis=7
}else{this.time.axis=10}}}if(this.time.axis>=10||(Math.random()*10<this.time.axis)){K=true
}}}}}while(!K);if(this.time.count<=this.time.limit){this.time.count++}return this.flush(this.revback,true)
}if(q.isDeferred(this.revDeferred)){this.revDeferred.begin()}},revolve:function(){var J=this,K=this.createDeferred(),L=this.createDeferred();
K.then(function(){var M=J.createDeferred();J.revDeferred=J.createDeferred();M.then(function(){return J.revback()
}).begin();return J.revDeferred}).ensure(function(M){L.begin();if(q.isError(M)){throw M
}});this.flush(K);return L},flush:function(P,M){var K=this,O,J=false,L,N;if(this.async||q.System.isWaitable){J=true
}if(!J&&q.isFunction(P)){return P.call(this)}else{O=this.createDeferred();O.then(function(){if(q.isDeferred(P)){P.begin()
}else{P.call(K)}});if(J){L=0;if(M){N=q.Internal.LightIterator.revSpeeds[this.interval];
if(N&&q.isNumeric(q.Internal.LightIterator.delays[N])){L=q.Internal.LightIterator.delays[N]
}if(Math.random()*10<Math.max(2,(this.time.axis||2)/2.75)){L+=Math.min(this.time.rest,Math.max(1,Math.ceil((this.time.risk/(this.time.rest+this.time.diff))+this.time.diff)))
}}q.Internal.setTimeout(function(){O.begin()},L)}else{O.begin()}return(void 0)}},noop:function(){return{next:function(){throw q.StopIteration
}}},forEver:function(L,K){var J=0;if(!q.isFunction(L)){return this.noop()}return{next:function(){var M=L.call(K,J);
try{if(!isFinite(++J)||J>=Number.MAX_VALUE){throw 0}}catch(N){J=0}return M}}},repeat:function(J,P,M){var L,K,O,N;
if(!q.isFunction(P)){return this.noop()}if(!J||J==null){O=0}else{if(q.isNumeric(J)){O=J-0
}else{O=J||{};if(q.isNumeric(O.start)){O.begin=O.start}if(q.isNumeric(O.stop)){O.end=O.stop
}}}K={begin:q.isNumeric(O.begin)?O.begin-0:0,end:q.isNumeric(O.end)?O.end-0:(O||0)-0,step:q.isNumeric(O.step)?O.step-0:1,last:false,prev:null};
L=K.step?K.begin:K.end;N=K.end-K.step;return{next:function(){var Q;if(L<K.end){K.last=(L>=N);
Q=P.call(M,L,K.last,K);K.prev=Q}else{throw q.StopIteration}L+=K.step;return Q}}},forLoop:function(J,N,L){var M,K=0;
if(!J||!J.length||!q.isFunction(N)){return this.noop()}M=E(J);return{next:function(){var Q,O;
while(true){if(K>=M.length){throw q.StopIteration}if(!(K in M)){K++;continue}try{Q=M[K]
}catch(P){K++;continue}O=N.call(L,Q,K,J);K++;return O}}}},forInLoop:function(J,N,L){var M,K=0;
if(q.isFunction(N)){M=[];e(J,function(O,P){M[M.length]=[O,P]})}if(!M||!M.length){return this.noop()
}return{next:function(){var O,S,P,R;while(true){if(K>=M.length){throw q.StopIteration
}if(!(K in M)){K++;continue}try{S=M[K];R=S[0];P=S[1]}catch(Q){K++;continue}O=N.call(L,R,P,J);
K++;return O}}}},iterate:function(J,N,K){var L=this,M;if(q.isIterable(J)&&!q.isIter(J)){if(q.isFunction(N)){return{next:function(){var O=J.next();
L.result=N.apply(K,E(O));return L.result}}}else{return{next:function(){L.result=J.next();
return L.result}}}}else{M=q.Iter.toIter(J);if(!q.isIter(M)){return this.noop()}if(q.isFunction(N)){return{next:function(){var O=M.next();
O=E(O);while(O.length<2){O.push((void 0))}O.push(J);L.result=N.apply(K,O);return L.result
}}}else{return{next:function(){L.result=M.next();return L.result}}}}},items:function(J,P,L){var M=this,O,K=0,N;
if(q.isObject(J)){O=[];e(J,function(Q,R){O[O.length]=[R,Q]});N=true}else{if(q.isArrayLike(J)){O=E(J)
}}if(!O||!O.length){return this.noop()}if(q.isFunction(P)){return{next:function(){var Q,U,R,T;
while(true){if(K>=O.length){throw q.StopIteration}if(!(K in O)){K++;continue}try{U=O[K];
if(N){R=U[0];T=U[1]}else{R=K;T=U}}catch(S){K++;continue}Q=P.call(L,[R,T],J);K++;M.result[M.result.length]=Q;
return Q}}}}else{return{next:function(){var T,S,R,Q;while(true){if(K>=O.length){throw q.StopIteration
}if(!(K in O)){K++;continue}try{S=O[K];if(N){R=S[0];Q=S[1]}else{R=K;Q=S}}catch(U){K++;
continue}K++;T=[R,Q];M.result[M.result.length]=T;return T}}}}},zip:function(K,P,M){var N=this,O,L=0,J;
if(q.isArrayLike(K)){O=E(K);J=O.length}if(!J||!O||!O.length){return this.noop()}if(q.isFunction(P)){return{next:function(){var Q,S=[],R,T;
for(R=0;R<J;R++){T=E(O[R]);if(!T||!T.length||L>=T.length){throw q.StopIteration}S[S.length]=T[L]
}Q=P.call(M,S,K);N.result[N.result.length]=Q;L++;return Q}}}else{return{next:function(){var S=[],Q,R;
for(Q=0;Q<J;Q++){R=E(O[Q]);if(!R||!R.length||L>=R.length){throw q.StopIteration}S[S.length]=R[L]
}N.result[N.result.length]=S;L++;return S}}}}});q.Internal.LightIterator.prototype.doit.prototype=q.Internal.LightIterator.prototype;
k(q.Internal.LightIterator,{QuickIteration:{resolve:function(J){var K;try{while(true){J.next()
}}catch(L){K=L;if(!q.isStopIter(K)){throw K}}},forEach:function(L,O,M){var J,K,N=q.Internal.LightIterator.fn;
if(!L){J={}}else{J=L;if(q.isArrayLike(L)){K=N.forLoop(L,O,M)}else{K=N.forInLoop(L,O,M)
}q.Internal.LightIterator.QuickIteration.resolve(K)}return J},repeat:function(K,O,M){var J={},L,N=q.Internal.LightIterator.fn;
if(K){L=N.repeat(K,O,M);q.Internal.LightIterator.QuickIteration.resolve(L)}return J
},forEver:function(N,L){var J={},K,M=q.Internal.LightIterator.fn;if(N){K=M.forEver(N,L);
q.Internal.LightIterator.QuickIteration.resolve(K)}return J},iterate:function(L,P,M){var J,K,O,N=q.Internal.LightIterator.fn;
if(!L){J={}}else{J=null;O={noop:N.noop,result:null};K=N.iterate.call(O,L,P,M);q.Internal.LightIterator.QuickIteration.resolve(K);
J=O.result}return J},items:function(L,P,M){var J=[],K,O,N=q.Internal.LightIterator.fn;
if(L){O={noop:N.noop,result:[]};K=N.items.call(O,L,P,M);q.Internal.LightIterator.QuickIteration.resolve(K);
J=O.result}return J},zip:function(L,P,M){var J=[],K,O,N=q.Internal.LightIterator.fn;
if(L){O={noop:N.noop,result:[]};K=N.zip.call(O,L,P,M);q.Internal.LightIterator.QuickIteration.resolve(K);
J=O.result}return J}}});k(q.tmp,{createLightIterateConstructor:function(N){var L,M=function(P){var O;
if(q.Internal.LightIterator.speeds[P]===h){O=q.Internal.LightIterator.defaults.speed
}else{O=q.Internal.LightIterator.speeds[P]}return N(O)},K={},J=M();for(L in q.Internal.LightIterator.speeds){K[L]=M(L)
}return k(J,K)}});q.update({forEach:q.tmp.createLightIterateConstructor(function(J){if(q.System.isWaitable&&J<q.Internal.LightIterator.speeds.normal){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.forLoop|q.Internal.LightIterator.types.forInLoop;
M.interval=J;M.async=false;M.context=L;return(new q.Internal.LightIterator(K,N,M)).result
}}else{return function(K,M,L){return q.Internal.LightIterator.QuickIteration.forEach(K,M,L)
}}}),repeat:q.tmp.createLightIterateConstructor(function(J){if(q.System.isWaitable&&J<q.Internal.LightIterator.speeds.normal){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.repeat;M.interval=J;M.async=false;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).result}}else{return function(K,M,L){return q.Internal.LightIterator.QuickIteration.repeat(K,M,L)
}}}),forEver:q.tmp.createLightIterateConstructor(function(J){if(q.System.isWaitable&&J<q.Internal.LightIterator.speeds.normal){return function(M,K){var L={};
L.type=q.Internal.LightIterator.types.forEver;L.interval=J;L.async=false;L.context=K;
return(new q.Internal.LightIterator(M,null,L)).result}}else{return function(L,K){return q.Internal.LightIterator.QuickIteration.forEver(L,K)
}}}),iterate:q.tmp.createLightIterateConstructor(function(J){if(q.System.isWaitable&&J<q.Internal.LightIterator.speeds.normal){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.iterate;M.interval=J;M.async=false;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).result}}else{return function(K,M,L){return q.Internal.LightIterator.QuickIteration.iterate(K,M,L)
}}}),items:q.tmp.createLightIterateConstructor(function(J){if(q.System.isWaitable&&J<q.Internal.LightIterator.speeds.normal){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.items;M.interval=J;M.async=false;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).result}}else{return function(K,M,L){return q.Internal.LightIterator.QuickIteration.items(K,M,L)
}}}),zip:q.tmp.createLightIterateConstructor(function(J){if(q.System.isWaitable&&J<q.Internal.LightIterator.speeds.normal){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.zip;M.interval=J;M.async=false;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).result}}else{return function(K,M,L){return q.Internal.LightIterator.QuickIteration.zip(K,M,L)
}}})});k(q.Deferred,{forEach:q.tmp.createLightIterateConstructor(function(J){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.forLoop|q.Internal.LightIterator.types.forInLoop;
M.interval=J;M.async=true;M.context=L;return(new q.Internal.LightIterator(K,N,M)).deferred
}}),repeat:q.tmp.createLightIterateConstructor(function(J){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.repeat;M.interval=J;M.async=true;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).deferred}}),forEver:q.tmp.createLightIterateConstructor(function(J){return function(M,K){var L={};
L.type=q.Internal.LightIterator.types.forEver;L.interval=J;L.async=true;L.context=K;
return(new q.Internal.LightIterator(M,null,L)).deferred}}),iterate:q.tmp.createLightIterateConstructor(function(J){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.iterate;M.interval=J;M.async=true;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).deferred}}),items:q.tmp.createLightIterateConstructor(function(J){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.items;M.interval=J;M.async=true;M.context=L;
return(new q.Internal.LightIterator(K,N,M)).deferred}}),zip:q.tmp.createLightIterateConstructor(function(J){return function(K,N,L){var M={};
M.type=q.Internal.LightIterator.types.zip;M.interval=J;M.async=true;M.context=L;return(new q.Internal.LightIterator(K,N,M)).deferred
}})});delete q.tmp.createLightIterateConstructor;q.update({Iter:function(){return q.isIter(this)?this.init(arguments):new q.Iter.fn.init(arguments)
}});q.Iter.fn=q.Iter.prototype=k(q.Iter.prototype,{constructor:q.Iter,id:q.Internal.getMagicNumber(),serial:null,NAME:"Iter",toString:q.toString,isIter:q.isIter,init:function(J){if(!this.serial){this.serial=m(this)
}return this},next:function(){throw q.StopIteration}});q.Iter.prototype.init.prototype=q.Iter.prototype;
k(q.Iter,{StopIteration:q.StopIteration,toIter:function(K){var L,N,J,M;if(q.isIter(K)){return K
}J=K&&q.isArrayLike(K);M=K&&!J&&q.isObject(K);if(M){N=[];e(K,function(O,P){N[N.length]=[O,P]
})}else{N=E(K)}L=new q.Iter();L.next=(function(){var O=0;if(M){return function(){var P,S,R;
while(true){if(O>=N.length){throw q.StopIteration}if(!(O in N)){O++;continue}try{P=N[O][1];
S=N[O][0]}catch(Q){O++;continue}R=[S,P];O++;return R}}}else{return function(){var Q,P;
while(true){if(O>=N.length){throw q.StopIteration}if(!(O in N)){O++;continue}try{Q=N[O]
}catch(R){O++;continue}P=[Q,O];O++;return P}}}}());return L},forEach:function(){return q.iterate.apply(null,arguments)
},map:function(L,P,J){var Q,R,N,O,M,K;O=this&&this.iterateSpeed;R=L&&q.isArrayLike(L);
N=L&&!R&&q.isObject(L);if(R){Q=[]}else{if(N){Q={}}else{Q=null}}K=O||this&&this.iterateSpeedSync||q.iterate;
M=function(){return K(L,function(V,T,U){var S=P.call(J,V,T,U);if(q.isDeferred(S)){return S.then(function(W){if(R){Q[Q.length]=W
}else{if(N){Q[T]=W}else{Q=W}}})}else{if(R){Q[Q.length]=S}else{if(N){Q[T]=S}else{Q=S
}}}},J)};if(O){return M().then(function(){return Q})}else{M();return Q}},filter:(function(){var J=function(K){return K
};return function(N,R,K){var S,T,P,Q,O,L,M;M=R||J;Q=this&&this.iterateSpeed;T=N&&q.isArrayLike(N);
P=N&&!T&&q.isObject(N);if(T){S=[]}else{if(P){S={}}else{S=null}}L=Q||this&&this.iterateSpeedSync||q.iterate;
O=function(){return L(N,function(X,V,W){var U=M.call(K,X,V,W);if(q.isDeferred(U)){return U.then(function(Y){if(Y){if(T){S[S.length]=X
}else{if(P){S[V]=X}else{S=X}}}})}else{if(U){if(T){S[S.length]=X}else{if(P){S[V]=X
}else{S=X}}}}},K)};if(Q){return O().then(function(){return S})}else{O();return S}}
}()),reduce:function(L,S,O,J){var T,N,Q,R,P,M,K;P=this&&this.iterateSpeed;T=L&&q.isArrayLike(L);
N=L&&!T&&q.isObject(L);if(O===h){Q=(function(){var U;if(T||N){e(L,function(V){U=V;
throw q.StopIteration})}return U}())}else{Q=O}R=true;K=P||this&&this.iterateSpeedSync||q.iterate;
M=function(){return K(L,function(X,V,W){var U;if(R){R=false}else{U=S.call(J,Q,X,V,W);
if(q.isDeferred(U)){return U.then(function(Y){Q=Y})}else{Q=U}}},J)};if(P){return M().then(function(){return Q
})}else{M();return Q}},every:function(K,P,L){var J=true,O,M,N;O=this&&this.iterateSpeed;
N=O||this&&this.iterateSpeedSync||q.iterate;M=function(){return N(K,function(T,R,S){var Q=P.call(L,T,R,S);
if(q.isDeferred(Q)){return Q.then(function(U){if(!U){J=false;throw q.StopIteration
}})}else{if(!Q){J=false;throw q.StopIteration}}},L)};if(O){return M().then(function(){return J
})}else{M();return J}},some:function(K,P,L){var J=false,O,M,N;O=this&&this.iterateSpeed;
N=O||this&&this.iterateSpeedSync||q.iterate;M=function(){return N(K,function(T,R,S){var Q=P.call(L,T,R,S);
if(q.isDeferred(Q)){return Q.then(function(U){if(U){J=true;throw q.StopIteration}})
}else{if(Q){J=true;throw q.StopIteration}}},L)};if(O){return M().then(function(){return J
})}else{M();return J}},range:function(){var O=arguments,Q,R=[],L=0,M=0,K=1,J,N,P;
switch(O.length){case 0:return(void 0);case 1:Q=O[0];if(q.isObject(Q)){if("begin" in Q){L=Q.begin
}else{if("start" in Q){L=Q.start}}if("end" in Q){M=Q.end}else{if("stop" in Q){M=Q.stop
}}if("step" in Q){K=Q.step}}else{M=Q}break;case 2:L=O[0];M=O[1];break;case 3:default:L=O[0];
M=O[1];K=O[2];break}if(q.isString(L)&&L.length===1&&q.isString(M)&&M.length===1){L=L.charCodeAt(0)||0;
M=M.charCodeAt(0)||0;N=true}else{L=L-0;M=M-0;N=false}K=K-0;if(isNaN(L)||isNaN(M)||isNaN(K)||K==0){return R
}if((K>0&&L>M)||(K<0&&L<M)){J=L;L=M;M=J}P=new q.Iter();P.next=function(){if((K>0&&L>M)||(K<0&&L<M)){throw q.StopIteration
}R[R.length]=N?H(L):L;L+=K};q.iterate(P);return R},indexOf:function(L,S,T){var W=-1,O,P,J,N,R=arguments,U=R.length,V=L&&q.isArrayLike(L),M=L&&!V&&q.isObject(L);
if(V){try{if(q.System.isBuiltinArrayIndexOf){O=b.apply(L,E(R,1));if(q.isNumeric(O)){W=O
}else{throw O}}else{throw O}}catch(K){P=(L&&L.length)||0;O=(+T)||0;O=(O<0)?Math.ceil(O):Math.floor(O);
if(O<0){O+=P}for(;O<P;O++){try{if(O in L){J=L[O];if(J===S){W=O;break}}}catch(Q){continue
}}}}else{if(M){N=false;e(L,function(X,Y){if(!N&&U>=3&&T!==Y){return}else{N=true}if(X===S){W=Y
}})}else{if(L!=null){try{J=(L.toString&&L.toString())||String(L);W=String.prototype.indexOf.apply(J,E(R,1))
}catch(Q){W=-1}}else{W=-1}}}return W},lastIndexOf:function(M,T,U){var X=-1,P,Q,V,K,O,J,S=arguments,W=M&&q.isArrayLike(M),N=M&&!W&&q.isObject(M);
if(W){try{if(q.System.isBuiltinArrayLastIndexOf){P=B.apply(M,E(S,1));if(q.isNumeric(P)){X=P
}else{throw P}}else{throw P}}catch(L){Q=(M&&M.length)||0;P=(+U);if(isNaN(P)){P=Q-1
}else{P=(P<0)?Math.ceil(P):Math.floor(P);if(P<0){P+=Q}else{if(P>=Q){P=Q-1}}}for(;
P>-1;P--){try{if(P in M){K=M[P];if(K===T){X=P;break}}}catch(R){continue}}}}else{if(N){J=[];
O=false;e(M,function(Y,Z){J[J.length]=[Z,Y];if(Y===T){X=Z}if(Z===U){O=true;throw q.StopIteration
}});if(O){X=-1;Q=J.length;while(--Q>=0){V=J[Q][0];K=J[Q][1];if(K===T){X=V;break}}}}else{if(M!=null){try{K=(M.toString&&M.toString())||String(M);
X=String.prototype.lastIndexOf.apply(K,E(S,1))}catch(R){X=-1}}else{X=-1}}}return X
}});q.update({toIter:q.Iter.toIter});k(q.tmp,{createIterators:function(J){e(J,function(K){var L={};
L[K.NAME]=function(){var N={},M=E(arguments);N.iterateSpeed=(this&&this.iterateSpeed)||q.Deferred.iterate;
return q.Deferred.begin(function(){var O=new q.Deferred();K.method.apply(N,M).then(function(P){O.begin(P)
},function(P){O.raise(P)});return O})};k(q.Deferred,L);q.Deferred.extendSpeeds(q.Deferred,K.NAME,function(O){var N={},M=E(arguments,1);
N.iterateSpeed=q.Deferred.iterate[O.speedName];return q.Deferred.begin(function(){var P=new q.Deferred();
K.method.apply(N,M).then(function(Q){P.begin(Q)},function(Q){P.raise(Q)});return P
})},q.Internal.LightIterator.speeds)})},createProtoIterators:function(J){e(J,function(K){var M={},L={};
M[K.NAME]=function(){var O=E(arguments),N=k({},this.options);return this.then(function(P){var Q=new q.Deferred();
O=K.args(P,O);K.method.apply(K.context,O).ensure(function(R){a(Q,N);if(q.isError(R)){Q.raise(R)
}else{Q.begin(R)}});return Q})};k(q.Deferred.fn,M);if(K.speed){if(K.iterable){L.methods=function(N){return{iter:K.iterable[N],context:K.context}
}}else{L.methods=function(N){return{iter:K.method,context:{iterateSpeed:K.context.iterateSpeed[N]}}
}}q.Deferred.extendSpeeds(q.Deferred.fn,K.NAME,function(P){var Q,O,N=E(arguments,1);
Q=L.methods(P.speedName);O=k({},this.options);return this.then(function(R){var S=new q.Deferred();
N=K.args(R,N);Q.iter.apply(Q.context,N).ensure(function(T){a(S,O);if(q.isError(T)){S.raise(T)
}else{S.begin(T)}});return S})},q.Internal.LightIterator.speeds)}})},createSyncIterator:function(M){var K,J,L=function(O){var N=O;
if(!N){e(q.Internal.LightIterator.speeds,function(Q,P){if(Q===q.Internal.LightIterator.defaults.speed){N=P;
throw q.StopIteration}})}return M(N)};J=L();K={};e(q.Internal.LightIterator.speeds,function(O,N){K[N]=L(N)
});return k(J,K)}});q.tmp.createIterators([{NAME:"map",method:q.Iter.map},{NAME:"filter",method:q.Iter.filter},{NAME:"reduce",method:q.Iter.reduce},{NAME:"every",method:q.Iter.every},{NAME:"some",method:q.Iter.some}]);
q.tmp.createProtoIterators([{NAME:"forEach",method:q.Deferred.forEach,context:null,speed:true,iterable:q.Deferred.forEach,args:function(J,K){return[J].concat(K)
}},{NAME:"repeat",method:q.Deferred.repeat,context:null,speed:true,iterable:q.Deferred.repeat,args:function(J,K){if(q.isNumeric(J)){return[J-0].concat(K)
}if(J&&q.isNumber(J.length)){return[J.length].concat(K)}if(J&&q.isObject(J)&&("end" in J||"begin" in J||"step" in J||"stop" in J||"start" in J)){return[J].concat(K)
}return K}},{NAME:"forEver",method:q.Deferred.forEver,context:null,speed:true,iterable:q.Deferred.forEver,args:function(J,K){return K
}},{NAME:"iterate",method:q.Deferred.iterate,context:null,speed:true,iterable:q.Deferred.iterate,args:function(J,K){return[J].concat(K)
}},{NAME:"items",method:q.Deferred.items,context:null,speed:true,iterable:q.Deferred.items,args:function(J,K){return[J].concat(K)
}},{NAME:"zip",method:q.Deferred.zip,context:null,speed:true,iterable:q.Deferred.zip,args:function(J,K){return[J].concat(K)
}},{NAME:"map",method:q.Iter.map,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(J,K){return[J].concat(K)
}},{NAME:"filter",method:q.Iter.filter,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(J,K){return[J].concat(K)
}},{NAME:"reduce",method:q.Iter.reduce,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(J,K){return[J].concat(K)
}},{NAME:"every",method:q.Iter.every,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(J,K){return[J].concat(K)
}},{NAME:"some",method:q.Iter.some,context:{iterateSpeed:q.Deferred.iterate},speed:true,iterable:null,args:function(J,K){return[J].concat(K)
}}]);q.update({map:q.tmp.createSyncIterator(function(J){return function(){var K={iterateSpeedSync:q.iterate[J]};
return q.Iter.map.apply(K,arguments)}}),filter:q.tmp.createSyncIterator(function(J){return function(){var K={iterateSpeedSync:q.iterate[J]};
return q.Iter.filter.apply(K,arguments)}}),reduce:q.tmp.createSyncIterator(function(J){return function(){var K={iterateSpeedSync:q.iterate[J]};
return q.Iter.reduce.apply(K,arguments)}}),every:q.tmp.createSyncIterator(function(J){return function(){var K={iterateSpeedSync:q.iterate[J]};
return q.Iter.every.apply(K,arguments)}}),some:q.tmp.createSyncIterator(function(J){return function(){var K={iterateSpeedSync:q.iterate[J]};
return q.Iter.some.apply(K,arguments)}}),range:function(){return q.Iter.range.apply(null,arguments)
},indexOf:function(){return q.Iter.indexOf.apply(null,arguments)},lastIndexOf:function(){return q.Iter.lastIndexOf.apply(null,arguments)
}});k(q.Internal,{defineDeferrater:q.tmp.createSyncIterator});(function(){var J=function(O){return new J.prototype.init(O)
},M=m({NAME:".\u0000[~`{{*@:SPEED:@*}}`~]\u0001"}),L={},K=0,N=8192;J.prototype=k(J.prototype,{constructor:J,id:q.Internal.getMagicNumber(),func:null,code:null,tokens:[],uniqs:{},tails:[],iteration:{},init:function(O){this.func=O;
this.code=this.toCode(this.func);this.tokens=[];this.iteration={};this.tails=[];return this
},execute:function(){var P=this,O="";if(this.code){if(this.code in L){O=L[this.code]
}else{this.uniqs={};e("key val ret rev err nxt".split(" "),function(Q){P.uniqs[Q]=P.generateUniqName({NAME:"$_"+Q+"_"})
});this.tokens=this.tokenize(this.code);if(!this.hasIteration(this.tokens)){O=this.func
}else{this.parseLoop();O=this.deferrizeFunction();if(O){if(K<N){L[this.code]=O;K++
}}}}}return O},hasIteration:function(S){var P=false,R,O,Q;if(S){O=S.length;for(R=0;
R<O;R++){Q=S[R];if(Q==="for"||Q==="while"||Q==="do"){P=true;break}}}return P},toCode:function(O){return v((O&&O.toString)?O.toString():(O?(""+O):""))
},isWord:(function(){var O={SPACE:/\s/,WORDS:/[$\w\u0100-\uFFFF]/};return function(P){return P!=null&&!O.SPACE.test(P)&&O.WORDS.test(P)
}}()),isNL:(function(){var O=/\r\n|\r|\n/;return function(P){return P!=null&&O.test(P)
}}()),format:function(){var O=E(arguments);return O[0].replace(/#(\d+)/g,function(P,Q){return O[+Q]
})},joinTokens:function(T){var W=[],S=T.length,Q,V,P,U,R,O;for(R=0;R<S;R++){O=T[R];
if(!Q){W[W.length]=O}else{P="";U="";if(O==="+"||O==="-"||O==="++"||O==="--"||O==="in"){P=" ";
U=" "}else{if(this.isWord(Q.slice(-1))&&this.isWord(O.charAt(0))){P=" "}}if(V===" "){P=""
}W[W.length]=P+O+U}Q=O;V=U}return W.join("")},toEnd:function(P){var O;if(q.isArray(P)){O=this.joinTokens(P)
}else{O=v(P)}if(z(O).slice(-1)===";"){return O}return O?O+";":O},generateUniqName:function(P){var O;
do{O=m(P||q,"")}while(~q.indexOf(this.tokens,O));return O},tokenize:(function(){var O={TOKEN:new RegExp("(^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\[\\s\\S]|[^\"\\r\\n\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\r\\n\\\\])*'|/(?![*])(?:\\\\.|[^/\\r\\n\\\\])+/[gimy]{0,4}|<([^\\s>]*)[^>]*>[\\s\\S]*?</\\2>|>>>=?|<<=|===|!==|>>=|[+][+](?=[+])|[-][-](?=[-])|[=!<>*+/&|^-]=|[&][&]|[|][|]|[+][+]|[-][-]|<<|>>|0(?:[xX][0-9a-fA-F]+|[0-7]+)|\\d+(?:[.]\\d+)?(?:[eE][+-]?\\d+)?|[1-9]\\d*|[-+/%*=&|^~<>!?:,;@()\\\\[\\].{}]|(?![\\r\\n])\\s+|(?:\\r\\n|\\r|\\n)|[^\\s+/%*=&|^~<>!?:,;@()\\\\[\\].{}'\"-]+)","g"),NOTSPACE:/[\S\r\n]/,COMMENTS:/^\/{2,}[\s\S]*$|^\/[*][\s\S]*?[*]\/$/};
return function(T){var S=[],P,Q,R=this.toCode(T);if(R){O.TOKEN.lastIndex=0;while((P=O.TOKEN.exec(R))!=null){Q=P[1];
if(!O.NOTSPACE.test(Q)||O.COMMENTS.test(Q)){continue}else{S[S.length]=Q}}}return S
}}()),parseLoop:function(){var Y,W=0,X=[],R=[],V=0,P=0,O=0,T,S,Q,U=this.tokens.length;
for(S=0;S<U;S++){Q=this.tokens[S];switch(Q){case"for":case"while":case"do":if(!T){T={token:Q,org:{level:O,nest:P},cur:{level:O,nest:P}}
}break;case"(":P++;if(T){T.cur.nest++}break;case")":P--;if(T){if(--T.cur.nest===T.org.nest&&T.cur.level===T.org.level&&T.token==="do"){T.last=true
}}break;case"{":O++;if(T){T.cur.level++}break;case"}":O--;if(T){if(--T.cur.level===T.org.level&&T.cur.nest===T.org.nest&&T.token!=="do"){T.last=true
}}break}if(T){if(!(V in X)){X[V]=[];R[V]={start:S}}X[V][X[V].length]=Q;if(T.last){R[V].end=S;
T=null;V++}}}U=X.length;for(S=0;S<U;S++){if(X[S].length>W){W=S}}this.iteration={loops:X[W],start:R[W].start,end:R[W].end};
return Y},deferrizeLoop:function(){var O,Q=this.iteration.loops,P=Q.shift();switch(P){case"for":O=this.parseFor(Q);
break;case"while":O=this.parseWhile(Q);break;case"do":O=this.parseDoWhile(Q);break
}return O},deferrizeFunction:function(){var Z,T,R,P,S,V=this.tokens.length,X="before",W,Y={level:0,block:0},Q={before:[],loop:[],after:[],result:[]},U=function(aa){if(!Y[aa]){Y[aa]={block:Y.block,level:Y.level}
}},O=function(aa){e(aa?E(aa):["func","cond"],function(ab){if(Y[ab]&&Y[ab].block===Y.block&&Y[ab].level===Y.level){Y[ab]=null
}})};for(S=1;S<V-1;S++){if(S>=this.iteration.start&&S<=this.iteration.end){if(!R){R=true;
S=this.iteration.end-1;Q.loop=E(this.deferrizeLoop());X="after";if(Y.cond){W=true
}}continue}P=this.tokens[S];T=this.tokens[S+1];switch(P){case"{":Y.block++;break;
case"}":Y.block--;O();break;case"(":Y.level++;break;case")":Y.level--;if(Y.cond&&Y.cond.expr&&T==="{"){Y.cond.expr=null;
O("func")}else{O()}break;case";":O("result");break;case"function":U("func");break;
case"if":U("cond");Y.cond.expr=true;break;case"return":if(!Y.func&&!Y.result){if(!T||T===";"||this.isNL(T)){P=this.format("#1 #2=void 0#3",P,this.uniqs.ret,(T===";"||this.isNL(T))?"":";")
}else{P=this.format("#1(#2!==#3)?#2:#2=",P,this.uniqs.ret,this.uniqs.rev)}Q.result=[];
U("result")}break;default:if(Y.result&&this.isNL(P)){O("result")}break}Q[X][Q[X].length]=P;
if(Y.result){Q.result[Q.result.length]=P}}Z=this.format("#1var #2={},#3=#2,#4={};return Pot.Deferred.begin(function(){#5#6#9});#7#8}).then(function(r){return(#2===#3)?r:#2;});#10",this.tokens.shift(),this.uniqs.ret,this.uniqs.rev,this.uniqs.nxt,this.toEnd(this.joinTokens(Q.before)),this.joinTokens(Q.loop),this.joinTokens(this.tails),this.joinTokens(W?Q.after:[]),this.joinTokens(W?Q.result:Q.after),this.tokens.pop());
return Z},parseWhile:function(Y){var ac="",O=0,P=0,X=false,S,V,aa,Z="cond",U,R,T,W=Y.length,Q=false,ab={cond:[],body:[]};
for(T=0;T<W;T++){R=Y[T];V=Y[T+1];aa=false;switch(R){case"(":P++;if(U){U.cur.nest++
}if(T===0&&P===1){aa=true}break;case")":P--;if(U){if(--U.cur.nest===U.org.nest&&U.cur.level===U.org.level&&U.token==="do"){U=null
}}if(!X&&P===0&&O===0&&V==="{"){aa=true}break;case"{":O++;if(U){U.cur.level++}if(O===1&&P===0&&S===")"){aa=true;
X=true;Z="body"}break;case"}":O--;if(U){if(--U.cur.level===U.org.level&&U.cur.nest===U.org.nest&&U.token!=="do"){U=null
}}if(X&&P===0&&O===0){ab.body.unshift(this.format("if(#1!==#2||!(#3)){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev,this.joinTokens(ab.cond)||"false"));
ab.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}",this.uniqs.err,this.uniqs.nxt));
R+=").then(function(){";Q=true}break;case"for":case"while":case"do":U={token:R,org:{level:O,nest:P},cur:{level:O,nest:P}};
break;case"break":if(!U&&X&&!this.isWord(V)){R="throw Pot.StopIteration"}break;case"continue":if(!U&&X&&!this.isWord(V)){R="throw "+this.uniqs.nxt
}break;case"return":if(X){if(!V||V===";"||this.isNL(V)){R=this.format("#1 #2=void 0#3",R,this.uniqs.ret,(V===";"||this.isNL(V))?"":";")
}else{R=this.format("#1 #2=",R,this.uniqs.ret)}}break}if(!aa){ab[Z][ab[Z].length]=R
}S=R}ac="";if(!Q){throw new Error("Parse error, expect 'while(...)'")}ac=this.format("return Pot.Deferred.forEver.#1(function(){#2",M,this.joinTokens(ab.body));
return ac},parseDoWhile:function(X){var ab="",O=0,P=0,S,V,Y,Z="body",U,R,T,W=X.length,Q=false,aa={cond:[],body:[],after:[]};
for(T=0;T<W;T++){R=X[T];V=X[T+1];Y=false;switch(R){case"(":P++;if(U){U.cur.nest++
}if(O===0&&P===1&&S==="while"){Y=true;Z="cond"}break;case")":P--;if(U){if(--U.cur.nest===U.org.nest&&U.cur.level===U.org.level&&U.token==="do"){U=null
}}if(P===0&&O===0&&Z==="cond"){Y=true}break;case"{":O++;if(U){U.cur.level++}if(T===0&&O===1){Y=true
}break;case"}":O--;if(U){if(--U.cur.level===U.org.level&&U.cur.nest===U.org.nest&&U.token!=="do"){U=null
}}if(P===0&&O===0&&V==="while"){Q=true;Y=true}break;case"while":if(O===0&&P===0){Y=true;
break}case"for":case"do":U={token:R,org:{level:O,nest:P},cur:{level:O,nest:P}};break;
case"break":if(!U&&!this.isWord(V)){R="throw Pot.StopIteration"}break;case"continue":if(!U&&!this.isWord(V)){R="throw "+this.uniqs.nxt
}break;case"return":if(!V||V===";"||this.isNL(V)){R=this.format("#1 #2=void 0#3",R,this.uniqs.ret,(V===";"||this.isNL(V))?"":";")
}else{R=this.format("#1 #2=",R,this.uniqs.ret)}break}if(!Y){aa[Z][aa[Z].length]=R
}S=R}ab="";if(!Q){throw new Error("Parse error, expect 'do...while()'")}aa.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));
aa.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{if(!(#3)){throw Pot.StopIteration;}}}).then(function(){",this.uniqs.err,this.uniqs.nxt,this.joinTokens(aa.cond)||"false"));
ab=this.format("return Pot.Deferred.forEver.#1(function(){#2",M,this.joinTokens(aa.body));
return ab},parseFor:function(Z){var ae="",O=0,P=0,W=null,Y=false,S,V,ab,aa="before",ad,U,T,X,R,Q=false,ac={prefix:[],suffix:[],before:[],cond:[],after:[],key:[],target:[],body:[]};
X=Z.length;for(T=0;T<X;T++){R=Z[T];V=Z[T+1];ab=false;switch(R){case"(":P++;if(U){U.cur.nest++
}if(T===0&&P===1){ab=true}break;case")":P--;if(U){if(--U.cur.nest===U.org.nest&&U.cur.level===U.org.level&&U.token==="do"){U=null
}}if(!Y&&P===0&&O===0&&V==="{"){ab=true}break;case"{":O++;if(U){U.cur.level++}if(O===1&&P===0&&S===")"){ab=true;
Y=true;aa="body"}break;case"}":O--;if(U){if(--U.cur.level===U.org.level&&U.cur.nest===U.org.nest&&U.token!=="do"){U=null
}}if(Y&&P===0&&O===0){ac.body.unshift(this.format("if(#1!==#2){throw Pot.StopIteration;}try{",this.uniqs.ret,this.uniqs.rev));
if(ac.suffix.length){ac.body.push(this.toEnd(this.joinTokens(ac.suffix)))}ac.body.push(this.format("}catch(#1){if(Pot.isError(#1)||Pot.isStopIter(#1)){throw #1;}if(#1!==#2){throw #1;}}finally{#3}",this.uniqs.err,this.uniqs.nxt,this.toEnd(this.joinTokens(ac.after))));
R+=").then(function(){";Q=true}break;case"each":if(T===0){throw new Error("Not supported 'for each'")
}break;case"in":case"of":if(!Y&&W===null&&P===1&&O===0){ab=true;W=true;if(ac.before.length>2){throw new Error("Invalid keys, expect 'for(var [...] in ...);'")
}if(ad){ac.before.push(";");y.apply(ac.prefix,ac.before);ac.before.shift();ac.before.pop();
if(ad==="let"){ac.prefix.unshift("{");this.tails.push("}")}}ac.before.push("="+this.uniqs.key);
ac.before.push(";");ac.key=ac.before;y.apply(ac.body,ac.key);aa="target"}break;case"var":case"let":if(!ad&&T===1&&P===1){ad=R
}break;case",":if(!Y&&P===1&&O===0&&!ad&&(aa==="before"||aa==="after")){R=";"}break;
case";":if(!Y&&P===1&&O===0){ab=true;if(W===null){W=false}if(aa==="before"){aa="cond";
ac.prefix.push(this.toEnd(this.joinTokens(ac.before)));if(ad==="let"){ac.prefix.unshift("{");
this.tails.push("}")}}else{if(aa==="cond"){aa="after";if(ac.cond.length){ac.cond.unshift("if(");
ac.cond.push("){");ac.suffix.push("}else{throw Pot.StopIteration;}")}j.apply(ac.body,ac.cond)
}}}break;case"for":case"while":case"do":U={token:R,org:{level:O,nest:P},cur:{level:O,nest:P}};
break;case"break":if(!U&&Y&&!this.isWord(V)){R="throw Pot.StopIteration"}break;case"continue":if(!U&&Y&&!this.isWord(V)){R="throw "+this.uniqs.nxt
}break;case"return":if(Y){if(!V||V===";"||this.isNL(V)){R=this.format("#1 #2=void 0#3",R,this.uniqs.ret,(V===";"||this.isNL(V))?"":";")
}else{R=this.format("#1 #2=",R,this.uniqs.ret)}}break}if(!ab){ac[aa][ac[aa].length]=R
}S=R}ae="";if(!Q){throw new Error("Parse error, expect 'for(...)'")}if(W){ae=this.format("#1return Pot.Deferred.forEach.#2(#3,function(#4,#5){#6",this.toEnd(this.joinTokens(ac.prefix)),M,this.joinTokens(ac.target),this.uniqs.val,this.uniqs.key,this.joinTokens(ac.body))
}else{ae=this.format("#1return Pot.Deferred.forEver.#2(function(){#3",this.toEnd(this.joinTokens(ac.prefix)),M,this.joinTokens(ac.body))
}return ae}});J.prototype.init.prototype=J.prototype;k(q.Internal,{deferrate:function(O){return(new J(O)).execute()
}});k(q.Deferred,{deferreed:function(T,O){var W,R,Q,S,P,V;try{switch(arguments.length){case 0:throw false;
case 1:R=T;if(!q.isFunction(R)){throw R}V=R;break;case 2:default:if(q.isObject(O)){Q=O;
R=T}else{R=O;Q=T}if(!q.isFunction(Q[R])){throw R}V=Q[R];break}if(!V||!q.isFunction(V)||q.isBuiltinMethod(V)){throw V
}P=q.Internal.deferrate(V);if(!P){throw P}if(P===V){W=q.Deferred.deferrize(V)}else{if(!q.isString(P)){throw P
}W=q.Internal.defineDeferrater(function(Y){var Z=P.replace(M,Y),X=q.localEval(Z,Q);
return function(){return X.apply(Q,arguments)}})}if(!W||!q.isFunction(W)){throw W
}}catch(U){S=U;throw q.isError(S)?S:new Error(S)}return W}});q.update({deferreed:q.Deferred.deferreed})
}());delete q.tmp.createIterators;delete q.tmp.createProtoIterators;delete q.tmp.createSyncIterator;
q.update({Serializer:{}});(function(){var J,K;if(typeof JSON==="object"&&q.isBuiltinMethod(JSON.stringify)&&q.isBuiltinMethod(JSON.parse)){k(q.Serializer,{serializeToJSON:function(){return JSON.stringify.apply(null,arguments)
},parseFromJSON:function(){return JSON.parse.apply(null,arguments)}});return}J="null";
K=k(function(){},{charsCache:{'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000B"},replaceTo:/\uFFFF/.test("\uFFFF")?/[\\\"\x00-\x1F\x7F-\uFFFF]/g:/[\\\"\x00-\x1F\x7F-\xFF]/g});
K.prototype=k(K.prototype,{serialize:function(L){var M=[];this.serializeAll(L,M);
return M.join("")},serializeAll:function(L,M){if(L==null){M[M.length]=J}else{switch(q.typeOf(L)){case"string":this.serializeString(L,M);
break;case"number":this.serializeNumber(L,M);break;case"boolean":M[M.length]=(L==true)?"true":"false";
break;case"array":this.serializeArray(L,M);break;case"object":case"error":this.serializeObject(L,M);
break;case"date":this.serializeDate(L,M);break;case"regexp":this.serializeString(L.toString(),M);
break;case"function":break;default:M[M.length]=J;break}}},padZero:function(L){return(L<10)?"0"+L:L
},serializeDate:function(N,L){var M=this.padZero;result=isFinite(N.valueOf())?'"'+N.getUTCFullYear()+"-"+M(N.getUTCMonth()+1)+"-"+M(N.getUTCDate())+"T"+M(N.getUTCHours())+":"+M(N.getUTCMinutes())+":"+M(N.getUTCSeconds())+'Z"':J;
L[L.length]=result},serializeString:function(N,L){var M=N.replace(K.replaceTo,function(Q){var P,O;
if(Q in K.charsCache){return K.charsCache[Q]}P=Q.charCodeAt(0);O="\\u";if(P<16){O+="000"
}else{if(P<256){O+="00"}else{if(P<4096){O+="0"}}}O=O+P.toString(16);K.charsCache[Q]=O;
return O});L[L.length]='"'+M+'"'},serializeNumber:function(M,L){L[L.length]=(isFinite(M)&&!isNaN(M))?M:J
},serializeArray:function(M,Q){var L,N="",P,O,S;L=M&&M.length;Q[Q.length]="[";for(P=0;
P<L;P++){O=true;try{S=M[P]}catch(R){O=false}if(O){Q[Q.length]=N;this.serializeAll(S,Q);
N=","}}Q[Q.length]="]"},serializeObject:function(R,O){var L="",N,M,P;O[O.length]="{";
for(N in R){M=true;if(n.call(R,N)){try{P=R[N];if(q.isFunction(P)){throw P}}catch(Q){M=false
}if(M){O[O.length]=L;this.serializeString(N,O);O[O.length]=":";this.serializeAll(P,O);
L=","}}}O[O.length]="}"}});k(q.Serializer,{serializeToJSON:function(L){return(new K()).serialize(L)
},parseFromJSON:k(function(N){var L=arguments.callee,M;M=String(N).replace(L.PATTERNS.CLEAN,"");
if(L.isValid(L,M)){return q.localEval("("+M+")")}else{throw new Error("Invalid JSON string: "+M)
}},{PATTERNS:{META:/\\["\\\/bfnrtu]/g,STRING:/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1F\x80-\x9F]*"/g,EXPRS:/true|false|null|[+-]?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,BRACKETS:/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,REMAINDER:/^[\],:{}\s\u2028\u2029]*$/,SPACE:/^\s*$/,CLEAN:/^(?:[{[(']{0}[')\]}]+|)[;\s\u00A0]*|[;\s\u00A0]*$/g},isValid:function(O,N){var L="@",P="[]".charAt(1),M=O.PATTERNS;
if(M.SPACE.test(N)){return false}return M.REMAINDER.test(N.replace(M.META,L).replace(M.STRING,P).replace(M.EXPRS,P).replace(M.BRACKETS,""))
}})})}());k(q.Serializer,{serializeToQueryString:function(M){var K=[],L,J;if(!M||M==false){return""
}if(typeof Buffer!=="undefined"&&M.constructor===Buffer){return M}if(q.isString(M)){return v(M)
}J=q.isObject(M);if(J||q.isArrayLike(M)){L=q.URI.urlEncode;e(M,function(T,O){var U,S,N,V,P=0,R=true;
if(J){U=[O,T]}else{U=T}try{S=v(U[0],false);N=U[1]}catch(Q){R=false}if(R&&(S||N)){if(!J){e(M,function(W){if(W){try{if(v(W[0],false)===S){P++
}}catch(X){}}})}if(P>1||q.isArray(N)){V="=";S=v(S,true)+"[]"}else{V=S?"=":""}e(E(N),function(W){K[K.length]=L(S)+V+L(v(W,true))
})}})}return K.join("&")},parseFromQueryString:function(O,N){var J=[],M,L,K;if(q.isObject(O)||q.isArray(O)){return O
}if(N){J={}}L=v(O,true);if(L){M=q.URI.urlDecode;K=/&(?:(?:amp|#(?:0*38|[xX]0*26));|)/;
while(L.charAt(0)==="?"){L=L.substring(1)}e(L.split(K),function(R){var Q,T,S,P;S=R.split("=");
switch(S.length){case 0:break;case 1:T=S[0];break;default:Q=S[0];T=S[1];break}if(Q||T){Q=v(M(Q));
T=v(M(T));if(Q.slice(-2)==="[]"){P=Q.slice(0,-2);if(N){if(n.call(J,P)){J[P]=g.call([],E(J[P]),E(T))
}else{J[P]=[T]}}else{J[J.length]=[P,T]}}else{if(N){J[Q]=T}else{J[J.length]=[Q,T]}}}})
}return J}});q.update({serializeToJSON:q.Serializer.serializeToJSON,parseFromJSON:q.Serializer.parseFromJSON,serializeToQueryString:q.Serializer.serializeToQueryString,parseFromQueryString:q.Serializer.parseFromQueryString});
q.update({URI:{}});k(q.URI,{urlEncode:k(function(K){var J="",M=arguments.callee,L;
L=v(K,true);if(L){if(q.isPercentEncoded(L)){J=L}else{try{J=M.encoder.component(L)
}catch(N){J=M.encoder.encode(L)}}}return v(J,true)},{encoder:{component:function(J){return encodeURIComponent(J)
},encode:function(L){var J="",N,M,O,K;N=v(L,true);if(N){M=/[^!'-*.0-9A-Z_a-z~-]/g;
K="%";O=function(P){var Q,R=P.charCodeAt(0);if(R<16){Q=K+"0"+R.toString(16)}else{if(R<128){Q=K+R.toString(16)
}else{if(R<2048){Q=K+(R>>6|192).toString(16)+K+(R&63|128).toString(16)}else{Q=K+(R>>12|224).toString(16)+K+(R>>6&63|128).toString(16)+K+(R&63|128).toString(16)
}}}return Q.toUpperCase()};J=N.replace(M,O)}return J}}}),urlDecode:k(function(K){var J="",M=arguments.callee,L;
L=v(K,true);if(L){L=L.replace(M.decoder.reSpace.from,M.decoder.reSpace.to);try{J=M.decoder.component(L)
}catch(N){J=M.decoder.decode(L)}}return v(J,true)},{decoder:{reSpace:{from:/[+]/g,to:" "},component:function(J){return decodeURIComponent(J)
},decode:function(K){var J="",M,L,N;M=v(K,true);if(M){L=new RegExp("%(?:E(?:0%[AB]|[1-CEF]%[89AB]|D%[89])[0-9A-F]|C[2-9A-F]|D[0-9A-F])%[89AB][0-9A-F]|%[0-7][0-9A-F]","gi");
N=function(O){var P,Q=parseInt(O.substring(1),16);if(Q<128){P=Q}else{if(Q<224){P=((Q&31)<<6|parseInt(O.substring(4),16)&63)
}else{P=(((Q&15)<<6|parseInt(O.substring(4),16)&63)<<6|parseInt(O.substring(7),16)&63)
}}return H(P)};J=M.replace(L,N)}return J}}})});q.update({urlEncode:q.URI.urlEncode,urlDecode:q.URI.urlDecode});
q.update({Crypt:{}});k(q.Crypt,{hashCode:function(M){var L=0,O,N,K,J=4294967296;if(M==null){O=String(M)
}else{O=M.toString?M.toString():String(M)}K=O.length;for(N=0;N<K;++N){L=31*L+O.charCodeAt(N);
L%=J}return L}});q.update({hashCode:q.Crypt.hashCode});(function(){q.update({Net:{}});
k(q.Net,{request:function(O,N){if(q.System.isGreasemonkey){return q.Net.requestByGreasemonkey(O,N)
}else{if(q.System.isNodeJS){return q.Net.requestByNodeJS(O,N)}else{return q.Net.XHR.request(O,N)
}}},XHR:{ReadyState:{UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},factory:function(){var N;
try{N=new XMLHttpRequest()}catch(O){}if(!N&&q.System.hasActiveXObject){e(["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],function(Q){try{N=new ActiveXObject(Q)
}catch(P){}if(N){throw q.StopIteration}})}return N},request:(function(){var P=function(R,Q){return new P.prototype.doit(R,Q)
},N={URI:/^([^:]+)(?::+\/{0,}((?:[^@]+@|)[^\/\\?&#:;]*)(?::(\d+)|)|)/},O=N.URI.exec(q.currentURI().toLowerCase())||[];
P.prototype=k(P.prototype,{xhr:null,url:null,options:{},deferred:null,doit:function(R,Q){var T=this;
this.url=v(R,true);this.deferred=new q.Deferred({canceller:function(){try{T.cancel(true)
}catch(V){}}});if(this.url){try{this.setOptions(Q);if(this.factory()){this.open();
this.setHeaders();this.setReadyStateChange();this.send()}}catch(U){try{this.cancel(true)
}catch(S){}this.deferred.raise(U)}}return this},factory:function(){this.xhr=q.Net.XHR.factory();
if(!this.xhr){this.deferred.raise("Failed to create XMLHttpRequest");return false
}else{return true}},setOptions:function(Q){var R,T,S={method:"GET",sendContent:null,queryString:null,callback:null,username:null,password:null,mimeType:null,binary:false,cache:true,cookie:false,crossDomain:null,headers:{Accept:["*/"]+["*"],"X-Requested-With":"XMLHttpRequest"}};
if(q.isObject(Q)){R=k({},Q)}else{R={}}this.options=k({},S,R||{});this.method=z(this.options.method).toUpperCase();
if(!this.method){this.method=S.method}this.url=J(this.url,this.options.queryString);
this.options.sendContent=v(q.Serializer.serializeToQueryString(this.options.sendContent),true);
if((this.options.method==="GET"||this.options.method===S.method)&&(this.options.sendContent)){this.options.method="POST"
}if(!this.options.cache&&(this.options.method==="GET"||this.options.method==="HEAD")){this.url=L(this.url)
}if(this.options.crossDomain==null){T=N.URI.exec(q.currentURI().toLowerCase());this.options.crossDomain=!!(T&&(T[1]!==O[1]||T[2]!==O[2]||T[3]!==O[3]))
}if(this.options.binary&&!this.options.mimeType){this.options.mimeType="text/plain; charset=x-user-defined"
}},open:function(){if(this.options.username!=null){this.xhr.open(this.options.method,this.url,true,v(this.options.username,true),v(this.options.password,true))
}else{this.xhr.open(this.options.method,this.url,true)}},setHeaders:function(){var Q=this,S;
try{if(this.options.cookie){try{this.xhr.withCredentials="true"}catch(R){}}try{if(this.xhr.overrideMimeType&&this.options.mimeType!=null){this.xhr.overrideMimeType(this.options.mimeType)
}}catch(R){}if(this.options.contentType!=null){S=this.options.contentType}if(this.options.headers!=null){e(this.options.headers,function(U,T){if(!S&&/^Content-?Type/i.test(T)){S=U
}else{Q.xhr.setRequestHeader(T,U)}})}if(!S&&this.options.method==="POST"){S="application/x-www-form-urlencoded"
}if(S){this.xhr.setRequestHeader("Content-Type",S)}}catch(R){}},setReadyStateChange:function(){var Q=this;
this.xhr.onreadystatechange=function(){var R=null;if(Q.xhr.readyState==q.Net.XHR.ReadyState.COMPLETE){Q.cancel();
try{R=parseInt(Q.xhr.status);if(!R&&Q.xhr.responseText){R=304}}catch(S){}if((R>=200&&R<300)||R===304||R===1223){Q.assignResponseText();
if(q.isFunction(Q.options.callback)){q.Deferred.flush(function(){Q.options.callback.call(Q.xhr,Q.xhr.responseText,Q.xhr)
}).ensure(function(T){Q.deferred.begin(Q.xhr)})}else{Q.deferred.begin(Q.xhr)}}else{Q.deferred.raise(k({},Q.xhr));
try{Q.cancel(true)}catch(S){}}}}},assignResponseText:function(){var S,Q,R,U,W,T;if(this.options.binary){R=[];
U=[];T=this.xhr.responseText||"";Q=T.length;for(S=0;S<Q;S++){W=T.charCodeAt(S)&255;
R[S]=W;U[S]=H(W)}try{this.xhr.originalText=T;this.xhr.responseBytes=R;this.xhr.responseText=U.join("")
}catch(V){}}},cancel:function(Q){try{this.xhr.onreadystatechange=null}catch(R){try{this.xhr.onreadystatechange=q.noop
}catch(R){}}if(Q){try{this.xhr.abort()}catch(R){}}},send:function(){this.xhr.send(this.options.sendContent);
this.deferred.data({request:this.xhr})}});P.prototype.doit.prototype=P.prototype;
return function(R,Q){return(new P(R,Q)).deferred}}())},requestByGreasemonkey:function(O,N){var S,Q,R,P;
S=new q.Deferred();Q=k({cache:true},N||{});R={sendContent:"data",mimeType:"overrideMimeType",username:"user"};
e(R,function(T,U){if(U in Q){Q[T]=Q[U]}});Q.method=z(Q.method).toUpperCase()||"GET";
Q.url=J(O,Q.queryString);if(Q.data){Q.data=q.Serializer.serializeToQueryString(Q.data)
}if(Q.data&&Q.method==="GET"){Q.method="POST"}if(!Q.cache&&(Q.method==="GET"||Q.method==="HEAD")){Q.url=L(Q.url)
}P=Q.contentType;if(Q.headers){e(Q.headers,function(U,T){if(!P&&/^Content-?Type/i.test(T)){P=U;
throw q.StopIteration}})}if(!P&&Q.method==="POST"){P="application/x-www-form-urlencoded"
}if(P){Q.headers=k(Q.headers||{},{"Content-Type":P})}if(Q.onload){S.then(Q.onload)
}if(Q.onerror){S.rescue(Q.onerror)}k(Q,{onload:function(){S.begin.apply(S,arguments)
},onerror:function(){S.raise.apply(S,arguments)}});q.Deferred.callLazy(function(){var T=GM_xmlhttpRequest(Q);
S.data({request:T});S.canceller(function(){try{T.abort()}catch(U){}})});return S},requestByNodeJS:(function(){function O(P){return new O.prototype.doit(P)
}function N(P){return new N.prototype.init(P)}N.prototype=k(N.prototype,{responseText:"",responseXML:"",status:null,statusText:null,init:function(P){var Q=P||{};
k(this,Q,{getResponseHeader:this.getResponseHeader,getAllResponseHeaders:this.getAllResponseHeaders,responseText:Q.responseText,responseXML:Q.responseXML,status:Q.status,statusText:Q.statusText});
return this},getResponseHeader:function(Q){var P=null,R;R=v(Q);lkey=R.toLowerCase();
if(this.headers){if(lkey in this.headers){P=this.headers[lkey]}else{if(R in this.headers){P=this.headers[R]
}}}return P},getAllResponseHeaders:function(){var Q=[],P;if(this.headers){for(P in this.headers){Q.push(P+": "+this.headers[P])
}}return Q.join("\r\n")}});O.prototype=k(O.prototype,{deferred:null,request:null,response:null,headers:{},requestOptions:{},defaultHeaders:{Accept:["*/"]+["*"],"User-Agent":["Pot.js/"+q.VERSION,q.TYPE,"(Node.js; *)"].join(" ")},doit:function(P){var Q=this;
this.deferred=new q.Deferred({canceller:function(){try{Q.abort()}catch(R){}}});this.setOptions(P);
this.send();return this},setOptions:function(Y){var Q,P,U,R,W,S,X,T,V;Q=k({cache:true},Y||{});
P=z(Q.method).toUpperCase()||"GET";U=false;R=require("url").parse(Q.url);switch(R.protocol){case"https:":U=true;
case"http:":W=R.hostname;break;default:throw new Error("Not supported protocol: "+R.protocol)
}S=R.port||(U?443:80);X=R.pathname+(R.search?R.search:"");this.headers=k({},this.defaultHeaders,Q.headers||{});
this.headers.Host=W;if(Q.username!=null){T=new Buffer([v(Q.username,true),v(Q.password,true)].join(":"));
this.headers.Authorization="Basic "+T.toString("base64")}V=Q.sendContent||Q.queryString;
if(P==="GET"||P==="HEAD"){X=J(X,V);if(!Q.cache){X=L(X)}V=null}else{V=q.Serializer.serializeToQueryString(V);
if(V){this.headers["Content-Length"]=Buffer.byteLength(V);if(!this.headers["Content-Type"]){this.headers["Content-Type"]="application/x-www-form-urlencoded"
}}}this.requestOptions={data:V,ssl:U,settings:{host:W,port:S,path:X,method:P,headers:this.headers}}
},send:function(){var Q=this,P;if(this.requestOptions.ssl){P=require("https").request
}else{P=require("http").request}this.request=P(this.requestOptions.settings,function(R){Q.response=new N(R);
Q.response.responseText="";Q.response.responseXML="";Q.response.setEncoding("utf8");
Q.response.status=Q.response.statusCode;if(Q.response.status==200&&!Q.response.statusText){Q.response.statusText="OK"
}Q.response.on("data",function(S){if(S){Q.response.responseText+=v(S,true)}});Q.response.on("end",function(){Q.deferred.begin(Q.response)
});Q.response.on("error",function(S){Q.handleError(S)})}).on("error",function(R){Q.handleError(R)
});if(this.requestOptions.data){this.request.write(this.requestOptions.data)}this.request.end()
},handleError:function(P){this.response.status=503;this.response.statusText=P;this.response.responseText=P&&P.stack;
this.deferred.raise(this.response)},abort:function(){if(this.response){this.response.responseText="";
this.response.responseXML=""}try{if(this.request&&this.request.abort){this.request.abort()
}}catch(P){}}});O.prototype.doit.prototype=O.prototype;N.prototype.init.prototype=N.prototype;
return function(Q,P){var R=k({},P||{},{url:Q});return(new O(R)).deferred}}()),requestByJSONP:(function(){var N={KEY:/json|call/i,DONE:/loaded|complete/};
return function(P,ac){var W,O,R,Q,ab,aa,Z,S,Y,X,U,T;T="callback";W=new q.Deferred();
O=k({cache:false},ac||{});R=d||q.Global;Z=q.System.currentDocument;Y=M();if(!R||!Z||!Y||!P){return W.raise(R||P||Y||Z)
}try{if(O.callback){if(q.isString(O.callback)){Q=O.callback}else{if(q.isFunction(O.callback)){ab=O.callback
}else{if(q.isObject(O.callback)){for(aa in O.callback){T=aa;if(q.isString(O.callback[aa])){Q=O.callback[aa]
}else{if(q.isFunction(O.callback[aa])){ab=O.callback[aa]}}break}}}}}else{e(O,function(ae,ad){if(N.KEY.test(ad)){T=ad;
if(q.isString(ae)){Q=ae}else{if(q.isFunction(ae)){ab=ae}}throw q.StopIteration}})
}if(!Q){do{Q=m(q,"")}while(Q in R)}S=J(K(P,Q,T),O.queryString||O.sendContent);if(!O.cache){S=L(S)
}if(q.System.isGreasemonkey){return q.Net.requestByGreasemonkey(S,{method:"GET"}).then(function(ad){var ae=z(ad&&ad.responseText);
ae=ae.replace(/^[^{]*|[^}]*$/g,"");return q.Serializer.parseFromJSON(ae)})}X=Z.createElement("script");
X.async="async";if(O.type){X.type=O.type}if(O.charset){X.charset=O.charset}R[Q]=function(){var ad=arguments;
try{delete R[Q]}catch(ae){try{R[Q]=null}catch(ae){}}try{if(X){X.parentNode.removeChild(X)
}X=h}catch(ae){}if(q.isFunction(ab)){ab.apply(ab,ad)}W.begin.apply(W,ad)};X.src=S;
X.onload=X.onreadystatechange=function(ae,ad){if(!U&&X&&(ad===1||!X.readyState||N.DONE.test(X.readyState))){U=true;
try{X.onload=X.onreadystatechange=null}catch(af){}if(Y&&X&&X.parentNode){try{Y.removeChild(X)
}catch(af){}}X=h}};W.canceller(function(){try{if(X){X.onload(0,1)}}catch(ad){}});
Y.insertBefore(X,Y.firstChild)}catch(V){W.raise(V)}return W}}()),getJSON:(function(){var N=/^[^{]*|[^}]*$/g;
return function(P,O){return q.Net.request(P,k({mimeType:"application/json",headers:{"Content-Type":"application/json"}},O||{})).then(function(Q){var R=z(Q&&Q.responseText).replace(N,"");
return q.Serializer.parseFromJSON(R)})}}()),loadScript:(function(){var N;if(q.System.isNonBrowser||!q.System.isNotExtension){return function(P,O){return q.Net.request(P,k({method:"GET",mimeType:"text/javascript",headers:{"Content-Type":"text/javascript"}},{cache:false},O||{})).then(function(Q){return q.globalEval(Q.responseText)
})}}N={DONE:/loaded|complete/,CALLBACK:/^callback|(?:on|)(?:load(?:ed|)|ready)/i};
return function(P,Y){var T,V,O,W,U,Q,X,R;T=new q.Deferred();try{if(q.isFunction(Y)){O={callback:O};
X=O.callback}else{O=k({},Y||{});e(O,function(aa,Z){if(q.isFunction(aa)){X=aa;if(N.CALLBACK.test(Z)){throw q.StopIteration
}}})}if(X){T.then(function(){return X.apply(this,arguments)})}Q=J(P,O.queryString||O.sendContent);
if(!O.cache){Q=L(Q)}W=q.System.currentDocument;U=M();if(!W||!U||!Q){return T.raise(Q||U||W)
}V=W.createElement("script");V.async="async";V.type=O.type||"text/javascript";if(O.charset){V.charset=O.charset
}V.src=Q;V.onload=V.onreadystatechange=function(aa,Z){if(!R&&V&&(Z===1||!V.readyState||N.DONE.test(V.readyState))){R=true;
try{V.onload=V.onreadystatechange=null}catch(ab){}if(U&&V&&V.parentNode){try{U.removeChild(V)
}catch(ab){}}V=h;T.begin()}};T.canceller(function(){try{if(V){V.onload(0,1)}}catch(Z){}});
U.insertBefore(V,U.firstChild)}catch(S){T.raise(S)}return T}}())});function J(O,Q){var N,P,R;
N=v(O);R=(~N.indexOf("?"))?"&":"?";P=v(q.Serializer.serializeToQueryString(Q));while(N.slice(-1)===R){N=N.slice(0,-1)
}while(P.charAt(0)===R){P=P.substring(1)}if(P){P=R+P}return N?N+P:null}function L(Q){var O=v(Q),P,N="?",R="_";
if(O){do{P=R+m(q,"").toLowerCase()}while(~O.indexOf(P));if(~O.indexOf(N)){N="&";while(O.slice(-1)===N){O=O.slice(0,-1)
}}O=O+N+P+"="+c()}return O}function M(){var N,P=q.System.currentDocument;try{if(P.head&&q.isElement(P.head)){return P.head
}}catch(O){}try{N=P.getElementsByTagName("head");if(N&&q.isElement(N[0])){return N[0]
}}catch(O){}try{return P.documentElement}catch(O){}}function K(N,Q,P){var O=v(N);
if(~O.indexOf("=?")){O=O.replace("=?","="+Q)}else{if(~O.indexOf("?")){O=O.replace("?","?"+P+"="+Q)
}else{while(O.slice(-1)==="&"){O=O.slice(0,-1)}O=O+"?"+P+"="+Q}}return O}q.update({request:q.Net.request,jsonp:q.Net.requestByJSONP,getJSON:q.Net.getJSON,loadScript:q.Net.loadScript})
}());q.update({XPCOM:{}});k(q.XPCOM,{evalInSandbox:function(M,K){var J,L,N;if(q.System.hasComponents){if(!i){q.System.isWaitable=q.System.hasComponents=false;
return}L=/^[\s;]*|[\s;]*$/g;N=v(M).replace(L,"");J=i.evalInSandbox(N,i.Sandbox(K))
}return J},throughout:function(K){var J;if(q.System.hasComponents){try{J=w["@mozilla.org/thread-manager;1"].getService(p.nsIThreadManager).mainThread
}catch(L){q.System.isWaitable=q.System.hasComponents=false}if(J&&q.System.hasComponents){do{J.processNextEvent(true)
}while(K&&!K())}}},getMostRecentWindow:function(){var K;if(q.System.hasComponents){try{K=w["@mozilla.org/appshell/window-mediator;1"].getService(p.nsIWindowMediator).getMostRecentWindow("navigator:browser")
}catch(J){q.System.isWaitable=q.System.hasComponents=false}}return K},getChromeWindow:function(L){var K,N,O,J;
if(!q.System.hasComponents){return}J=L||"chrome://browser/content/browser.xul";try{O=w["@mozilla.org/appshell/window-mediator;1"].getService(p.nsIWindowMediator).getXULWindowEnumerator(null)
}catch(M){q.System.isWaitable=q.System.hasComponents=false;return}while(O.hasMoreElements()){try{N=O.getNext().QueryInterface(p.nsIXULWindow).docShell.QueryInterface(p.nsIInterfaceRequestor).getInterface(p.nsIDOMWindow);
if(N&&N.location&&(N.location.href==J||N.location==J)){K=N;break}}catch(M){}}return K
}});q.update({evalInSandbox:q.XPCOM.evalInSandbox,throughout:q.XPCOM.throughout,getMostRecentWindow:q.XPCOM.getMostRecentWindow,getChromeWindow:q.XPCOM.getChromeWindow});
(function(){var aa=[],X=[],W=[],ag={},ab=false,ad="*e",N=".",V={MOUSE_OVER:/mouse(?:over|enter)/,MOUSE_OUT:/mouse(?:out|leave)/,EVENT_ONCE:/^(?:on|)(?:(?:un|)load|DOMContentLoaded)$/,ID_CLEAN:/^#/};
q.update({Signal:{}});k(q.Signal,{NAME:"Signal",toString:q.toString,Handler:k(function(ah){return new q.Signal.Handler.prototype.init(ah)
},{advices:{normal:1,before:2,around:4,after:8,propBefore:16,propAround:32,propAfter:64}}),Observer:function(ai,al){var ak=this,ah,am=this.PotInternal;
if(!am.serial){am.serial=m(this)}k(am,{orgEvent:al||(typeof window==="object"&&window.event)||{},object:ai});
ah=am.orgEvent;if(!q.isObject(ah)){am.orgEvent=ah={type:ah}}e(ah,function(an,ao){if(!n.call(ak,ao)){ak[ao]=an
}});try{if(!ah.target){ah.target=ah.srcElement||q.currentDocument()||{}}if(ah.target.nodeType==3&&ah.target.parentNode){ah.target=ah.target.parentNode
}if(ah.metaKey==null){ah.metaKey=ah.ctrlKey}if(ah.timeStamp==null){ah.timeStamp=c()
}if(ah.relatedTarget==null){if(V.MOUSE_OVER.test(ah.type)){ah.relatedTarget=ah.fromElement
}else{if(V.MOUSE_OUT.test(ah.type)){ah.relatedTarget=ah.toElement}}}}catch(aj){}this.originalEvent=ah
},DropFile:function(ai,ah){return q.Signal.DropFile.prototype.init(ai,ah)},isHandler:function(ah){return ah!=null&&((ah instanceof q.Signal.Handler)||(ah.id!=null&&ah.id===q.Signal.Handler.prototype.id&&ah.NAME!=null&&ah.NAME===q.Signal.Handler.prototype.NAME))
},isObserver:function(ah){return ah!=null&&((ah instanceof q.Signal.Observer)||(ah.PotInternal!=null&&ah.PotInternal.id!=null&&ah.PotInternal.id===q.Signal.Observer.prototype.PotInternal.id&&ah.PotInternal.NAME!=null&&ah.PotInternal.NAME===q.Signal.Observer.prototype.PotInternal.NAME))
},attach:function(al,ao,ar,aj,ah){var am=[],ap,an,aq,ak,ai=R(al);if(!ai){return(void 0)
}ap=S(ai);aq=!!aj;if(q.isArray(ao)){an=true}ak=q.Signal.Handler.advices.normal;e(E(ao),function(aw){var at,au,av;
at=v(aw);av=O(ai,at,ar,aq,ap,ah,ak);au=new q.Signal.Handler({object:ai,signal:at,listener:av,callback:ar,isDOM:ap,useCapture:aq,advice:ak,attached:true});
M(function(ax){ax[ax.length]=au});if(ap){if(ai.addEventListener){ai.addEventListener(Y(ai,at),av,aq)
}else{if(ai.attachEvent){ai.attachEvent(Y(ai,at),av)}}}am[am.length]=au});return an?am:am[0]
},attachBefore:function(aj,ai,al,ah,ak){return ae(aj,ai,al,q.Signal.Handler.advices.before,ak)
},attachAfter:function(aj,ai,al,ah,ak){return ae(aj,ai,al,q.Signal.Handler.advices.after,ak)
},attachPropBefore:function(ai,ak,al,ah,aj){return Z(ai,ak,al,q.Signal.Handler.advices.propBefore,aj)
},attachPropAfter:function(ai,ak,al,ah,aj){return Z(ai,ak,al,q.Signal.Handler.advices.propAfter,aj)
},detach:function(ak,an,ao,aj){var ap=false,am=arguments,ah=q.Signal,al,ai=R(ak);
if(!ai){return(void 0)}if(ah.isHandler(ai)){P(function(aq){if(aq&&aq.attached&&aq===ai){al=aq;
throw q.StopIteration}})}else{if(am.length>1){P(function(aq){if(aq&&aq.attached&&aq.object===ai&&aq.signal==an&&aq.callback===ao){al=aq;
throw q.StopIteration}})}}if(al){ac(al);ap=true}return ap},detachAll:function(){var aj=arguments,al,ai=[],ak={},ah=[];
switch(aj.length){case 0:break;case 1:al=aj[0];break;case 2:al=aj[0];ai=aj[1]||[];
break;default:al=aj[0];ai=E(aj,1);break}if(al!=null){al=R(al)}ai=E(ai);e(ai,function(am){ak[N+v(am)]=true
});P(function(am){if(!am||((al==null||am.object===al)&&((!ai||ai.length===0)||(ai.length&&am.signal in ak)))){if(am&&am.attached){ah[ah.length]=am
}}});e(ah,function(am){ac(am)})},signal:function(aj,am){var ap,al=E(arguments,2),an=[],ao,ai,ak={},ah=R(aj);
if(!ah){return(void 0)}ap=K();ao=am;ai=q.Signal.Handler.advices.normal;e(E(ao),function(aq){ak[N+v(aq)]=true
});P(function(aq){if(aq&&aq.attached&&aq.advice===ai&&aq.object===ah&&((N+aq.signal) in ak)){ap.then(function(){var ar=aq.listener.apply(ah,al);
if(q.isDeferred(ar)){ar.begin()}return ar},function(ar){an[an.length]=ar})}});return ap.ensure(function(aq){if(q.isError(aq)){an[an.length]=aq
}switch(an.length){case 0:break;case 1:throw an[0];default:throw k(an[0]||{},{errors:an})
}return aq}).begin()},cancelEvent:function(ah){var ai=function(aj){try{aj.preventDefault();
aj.stopPropagation()}catch(ak){}};if(ah){ai();if(ah.originalEvent){ai(ah.originalEvent)
}if(ah.PotInternal&&ah.PotInternal.orgEvent){ai(ah.PotInternal.orgEvent)}}return false
}});q.Signal.DropFile.prototype=k(q.Signal.DropFile.prototype,{constructor:q.Signal.DropFile,id:q.Internal.getMagicNumber(),NAME:"DropFile",serial:null,toString:q.toString,defaultOptions:{onShow:null,onHide:null,onDrop:null,onLoadImage:null,onLoadText:null,onLoadUnknown:null,onLoadEnd:null},encoding:"UTF-8",loadedFiles:[],handleCache:[],target:[],options:{},isShow:false,init:function(ai,ah){if(!this.serial){this.serial=m(this)
}this.isShow=false;this.target=R(ai);this.options=k({},this.defaultOptions,ah||{});
if(this.options.encoding){this.encoding=this.options.encoding}if(this.target){this.initEvents()
}return this},clearDropEvents:function(){e(this.handleCache,function(ah){q.Signal.detach(ah)
});this.handleCache=[]},initEvents:function(){var aj=this,ak=this.target,ai,ah=this.handleCache,am=this.options,al=q.Signal;
ah[ah.length]=al.attach(ak,"drop",function(aq){var ap,an,ao=0;aj.isShow=false;ap=aq.dataTransfer&&aq.dataTransfer.files;
if(ap){if(am.onDrop){am.onDrop.call(aj,ap)}an=new FileReader();an.onloadend=function(ar){ao--;
if(ar&&ar.target&&ar.target.result!=null){aj.loadedFiles.push(ar.target.result);if(ao<=0){if(am.onLoadEnd){am.onLoadEnd.call(aj,E(aj.loadedFiles))
}}}};e(ap,function(au){var ar,at,av;if(au){ao++;av=au.type;at=au.size;ar=au.name;
an.readAsDataURL(au);if(aj.isImageFile(av)){aj.loadAsImage(au,ar,at,av)}else{if(aj.isTextFile(av)){aj.loadAsText(au,ar,at,av)
}else{aj.loadAsUnknown(au,ar,at,av)}}}})}});ah[ah.length]=al.attach(ak,"dragenter",function(an){aj.isShow=true;
al.cancelEvent(an)});ah[ah.length]=al.attach(ak,"dragover",function(an){aj.isShow=true;
al.cancelEvent(an)});ah[ah.length]=al.attach(ak,"dragleave",function(an){aj.isShow=false
});if(am.onHide){am.onHide.call(aj)}ai=q.currentDocument().documentElement;ah[ah.length]=al.attach(ai,"drop",function(an){aj.isShow=false;
if(am.onHide){am.onHide.call(aj)}al.cancelEvent(an)});ah[ah.length]=al.attach(ai,"dragleave",function(an){q.Internal.setTimeout(function(){if(aj.isShow){aj.isShow=false
}else{if(am.onHide){am.onHide.call(aj)}}},1000)});e(["dragenter","dragover"],function(an){ah[ah.length]=al.attach(ai,an,function(ar){var aq=ar&&ar.dataTransfer,ap,ao;
if(aq){if(aq.files&&aq.files.length){ap=true}else{if(aq.types){ao=/Files/i;if(ao.test(aq.types)){ap=true
}else{if(q.isArrayLike(aq.types)){e(aq.types,function(at){if(ao.test(at)){ap=true;
throw q.StopIteration}})}}}}}if(ap){aj.isShow=true;if(am.onShow){am.onShow.call(aj)
}}al.cancelEvent(ar)})})},isImageFile:function(ah){return/image/i.test(ah)},isTextFile:function(ah){return !/image|audio|video|zip|compress/i.test(ah)
},upload:function(aj,ap){var am,ak,ai=this.loadedFiles,ah={},ao,al,an="file";if(ai&&ai.length){if(q.isString(ap)){an=ap
}else{if(q.isObject(ap)){ao=/key|file|name/i;e(ap,function(ar,aq){if(q.isString(ar)&&ao.test(aq)){an=ar;
throw q.StopIteration}});ah=k({},ap)}}ak=v(aj);ao=/([^@:;#?&=\/\\]+)=[?]/;if(ao.test(ak)){an=ak.match(ao)[1];
ak=ak.replace(an,"")}al=ah.sendContent||ah.queryString||{};if(q.isArray(al)){al[al.length]=[an,ai.splice(0)]
}else{al[an]=ai.splice(0)}ah.sendContent=al;ah.queryString=null;ah.method=ah.method||"POST";
am=q.Net.request(ak,ah)}return q.Deferred.maybeDeferred(am)},loadAsImage:function(ak,ai,aj,al){var am=this,ah=new FileReader(),an=this.options.onLoadImage;
ah.onload=function(ao){if(an){an.call(am,ao&&ao.target&&ao.target.result,ai,aj,al)
}};ah.readAsDataURL(ak)},loadAsText:function(ak,ai,aj,al){var am=this,ah=new FileReader(),an=this.options.onLoadText;
ah.onload=function(ao){if(an){an.call(am,ao&&ao.target&&ao.target.result,ai,aj,al)
}};ah.readAsText(ak,this.encoding)},loadAsUnknown:function(ak,ai,aj,al){var am=this,ah=new FileReader(),an=this.options.onLoadUnknown;
ah.onload=function(ao){if(an){an.call(am,ao&&ao.target&&ao.target.result,ai,aj,al)
}};ah.readAsDataURL(ak)}});q.Signal.DropFile.prototype.init.prototype=q.Signal.DropFile.prototype;
q.Signal.Handler.prototype=k(q.Signal.Handler.prototype,{constructor:q.Signal.Handler,id:q.Internal.getMagicNumber(),NAME:"Handler",serial:null,toString:q.toString,init:function(ah){if(!this.serial){this.serial=m(this)
}k(this,ah);return this}});q.Signal.Handler.prototype.init.prototype=q.Signal.Handler.prototype;
q.Signal.Observer.prototype={constructor:q.Signal.Observer,PotInternal:{id:q.Internal.getMagicNumber(),NAME:"Observer",serial:null,orgEvent:null,object:null},toString:function(){return u(this.PotInternal.NAME)
},preventDefault:function(){var ah;try{ah=this.PotInternal.orgEvent;if(ah){if(ah.preventDefault){ah.preventDefault()
}else{ah.returnValue=false}}}catch(ai){}if(this.originalEvent){try{ah=this.originalEvent;
if(ah){if(ah.preventDefault){ah.preventDefault()}else{ah.returnValue=false}}}catch(ai){}}},stopPropagation:function(){var ah;
try{ah=this.PotInternal.orgEvent;if(ah){if(ah.stopPropagation){ah.stopPropagation()
}ah.cancelBubble=true}}catch(ai){}if(this.originalEvent){try{ah=this.originalEvent;
if(ah){if(ah.stopPropagation){ah.stopPropagation()}ah.cancelBubble=true}}catch(ai){}}}};
e({attach:4,attachBefore:4,attachAfter:4,attachPropBefore:4,attachPropAfter:4},function(ai,ah){k(q.Signal[ah],{once:function(){var aj=E(arguments);
aj[ai]=true;return q.Signal[ah].apply(q.Signal,aj)}})});e({before:true,after:true,normal:true,before:true,after:true,propBefore:true,propAfter:true},function(ai,ah){var aj={};
aj[ah]=function(ak,an,am,al){return T(ak,an,am,q.Signal.Handler.advices[ah],al)};
k(ag,aj)});function O(am,au,ar,aj,aq,ai,al){var at=(aq&&V.EVENT_ONCE.test(au)),ao,ak,ap,ah=q.Signal,an;
if(ai||at){ao=true;ak=function(av){ah.detach(am,au,ar,aj)}}if(af(am,au,true)){if(al===ah.Handler.advices.normal){J(am,au)
}ap=q.noop;if(aq){return ap}else{P(function(av){if(av&&!av.isDOM&&av.advice===ah.Handler.advices.normal&&av.object===am&&av.signal==au&&av.listener!==q.noop){if(an){av.listener=q.noop
}else{if(!av.attached){ap=av.listener;av.listener=q.noop;an=true}}}});return ap}}W[W.length]={object:am,signal:au,advice:al,attached:true};
return function(ax){var ay=K(),av=arguments,aw=av.callee,az=aq?new ah.Observer(am,ax):av;
ay.data(ad,[]);ag.before(ay,am,au,az);ag.normal(ay,am,au,az);ag.after(ay,am,au,az);
return ay.ensure(function(aA){var aB;if(q.isError(aA)){this.data(ad,g.call(this.data(ad)||[],aA))
}aB=this.data(ad);if(ao){ak(aw)}if(aB&&aB.length){if(aB.length>1){throw k(aB[0],{errors:aB})
}else{throw aB[0]}}return aA}).begin()}}function T(aq,al,ap,ak,ao){var ai=q.Signal,am={},an,ah,aj=R(al);
if(!aj){return(void 0)}an=E(ap);e(an,function(ar){am[N+v(ar)]=true});ah=false;switch(ak){case ai.Handler.advices.normal:ah=true;
break;case ai.Handler.advices.before:case ai.Handler.advices.after:e(an,function(ar){if(af(aj,v(ar))){ah=true;
throw q.StopIteration}});break;case ai.Handler.advices.propBefore:case ai.Handler.advices.propAfter:e(an,function(ar){if(L(aj,v(ar))){ah=true;
throw q.StopIteration}});break;default:ah=false;break}if(ah){P(function(at){var ar=v(at&&at.signal);
if(at&&at.attached&&at.advice===ak&&at.object===aj&&((N+ar) in am)){aq.ensure(function(au){if(q.isError(au)){this.data(ad,g.call(this.data(ad)||[],au))
}if(ak===ai.Handler.advices.normal){return at.callback.apply(aj,E(ao))}else{return at.listener.apply(aj,E(ao))
}})}})}return aq}function af(aj,ai,al){var ah=false,ak=q.Signal;e(E(ai),function(ap){var an,ao,am=v(ap);
for(an=W.length-1;an>=0;an--){ao=W[an];if(ao&&(al||ao.attached)&&ao.advice===ak.Handler.advices.normal&&ao.object===aj&&ao.signal==am){ah=true;
throw q.StopIteration}}});return ah}function J(aj,ai){var ah=false,ak=q.Signal;e(E(ai),function(ao){var am,an,al=v(ao);
for(am=W.length-1;am>=0;am--){an=W[am];if(an&&!an.attached&&an.advice===ak.Handler.advices.normal&&an.object===aj&&an.signal==al){an.attached=true;
throw q.StopIteration}}});return ah}function L(ai,ak,aj){var ah=false;e(E(ak),function(ao){var am,an,al=v(ao);
for(am=X.length-1;am>=0;am--){an=X[am];if(an&&(aj||an.attached)&&an.object===ai&&an.signal==al){ah=true;
throw q.StopIteration}}});return ah}function U(ai,ak){var ah=false,aj=q.Signal;e(E(ak),function(ao){var am,an,al=v(ao);
for(am=X.length-1;am>=0;am--){an=X[am];if(an&&!an.attached&&(an.advice===aj.Handler.advices.propBefore||an.advice===aj.Handler.advices.propAfter)&&an.object===ai&&an.signal==al){an.attached=true;
throw q.StopIteration}}});return ah}function ac(aq){var ak,an,aj,ap,al,am,ao,ai,ah=q.Signal;
if(!aq||!aq.attached){return}aq.attached=false;ak=aq.object;an=aq.signal;ap=aq.useCapture;
aj=aq.listener;if(!aq.isDOM){if(aq.advice===ah.Handler.advices.propBefore||aq.advice===ah.Handler.advices.propAfter){ao=false;
P(function(ar){if(ar&&ar.attached&&!ar.isDOM&&(ar.advice===ah.Handler.advices.propBefore||ar.advice===ah.Handler.advices.propAfter)&&ar.object===ak&&ar.signal==an){ao=true;
throw q.StopIteration}});if(!ao){for(al=X.length-1;al>=0;al--){am=X[al];if(am&&am.attached&&am.object===ak&&am.signal==an){am.attached=false
}}}}else{if(aq.advice===ah.Handler.advices.normal){ao=false;ai=null;P(function(ar){if(ar&&ar.attached&&!ar.isDOM&&ar.advice===ah.Handler.advices.normal&&ar.object===ak&&ar.signal==an){ao=true;
ai=ar;throw q.StopIteration}});if(ao){if(ai&&ai.listener===q.noop&&aj!==q.noop){ai.listener=aj
}}else{for(al=W.length-1;al>=0;al--){am=W[al];if(am&&am.attached&&am.object===ak&&am.signal==an){am.attached=false
}}}}}}else{if(aq.advice===ah.Handler.advices.normal){ao=false;P(function(ar){if(ar&&ar.attached&&ar.isDOM&&ar.advice===ah.Handler.advices.normal&&ar.object===ak&&ar.signal==an){ao=true;
throw q.StopIteration}});if(!ao){for(al=W.length-1;al>=0;al--){am=W[al];if(am&&am.attached&&am.advice===ah.Handler.advices.normal&&am.object===ak&&am.signal==an){am.attached=false
}}}}}Q()}function ae(ak,an,aq,aj,ah){var al=[],ai,ap,am,ao;ai=R(ak);if(!ai){return(void 0)
}ao=function(ar){return function(){var at=arguments;aq.apply(ai,at);if(ah){q.Signal.detach(ai,ar,at.callee,false)
}}};ap=S(ai);if(q.isArray(an)){am=true}e(E(an),function(av){var ar=v(av),at,au;au=ao(ar);
at=new q.Signal.Handler({object:ai,signal:ar,listener:au,callback:au,isDOM:ap,useCapture:false,advice:aj,attached:true});
M(function(aw){aw[aw.length]=at});al[al.length]=at});return am?al:al[0]}function Z(ak,an,aq,aj,ai){var al=[],am,ao,ap,ah=q.Signal;
if(!ak||!q.isFunction(aq)){return(void 0)}if(q.isArray(an)){am=true}ap=function(ar){return function(){var at=arguments;
aq.apply(ak,at);if(ai){ah.detach(ak,ar,at.callee,false)}}};ao=E(an);e(ao,function(at){var ar=v(at);
if(L(ak,ar,true)){if(aj===ah.Handler.advices.propBefore||aj===ah.Handler.advices.propAfter){U(ak,ar)
}}else{X[X.length]={object:ak,signal:ar,advice:aj,attached:true};q.override(ak,ar,function(ay,au){var ax={},aw=K(),av=ax;
aw.data(ad,[]);ag.propBefore(aw,ak,ar,au);aw.ensure(function(az){if(q.isError(az)){this.data(ad,g.call(this.data(ad)||[],az))
}return ay.apply(ak,au)}).then(function(az){av=az;return az});ag.normal(aw,ak,ar,au);
ag.propAfter(aw,ak,ar,au);aw.ensure(function(az){var aA;if(q.isError(az)){this.data(ad,g.call(this.data(ad)||[],az))
}aA=this.data(ad);if(aA&&aA.length){if(aA.length>1){throw k(aA[0],{errors:aA})}else{throw aA[0]
}}return az}).begin();return(av===ax)?null:av})}});e(ao,function(av){var ar=v(av),at,au;
au=ap(ar);at=new q.Signal.Handler({object:ak,signal:ar,listener:au,callback:au,isDOM:false,useCapture:false,advice:aj,attached:true});
M(function(aw){aw[aw.length]=at});al[al.length]=at});return am?al:al[0]}function Y(ah,ak){var ai=v(ak),aj="on";
if(ah){if(ah.addEventListener){if(ai.indexOf(aj)===0){ai=ai.substring(2)}}else{if(ah.attachEvent){if(ai.indexOf(aj)!==0){ai=aj+ai
}}}}return ai}function S(ah){return !!(ah&&(ah.addEventListener&&ah.removeEventListener)||(ah.attachEvent&&ah.detachEvent))
}function R(ai){if(typeof ai==="object"||q.isFunction(ai)){if(ai.jquery&&ai.get){return ai.get(0)
}else{return ai}}if(q.isString(ai)){try{return q.currentDocument().getElementById(v(ai).replace(V.ID_CLEAN,""))
}catch(ah){}}return false}function P(am){var ai,ak=null,aj,ah;ab=true;try{ah=aa.length;
for(aj=0;aj<ah;aj++){ai=am(aa[aj],aj)}}catch(al){ak=al}finally{ab=false}if(ak!==null&&!q.isStopIter(ak)){throw ak
}return ai}function M(am){var ah,ak=255,aj={},ai=false;(function al(){try{if(ab){if(--ak>=0){throw aj
}else{ak=-1;q.Internal.setTimeout(function(){al()},0)}}else{if(!ai){ai=true;ah=am(aa)
}}}catch(an){if(an===aj){return al()}else{throw an}}})();return ah}function Q(){var aj,ah,ak,ai=[],al,an=q.Signal;
if(!ab){ab=true;try{ah=aa.length;for(aj=0;aj<ah;aj++){ak=aa[aj];if(!ak||(!ak.attached&&((ak.advice===an.Handler.advices.normal&&ak.listener===q.noop)||(ak.advice===an.Handler.advices.propBefore||ak.advice===an.Handler.advices.propAfter)||(ak.advice===an.Handler.advices.before||ak.advice===an.Handler.advices.after)))){continue
}ai[ai.length]=ak}aa.splice(0,ah);j.apply(aa,ai)}catch(am){al=am}finally{ab=false
}if(al!=null){throw al}}}function K(){return new q.Deferred({async:false})}q.update({attach:q.Signal.attach,attachBefore:q.Signal.attachBefore,attachAfter:q.Signal.attachAfter,attachPropBefore:q.Signal.attachPropBefore,attachPropAfter:q.Signal.attachPropAfter,detach:q.Signal.detach,detachAll:q.Signal.detachAll,signal:q.Signal.signal,cancelEvent:q.Signal.cancelEvent,DropFile:q.Signal.DropFile})
}());q.update({Debug:{}});k(q.Debug,{debug:s});q.update({deferrizejQueryAjax:(function(){if(typeof jQuery!=="function"||!jQuery.fn){return q.noop
}return function(){return(function(J){var K=J.ajax;J.pot=q;J.fn.extend({deferred:function(O){var N,L=E(arguments,1),M=false;
e(L,function(P){if(q.isFunction(P)){M=true;throw q.StopIteration}});if(!M){L.push(function(){return E(arguments)
})}N=q.Deferred.deferrize(O,this);return N.apply(this,L)}});J.ajax=function(L){var P=new q.Deferred(),N,M,Q;
N=k({},L||{});M=k({},N);k(N,{success:function(){var S=E(arguments),T,R;try{if(M.success){M.success.apply(this,S)
}}catch(U){R=true;T=U||new Error(U);S.push(T);P.raise.apply(P,S)}if(!R){P.destAssign=true;
P.begin.apply(P,S)}},error:function(){var R=E(arguments),S;try{if(M.error){M.error.apply(this,R)
}}catch(T){S=T||new Error(T);R.unshift(S)}finally{P.raise.apply(P,R)}}});try{P.data({result:K(N)})
}catch(O){Q=O;P.raise(Q)}return P}}(jQuery))}}())});(function(K,J){k(K,{storage:{},shelter:{},add:function(N,Q,P){var L=true,O,M;
if(q.isObject(N)){O=N;M=!!(P||Q)}else{O={};O[v(N,true)]=Q;M=!!P}e(O,function(S,R){var T=v(R,true),U;
if(q.isFunction(S)){U=function(){return S.apply(S,arguments)};k(U,{deferred:(function(){try{return q.Deferred.deferreed(U)
}catch(V){return q.Deferred.deferrize(U)}}())})}else{U=S}if(T&&(M||!K.has(T))){if(T in q){K.shelter[T]=q[T]
}q[T]=K.storage[T]=J.PotExportProps[T]=U}else{L=false}});return L},has:function(M){var L=true;
e(E(M),function(N){var O=v(N,true);if(!(O in K.storage)){L=false;throw q.StopIteration
}});return L},remove:function(M){var L=true;e(E(M),function(N){var O=v(N,true);if(q.Plugin.has(O)){try{if(O in K.shelter){q[O]=J.PotExportProps[O]=K.shelter[O];
delete K.shelter[O]}else{if(O in q){delete q[O]}if(O in J.PotExportProps){delete J.PotExportProps[O]
}}delete K.storage[O];if(K.has(O)){throw false}}catch(P){L=false}}});return L},list:function(){var L=q.keys(K.storage);
return L}});q.update({addPlugin:K.add,hasPlugin:K.has,removePlugin:K.remove,listPlugin:K.list})
}(q.Plugin,q.Internal));q.update({globalize:function(P,M){var K=false,O=E(arguments);
var L,Q,J,N=[];J=O.length;if(J<=1&&this===q&&!q.isObject(P)){L=this;if(J>=1&&q.isBoolean(P)){M=P
}else{M=!!P}}else{if(P&&(q.isObject(P)||q.isFunction(P)||q.isArray(P))){L=P}}Q=q.Internal.getExportObject(true);
if(L&&Q){if(L===q){if(q.Internal.exportPot&&q.Internal.PotExportProps){K=q.Internal.exportPot(M,true,true)
}}else{e(L,function(S,R){if(M&&R in Q){N[N.length]=R}else{Q[R]=S}});K=N}}return K
}});k(q.Internal,{exportPot:function(K,O,M,J){var N,L=[];N=q.Internal.getExportObject(O);
if(N){if(M){e(q.Internal.PotExportProps,function(Q,P){if(K&&P in N){L[L.length]=P
}else{N[P]=Q}})}else{e(q.Internal.PotExportObject,function(Q,P){if(K&&P in N){L[L.length]=P
}else{N[P]=Q}})}}if(J){N=q.Internal.getExportObject(q.System.isNodeJS?false:true);
if(N){k(N,q.Internal.PotExportObject)}if((q.System.isNonBrowser||!q.System.isNotExtension)&&typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=q
}exports.Pot=q}else{if(typeof define==="function"&&define.amd){define("pot",function(){return q
})}}if(N&&!N.Pot){N.Pot=q}}return L},PotExportObject:{Pot:q},PotExportProps:{Pot:q,update:k,isBoolean:q.isBoolean,isNumber:q.isNumber,isString:q.isString,isFunction:q.isFunction,isArray:q.isArray,isDate:q.isDate,isRegExp:q.isRegExp,isObject:q.isObject,isError:q.isError,typeOf:q.typeOf,typeLikeOf:q.typeLikeOf,StopIteration:q.StopIteration,isStopIter:q.isStopIter,isIterable:q.isIterable,isScalar:q.isScalar,isArrayLike:q.isArrayLike,isDeferred:q.isDeferred,isIter:q.isIter,isPercentEncoded:q.isPercentEncoded,isNumeric:q.isNumeric,isInt:q.isInt,isNativeCode:q.isNativeCode,isBuiltinMethod:q.isBuiltinMethod,isWindow:q.isWindow,isDocument:q.isDocument,isElement:q.isElement,isNodeLike:q.isNodeLike,isNodeList:q.isNodeList,Cc:q.Cc,Ci:q.Ci,Cr:q.Cr,Cu:q.Cu,Deferred:q.Deferred,succeed:q.Deferred.succeed,failure:q.Deferred.failure,wait:q.Deferred.wait,callLater:q.Deferred.callLater,callLazy:q.Deferred.callLazy,maybeDeferred:q.Deferred.maybeDeferred,isFired:q.Deferred.isFired,lastResult:q.Deferred.lastResult,lastError:q.Deferred.lastError,register:q.Deferred.register,unregister:q.Deferred.unregister,deferrize:q.Deferred.deferrize,deferreed:q.Deferred.deferreed,begin:q.Deferred.begin,flush:q.Deferred.flush,till:q.Deferred.till,parallel:q.Deferred.parallel,chain:q.Deferred.chain,forEach:q.forEach,repeat:q.repeat,forEver:q.forEver,iterate:q.iterate,items:q.items,zip:q.zip,Iter:q.Iter,toIter:q.Iter.toIter,map:q.map,filter:q.filter,reduce:q.reduce,every:q.every,some:q.some,range:q.range,indexOf:q.indexOf,lastIndexOf:q.lastIndexOf,globalEval:q.globalEval,localEval:q.localEval,hasReturn:q.hasReturn,override:q.override,getErrorMessage:q.getErrorMessage,currentWindow:q.currentWindow,currentDocument:q.currentDocument,currentURI:q.currentURI,serializeToJSON:q.Serializer.serializeToJSON,parseFromJSON:q.Serializer.parseFromJSON,serializeToQueryString:q.Serializer.serializeToQueryString,parseFromQueryString:q.Serializer.parseFromQueryString,urlEncode:q.URI.urlEncode,urlDecode:q.URI.urlDecode,request:q.Net.request,jsonp:q.Net.requestByJSONP,getJSON:q.Net.getJSON,loadScript:q.Net.loadScript,hashCode:q.Crypt.hashCode,evalInSandbox:q.XPCOM.evalInSandbox,throughout:q.XPCOM.throughout,getMostRecentWindow:q.XPCOM.getMostRecentWindow,getChromeWindow:q.XPCOM.getChromeWindow,attach:q.Signal.attach,attachBefore:q.Signal.attachBefore,attachAfter:q.Signal.attachAfter,attachPropBefore:q.Signal.attachPropBefore,attachPropAfter:q.Signal.attachPropAfter,detach:q.Signal.detach,detachAll:q.Signal.detachAll,signal:q.Signal.signal,cancelEvent:q.Signal.cancelEvent,DropFile:q.Signal.DropFile,rescape:C,arrayize:E,invoke:I,stringify:v,trim:z,now:c,globalize:q.globalize,debug:q.Debug.debug,addPlugin:q.Plugin.add,hasPlugin:q.Plugin.has,removePlugin:q.Plugin.remove,listPlugin:q.Plugin.list}});
q.Internal.exportPot(false,false,false,true)}(this||{}));
