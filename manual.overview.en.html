<!DOCTYPE html>
<html dir="ltr">
<head>
<meta charset="UTF-8">
<title>Pot.js Overview</title>
<link rel="Pot.js Repository - GitHub" href="http://github.com/polygonplanet/Pot.js">
<link rel="author" title="polygon planet" href="http://polygonpla.net/">
<script type="text/javascript">
location.href = './#manual.overview';
</script>
</head>
<body>
<h1>Pot.js Overview</h1>
<div class="pot-js-document-reference-content-container">
<!--#Pot.js-reference-content:{{{-->

<div class="note" style="margin: 1em;">
  <p>
    This document is crazy english 
     that is the one that most of sentences was translated literally and
     automatically into English from Japanese.
    Therefore, please acknowledge it though there is a possibility with improper sentences.
    You can refer the
     <a href="#:ja"
        title="Pot.js + PotLite.js - Document and Reference - JavaScript Async + String Utility Library (Japanese)">original Japanese document</a>.
  </p>
</div>
<h2 id="manualsub.overview.whats.Pot.js" class="potjs-manual-item-for-in-view">What's Pot.js?</h2>
<div class="potjs-manual-item-for-in-view">
  <p>
    <strong>Pot.js</strong> is an implemental utility library that can execute JavaScript without burdening the CPU. 
  </p>
  <pre>for (var i = 0, len = items.length; i &lt; len; i++) {
    var item = items[i];
    // Any heavy process.
}</pre>
  <p>
    Like this JavaScript loops that will be the CPU load and it may be warning the &quot;unresponsive script&quot;.
    <br>
    Just replace to the Pot.js iterator simply.
  </p>
  <pre>Pot.Deferred.forEach(items, function(item, i) {
    // Any heavy process.
})</pre>
  <p>
    You can see how difference in the CPU usage as following table.
  </p>
  <div style="margin: 10px; padding: 5px;">
    <table class="grid" border="1">
      <tr>
        <td class="header title-marker">Iterator</td>
        <td class="header title-marker">Data Size</td>
        <td class="header title-marker">CPU Usage (MAX)</td>
        <td class="header title-marker">CPU Usasge (AVG)</td>
        <td class="header title-marker">Processing Time (ms)</td>
      </tr>
      <tr>
        <td>for-statement</td>
        <td>1MB</td>
        <td><strong>14.52%</strong></td>
        <td><strong>10.61%</strong></td>
        <td>1211ms.</td>
      </tr>
      <tr>
        <td>jQuery.each</td>
        <td>1MB</td>
        <td><strong>16.28%</strong></td>
        <td><strong>13.53%</strong></td>
        <td>1362ms.</td>
      </tr>
      <tr>
        <td class="marker"><strong>Pot.Deferred.forEach</strong></td>
        <td class="marker">1MB</td>
        <td class="marker"><strong>11.65%</strong></td>
        <td class="marker"><strong>5.53%</strong></td>
        <td class="marker">1647ms.</td>
      </tr>
      <tr>
        <td>for-statement</td>
        <td>5MB</td>
        <td><strong>24.85%</strong></td>
        <td><strong>21.71%</strong></td>
        <td>4717ms.</td>
      </tr>
      <tr>
        <td>jQuery.each</td>
        <td>5MB</td>
        <td><strong>27.78%</strong></td>
        <td><strong>24.29%</strong></td>
        <td>5570ms.</td>
      </tr>
      <tr>
        <td class="marker"><strong>Pot.Deferred.forEach</strong></td>
        <td class="marker">5MB</td>
        <td class="marker"><strong>13.74%</strong></td>
        <td class="marker"><strong>8.61%</strong></td>
        <td class="marker">8925ms.</td>
      </tr>
      <tr>
        <td>for-statement</td>
        <td>10MB</td>
        <td><strong>28.14%</strong></td>
        <td><strong>25.92%</strong></td>
        <td>10699ms.</td>
      </tr>
      <tr>
        <td>jQuery.each</td>
        <td>10MB</td>
        <td><strong>31.09%</strong></td>
        <td><strong>30.77%</strong></td>
        <td>15844ms.</td>
      </tr>
      <tr>
        <td class="marker"><strong>Pot.Deferred.forEach</strong></td>
        <td class="marker">10MB</td>
        <td class="marker"><strong>18.62%</strong></td>
        <td class="marker"><strong>9.77%</strong></td>
        <td class="marker">38909ms.</td>
      </tr>
    </table>
  </div>
  <p>
   This result referenced from <a href="http://potjs.tumblr.com/post/21958543402/jquery-each-pot-js-cpu"
                  title="jQuery.each と Pot.js イテレータで CPU使用率比較グラフ - Pot.js Blog"
                  target="_blank">Compare CPU usage of while loop and Pot.Deferred.forEver and jQuery - Pot.js Blog (Japanese)</a> (Core i5).
   <br>
   It is intended for JSON files of each size.
   <br>
   You can confirm that Pot.js iterator can executed without burdening the CPU from result.
   <br>
   Pot.js iterator can control speed and parallel processing if you need.
   <br>
   You can also run without warning &quot;Unresponsive script&quot;.
  </p>
  <p>
    <a href="http://polygonplanet.github.com/Pot.js/pot.js-cpu-usage-tester.html"
       title="Pot.js - CPU usage tester"
       target="_blank"
       style="font-size: 120%; font-weight: bold;">Let execute loops with Pot.js in this page</a>.
  </p>
</div>
<h2 id="manualsub.overview.download" class="potjs-manual-item-for-in-view">Download</h2>
<div class="potjs-manual-item-for-in-view">
 <div style="margin: 8px;">
   <div>
    <h4>Latest and Stable</h4>
   </div>
   <ul>
     <li><a href="http://github.com/polygonplanet/Pot.js/zipball/master"
            title="Pot.js + PotLite.js - Latest and Stable (zip)"
            style="font-size: 120%; font-weight: bold;">Download zip</a>
     </li>
     <li><a href="http://github.com/polygonplanet/Pot.js/tarball/master"
            title="Pot.js + PotLite.js - Latest and Stable (tar.gz)"
            style="font-size: 120%; font-weight: bold;">Download tar.gz</a>
     </li>
   </ul>
 </div>
 <div style="margin: 8px;">
   <div>
    <h4>Pot.js</h4>
   </div>
   <ul>
     <li><a href="https://github.com/polygonplanet/Pot.js/raw/master/pot.min.js"
            title="Production (Minified)"
            style="font-size: 110%;"><strong>pot.min.js</strong> - Production (Minified)</a>
     </li>
     <li><a href="https://github.com/polygonplanet/Pot.js/raw/master/pot.js"
            title="Development (Uncompressed Code)"
            style="font-size: 110%;"><strong>pot.js</strong> - Development (Uncompressed Code)</a>
     </li>
   </ul>
 </div>
 <div style="margin: 8px;">
   <div>
    <h4>PotLite.js (lite)</h4>
   </div>
   <ul>
     <li><a href="https://github.com/polygonplanet/Pot.js/raw/master/potlite.min.js"
            title="Production (Minified)"
            style="font-size: 110%;"><strong>potlite.min.js</strong> - Production (Minified)</a>
     </li>
     <li><a href="https://github.com/polygonplanet/Pot.js/raw/master/potlite.js"
            title="Development (Uncompressed Code)"
            style="font-size: 110%;"><strong>potlite.js</strong> - Development (Uncompressed Code)</a>
     </li>
   </ul>
 </div>
 <div style="margin: 8px;">
   <div>
    <h4>Repository</h4>
   </div>
   <pre>$ git clone git://github.com/polygonplanet/Pot.js</pre>
   <div style="margin: 8px;">
     <p>
      GitHub : <a href="https://github.com/polygonplanet/Pot.js"
                  title="polygonplanet/Pot.js - GitHub"
                  style="font-size: 120%; font-weight: bold;">polygonplanet/Pot.js - GitHub</a>
     </p>
   </div>
 </div>
</div>
<h2 id="manualsub.overview.overview" class="potjs-manual-item-for-in-view">Overview</h2>
<div class="potjs-manual-item-for-in-view">
  <p>
   <strong>Pot.js</strong> is a JavaScript library that can be performed without causing stress to the UI and
    the CPU load by using easy loop iteration functions.
  </p>
  <p>
   With respect to load, you can implement a particular application without requiring the programmer to be aware of.
  </p>
  <p>
   Pot.js is built around the asynchronous processing and iterator with Deferred.
   <br>
   <a href="#reference.Pot.Deferred.methods">Pot.Deferred</a> is a Deferred object like MochiKit (or JSDeferred like).
   <br>
   That makes it possible to various iterations (<a href="#reference.function.Pot.forEach">forEach</a>, <a href="#reference.function.Pot.filter">filter</a>, <a href="#reference.function.Pot.map">map</a>, <a href="#reference.function.Pot.reduce">reduce</a>, <a href="#reference.function.Pot.zip">zip</a>, <a href="#reference.function.Pot.repeat">repeat</a>, <a href="#reference.function.Pot.some">some</a> etc.).
  </p>
  <p>
   Moreover, Pot.js is an utility library that handles string processes with various algorithms,
   <br>
   and it has the <a href="#reference.Pot.Signal.functions">Signal</a> object that can write like aspect-oriented (AOP),
   <br>
   and it has the Event object for DOM listener,
   <br>
   and treats it the <a href="#reference.Pot.DropFile.prototype.functions">File API for HTML5</a>. etc.
  </p>
  <p>
   And, Pot.js never pollute the prototype of the global objects.
   <br>
   We only define the '<strong>Pot</strong>' object in the global scope basically.
   <br>
   You can use Pot.js with other available libraries without fear of conflict.
  </p>
  <p>
   Pot.js is a cross-browser library that works on a Web browser,
   Node.js, userscript (Greasemonkey, Scriptish) XUL, or (Firefox Add-ons) etc.
  </p>
  <p>
   <strong>PotLite.js</strong> is a light version that extracts only the part of
   asynchronous processing (Deferred etc.) has been implemented in Pot.js.
  </p>
</div>
<h2 id="manualsub.overview.install" class="potjs-manual-item-for-in-view">Install</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
  Will work with common ways.
 </p>
 <p>
  Example:
 </p>
 <pre>&lt;script type=&quot;text/javascript&quot; src=&quot;pot.min.js&quot;&gt;&lt;/script&gt;

&lt;!--
  Or you can use the API hosting server for the Pot.js available.
  That referenced followings.
--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://api.polygonpla.net/js/pot/1.21/pot.min.js&quot;&gt;&lt;/script&gt;
</pre>
 <p>
  Example for after loading of Pot.js:
 </p>
 <pre>&lt;script type=&quot;text/javascript&quot;&gt;
// You can use short method name in any by
//   Pot.globalize method. (see below).
<a href="#reference.function.Pot.globalize">Pot.globalize()</a>;

begin(function() {
    return request('./hoge.json', {
        mimeType : 'text/javascript'
    }).then(function(res) {
        return parseFromJSON(res.responseText);
    });
}).then(function(res) {
    return Deferred.forEach(res.items, function(value, key) {
        // ...
    });
});
// ...
&lt;/script&gt;</pre>
 <p>
  For Node.js:
 </p>
 <pre>// Example to define Pot object on Node.js.
var Pot = require('./pot.min.js');
Pot.debug(Pot.VERSION);

Pot.Deferred.begin(function() {
    Pot.debug('Hello World!');
}).then(function() {...})
// ...</pre>
 <p>
  Example of Greasemonkey (userscript).
 </p>
 <pre>// ==UserScript==
// ...
// @require  https://github.com/polygonplanet/Pot.js/raw/master/pot.min.js
// ...
// ==/UserScript==

Pot.Deferred.begin(function() {
    return Pot.request('http://www.example.com/data.json', {
        mimeType : 'application/json'
    }).then(function(res) {
        return Pot.parseFromJSON(res.responseText);
    });
}).then(function(res) {
    Pot.debug(res);
    // do something...
});
//...</pre>
 <p>
  Pot.js API hosting server is available if you import directly from the Web with a limited version of the Pot.js.
  <br>
  On GitHub link above defects may occur due to differences in implementation because it is always up to date.
 </p>
 <div>
  <p>Example for use the Pot.js version 1.21:</p>
  <ul>
   <li>
    v1.21 :
     <a href="http://api.polygonpla.net/js/pot/1.21/pot.min.js"
        title="pot.min.js - api.polygonpla.net">http://api.polygonpla.net/js/pot/1.21/pot.min.js</a>
   </li>
  </ul>
 </div>
 <p>
  This can be changed to fit the part of the released version 1.21.
  <br>
  When tagged version (e.g. 1.xx), we will put a new package to the API server together with the repository.
 </p>
 <p>
  For example, if you use 1.21 with Greasemonkey (userscript):
 </p>
 <pre>// ==UserScript==
// ...
// @require  http://api.polygonpla.net/js/pot/1.21/pot.min.js
// ...
// ==/UserScript==</pre>
 <p>
  Note: This example uses the version numbers of 1.21, it is not always up to date.
  <br>
  Please select the version with more stable.
 </p>
 <div>
  <p>
   Examples of using PotLite.js:
  </p>
  <ul>
   <li>
    PotLite.js v1.38 :
     <a href="http://api.polygonpla.net/js/pot/potlite/1.38/potlite.min.js"
        title="potlite.min.js - api.polygonpla.net">http://api.polygonpla.net/js/pot/potlite/1.38/potlite.min.js</a>
   </li>
  </ul>
  <p>
   You can use the API hosting server by change the link URL for PotLite.js like Pot.js's URL.
  </p>
 </div>
 <p>
  You can check the latest version's URL on
   <a href="http://api.polygonpla.net/js/pot/" 
      title="Pot.js + PotLite.js - API Hosting File Index - JavaScript Library">Pot.js + PotLite.js - API Hosting File Index</a>.
 </p>
 <p><hr></p>
 <p>
  As for jQuery plugin:
 </p>
 <pre>// Execute after loading with jQuery.
Pot.deferrizejQueryAjax();

// Ajax-based functions will return with Pot.Deferred object instance.
$.getJSON('/hoge.json').then(function(data) {
    alert(data.results[0].text);
}).rescue(function(err) {
    alert('Error! ' + err);
}).ensure(function() {
    return someNextProcess();
});

// Will added 'deferred' method for effects etc
//  that convert to Deferred functions.
$('div#hoge').deferred('hide', 'slow').then(function() {
    // (...Do something after hide() method completed.)
});</pre>
 <p>
  <a href="#reference.function.Pot.deferrizejQueryAjax">Pot.deferrizejQueryAjax()</a> does not execute in library now.
  So, if you use as plugin, must call first.
 </p>
</div>
<h2 id="manualsub.overview.compatibility" class="potjs-manual-item-for-in-view">Compatibility</h2>
<div class="potjs-manual-item-for-in-view">
 <div>
   <p>Pot.js / PotLite.js works with the following web browsers.</p>
   <ul>
     <li>Mozilla Firefox *</li>
     <li>Internet Explorer 6+</li>
     <li>Safari *</li>
     <li>Opera *</li>
     <li>Google Chrome *</li>
   </ul>
   <p>And, it also designed for operate in following environments.</p>
   <ul>
     <li>Greasemonkey (userscript)</li>
     <li>Mozilla Firefox Add-On (on XUL)</li>
     <li>Node.js</li>
     <li>Other non-browser environment</li>
   </ul>
 </div>
</div>
<h2 id="manualsub.overview.TestRun" class="potjs-manual-item-for-in-view">Test Run</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
  You can verify by running the operation test in the following page.
 </p>
 <ul>
  <li>
   <a href="http://polygonplanet.github.com/Pot.js/pot.test.html" title="Pot.js - Test Run">Pot.js Test Run</a>
  </li>
  <li>
   <a href="http://polygonplanet.github.com/Pot.js/potlite.test.html" title="PotLite.js - Test Run">PotLite.js Test Run</a>
  </li>
 </ul>
</div>
<h2 id="manualsub.overview.license" class="potjs-manual-item-for-in-view">License</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
  Dual licensed under the MIT and GPL v2 licenses.
 </p>
 <p>
  Copyright &copy; 2012 polygon planet
 </p>
</div>
<h2 id="manualsub.overview.contact" class="potjs-manual-item-for-in-view">Contact</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
  <strong>Author</strong>: polygon planet
 </p>
 <p>
  polygon.planet.aqua[at]gmail.com
 </p>
</div>
<h2 id="manualsub.overview.thanks" class="potjs-manual-item-for-in-view">Thanks</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
  Logo design:
  <br>
  <a href="http://r-m-t.jp/" title="R M T　|　同人音楽サークル (Japanese)">yinyang302mg</a>
 </p>
 <p>
  Thanks for which became chance to make Pot.js / PotLite.js library:
  <br>
  <a href="http://cho45.stfuawsc.com/jsdeferred/"
     title="JSDeferred - cho45.stfuawsc.com">JSDeferred</a>,
  <a href="http://www.mochimedia.com/"
     title="Mochi Media, Inc.">MochiKit (Mochi Media, Inc.)</a>,
  <a href="https://github.com/to/tombloo/wiki"
     title="Tombloo - Home - GitHub">Tombloo</a>
  developers.
 </p>
</div>
<h2 id="manualsub.overview.forJSDoc" class="potjs-manual-item-for-in-view">JSDoc Document</h2>
<div class="potjs-manual-item-for-in-view">
 <ul>
  <li><a href="http://polygonplanet.github.com/Pot.js/jsdoc/index.html"
         title="Pot.js - JsDoc Reference - Index">JSDoc Document (Pot.js)</a>
  </li>
  <li><a href="http://polygonplanet.github.com/Pot.js/jsdoc/potlite/index.html"
         title="PotLite.js - JsDoc Reference - Index">JSDoc Document (PotLite.js)</a>
  </li>
 </ul>
 <p>
  The auto-generated documentation from the Pot.js / PotLite.js source code by
  <a href="http://code.google.com/intl/ja/closure/compiler/docs/js-for-compiler.html"
     title="Annotating JavaScript for the Closure Compiler - Closure Compiler - Google Code">Closure Compiler</a>.
 </p>
 <p>
  Refer more detailed implementation from the source code directly if needed.
 </p>
</div>
<h2 id="manualsub.overview.introduction" class="potjs-manual-item-for-in-view">Introduction</h2>
<div class="potjs-manual-item-for-in-view">
 <div>
   <p>
    Pot.js / PotLite.js will define a &quot;Pot&quot; object in global scope 
     for does non-conflict with other libraries.
    <br>
    If the environment is enabled the module (Node.js etc.),
    Pot.js / PotLite.js will use &quot;exports&quot; for &quot;require&quot;.
    That case will not define an &quot;Pot&quot; object in global scope.
   </p>
   <p>
    If you want to use short method name:
   </p>
   <pre>Pot.globalize();</pre>
   <p>
    Execute this code in the first.
    For example, you can be called only &quot;begin&quot;,
    As method name of the &quot;<a href="#reference.function.Pot.Deferred.begin">Pot.Deferred.begin</a>&quot;.
   </p>
   <p>
    And, &quot;<a href="#reference.function.Pot.globalize">Pot.globalize</a>&quot; can be useful when define any object into the global scope.
   </p>
   <pre>var obj = {
    foo: function() { return 'foo' },
    bar: function() { return 'bar' }
};
Pot.globalize(obj);

alert(foo() + bar()); // 'foobar'</pre>
   <p>
    By providing such an argument on any object can be useful when you want to place any object in global scope.
   </p>
 </div>
</div>
<h2 id="manualsub.overview.Pot.js.Blog" class="potjs-manual-item-for-in-view">Pot.js Blog</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
   Pot.js official blog.
 </p>
 <div>
   <ul>
     <li>
       <a href="http://potjs.tumblr.com/"
          title="Pot.js Blog"
          target="_blank">Pot.js Blog</a>
     </li>
   </ul>
 </div>
</div>
<h2 id="manualsub.overview.Blog.Archives" class="potjs-manual-item-for-in-view">Blog Archives</h2>
<div class="potjs-manual-item-for-in-view">
 <p>
   Pot.js / PotLite.js - Blog Archives (Japanese).
 </p>
 <div>
   <ul>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2012/04/workerworkeroidjavascriptpotjs-117.html"
          title="並列処理のWorkerぽいWorkeroid実装。JavaScriptライブラリPot.js 1.17 リリース | 圧縮電子どうのこうの"
          target="_blank">Pot.js implemented the Workeroid that like the Web Workers for parallel processing | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2012/03/jsfiddle-javascriptpotjspotlitejs_12.html"
          title="jsFiddleだらけ-JavaScriptライブラリPot.js+PotLite.jsリリースノート | 圧縮電子どうのこうの"
          target="_blank">jsFiddle examples | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2012/02/javascriptpotjspotlitejs_24.html"
          title="同期処理を非同期に変換-JavaScriptライブラリPot.js+PotLite.jsリリースノート | 圧縮電子どうのこうの"
          target="_blank">Converted to synchronize asynchronous | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2012/02/javascript-whilepotdeferredforevercpu_11.html"
          title="JavaScript whileループとPot.Deferred.forEverイテレータでCPU使用率を比較-Pot.js+PotLite.jsリリースノート | 圧縮電子どうのこうの"
          target="_blank">Compare CPU usage of while loop and Pot.Deferred.forEver and jQuery | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2012/01/html5-file-api-potjspotlitejs_11.html"
          title="HTML5 File APIでドラッグ＆ドロップのサンプル-Pot.js+PotLite.jsリリースノート | 圧縮電子どうのこうの"
          target="_blank">Example of Drag and Drop by HTML5 File API | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2011/11/javascript-potlitejs-122-signal_23.html"
          title="JavaScript非同期ライブラリ PotLite.js 1.22 リリース。アスペクト指向っぽく書けるSignal実装 | 圧縮電子どうのこうの"
          target="_blank">Signal can write code like aspect-oriented (AOP) | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2011/11/javascript_05.html"
          title="フリーズやカクカクしない安定した動作のアプリやアドオン、ゲームなどが作れるJavaScriptライブラリ | 圧縮電子どうのこうの"
          target="_blank">Compare CPU usage and graph of loop processing with Pot.js and jQuery | 圧縮電子どうのこうの</a>
     </li>
     <li>
       <a href="http://polygon-planet-log.blogspot.com/2011/10/javascriptdeferred_11.html"
          title="JavaScriptでDeferredとイテレータの非同期処理用ライブラリ作ってみた | 圧縮電子どうのこうの"
          target="_blank">We implemented JavaScript asynchronous iteration library with Deferred | 圧縮電子どうのこうの</a>
     </li>
   </ul>
 </div>
</div>


<!--}}}:#Pot.js-reference-content-->
</div>

<noscript>
 <style type="text/css">
 body {
   padding-top: 120px;
 }
 .potjs-reference-noscript-notice {
   position: absolute;
   left: 35%;
   top: 10px;
   color: #e53d5e;
   border: 1px solid #e53d5e;
   background: #ffd8d7;
   padding: 8px;
 }
 .potjs-reference-noscript-notice a {
   font-weight: bold;
   text-decoration: underline;
 }
 </style>
 <div class="potjs-reference-noscript-notice">
  <p>このページは直接参照するものではありません。</p>
  <p><a href="./">Pot.js / PotLite.js リファレンスはこちらです</a></p>
 </div>
</noscript>
</body>
</html>