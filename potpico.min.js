/*!
 * PotPico.js - JavaScript library
 *
 * PotPico.js is an implemental utility library
 *  that can execute JavaScript without burdening the CPU.
 *
 * Available objects:
 *  - A part of Core: http://polygonplanet.github.com/Pot.js/#reference.Pot.Core.functionsAndProperties
 *  - Pot.Deferred: http://polygonplanet.github.com/Pot.js/#manual.Deferred.Reference
 *  - Pot.Iter: http://polygonplanet.github.com/Pot.js/#reference.Pot.Iter.functions
 *
 * Version 0.01, 2012-05-14
 * Copyright (c) 2012 polygon planet <polygon.planet.aqua@gmail.com>
 * Dual licensed under the MIT or GPL v2 licenses.
 * https://github.com/polygonplanet/Pot.js
 * http://polygonplanet.github.com/Pot.js/
 */
;(function(aH){"use strict";var aE={VERSION:"0.01",TYPE:"pico"},ag=null,w=!1,O=!0,af=void 0,i="undefined",aQ="string",M="number",A="object",F="function",s="array",at="boolean",u="error",aw="Pot",g="Deferred",aX="load",ay="toString",ae="@mozilla.org/",C="setTimeout",av="cancellers",aC="stoppers",G="end",L="begin",x="step",an="stop",z="start",az="length",U="NAME",R="options",l="prototype",Q="addEventListener",aF="removeEventListener",o,aU,K,b,aG,k,aj,E,r,ab,N,aL,ap,ad,aD,J,aN,aA,a,f,ar,y,c,au,p,aP,V,aV,H,aM,al,aT,d,v,aq,m,W=Array[l],q=Object[l],aS=String[l],I=Function[l],t=W.slice,aO=W.concat,j=W.indexOf,ax=W.lastIndexOf,am=q.toString,ai=q.hasOwnProperty,P=I.toString,e=String.fromCharCode,h=(typeof h===i)?af:h,aI=/([-.*+?^${}()|[\]\/\\])/g,ao=/List|Collection/i,ak=/^[\s\u00A0\u3000]+|[\s\u00A0\u3000]+$/g,Y,ac,T,S;
(function(aY){D(aE,{NAME:aw,System:{},toString:function(){return aJ(this[U]||this.name||typeof this)},Browser:(function(a1){var aZ={},a2,a0,a5,a4,a6,a8={webkit:/(webkit)(?:.*version|)[\s\/]+([\w.]+)/,opera:/(opera)(?:.*version|)[\s\/]+([\w.]+)/,msie:/(msie)[\s\/]+([\w.]+)/,mozilla:/(?!^.*compatible.*$).*(mozilla)(?:.*?\s+rv[:\s\/]+([\w.]+)|)/},a3=[/webkit.*version[\s\/]+([\w.]+).*(safari)/,/webkit.*(chrome|safari)[\s\/]+([\w.]+)/,/(iphone|ipod|ipad|android).*version[\s\/]+([\w.]+)/,/(blackberry)(?:[\s\d]*|.*version)[\s\/]+([\w.]+)/,a8.webkit,a8.opera,a8.msie,/(?!^.*compatible.*$).*mozilla.*?(firefox)(?:[\s\/]+([\w.]+)|)/,a8.mozilla],a7=String(a1&&a1.userAgent).toLowerCase();
if(a7){for(a4=0,a6=a3[az];a4<a6;a4++){if((a2=a3[a4].exec(a7))){break}}if(a2){if(/[^a-z]/.test(a2[1])){a0=a2[2];a5=a2[1]}else{a0=a2[1];a5=a2[2]}if(a0){aZ[a0]={version:String(a5||0)}}}a2=a8.webkit.exec(a7)||a8.opera.exec(a7)||a8.msie.exec(a7)||a8.mozilla.exec(a7)||[];
if(a2&&a2[1]){aZ[a2[1]]={version:String(a2[2]||0)}}}return aZ}(aY)),Global:(function(){var aZ=(new Function("return this;"))();if(!aH||typeof aH!==A||!(C in aH)){aH=this||aZ||{}}return this||aZ||{}}()),noop:function(){},tmp:{},Internal:{getMagicNumber:(function(aZ){var a1=0,a0=+aZ;
return function(){var a2=a0+(a1++);if(!isFinite(a2)||isNaN(a2)){a1=a0=a2=0}return a2}}("0xC26BEB642C0A")),getExportObject:function(a2){var a1,a3,aZ;if(a2){if(o.isNonBrowser){a1=aG||aH}else{a1=(H(aH)&&aH)||(H(aG)&&aG)||aE.currentWindow()}if(!a1&&typeof window!==i&&H(window)){a1=window
}if(a1){do{a3=Z(aE,"")}while(a3 in a1);a1[a3]=1;aZ=(new Function("try{return "+a3+"===1;}catch(e){}"))();try{delete a1[a3]}catch(a0){try{a1[a3]=af}catch(a0){}}if(!aZ){a1=aG}}}if(!a1){if(o.isNodeJS){if(typeof module===A&&typeof module.exports===A){a1=module.exports
}else{if(typeof exports===A){a1=exports}else{a1=aH}}}else{a1=aH}if(!a1){a1=aH||aG||aE.currentWindow()}}return a1}},update:D,Pot:aE})}(typeof navigator!==i&&navigator||{}));o=aE.System;K=aE.toString;b=aE.Browser;aG=aE.Global;k=aE.noop;aj=aE.tmp;E=aE.Internal;D(o,(function(){var aZ={isWaitable:w};
if(typeof window===A&&C in window&&window.window==window&&typeof document===A&&document.nodeType>0&&typeof document.documentElement===A){aZ.isWebBrowser=O;if(window.location&&/^(?:chrome|resource):?$/.test(window.location.protocol)){try{if(typeof Components!==A){throw w
}ac=Components.classes;Y=Components.interfaces;T=Components.results;S=Components.utils;aZ.isWaitable=O;aZ.hasComponents=O;if(b.firefox||b.mozilla){aZ.isFirefoxExtension=O}}catch(aY){Y=ac=T=S=ag}}}else{aZ.isNonBrowser=O;if(typeof process!==i&&process&&process.version&&typeof require===F&&(typeof exports===A||(typeof module===A&&typeof module.exports===A))){aZ.isNodeJS=O
}}if(aG&&aG.ActiveXObject||typeof ActiveXObject!==i&&ActiveXObject){aZ.hasActiveXObject=O}if(!aZ.isFirefoxExtension){if(b.chrome||b.webkit||b.safari){if(typeof chrome===A&&typeof chrome.extension===A){aZ.isChromeExtension=O}else{if(typeof safari===A&&typeof safari.extension===A){aZ.isSafariExtension=O
}}}}if(!aZ.isChromeExtension&&!aZ.isSafariExtension){if(typeof GM_log===F&&typeof GM_xmlhttpRequest===F){aZ.isGreasemonkey=O}else{if(typeof require===F){try{if("title" in require("windows").browserWindows.activeWindow){aZ.isJetpack=O}}catch(aY){}}}if(aZ.isWebBrowser&&!aZ.isGreasemonkey&&!aZ.isFirefoxExtension){aZ.isNotExtension=O
}}try{if(typeof FileReader!==i&&typeof FileReader.LOADING!==i&&typeof(new FileReader()).readAsText===F){aZ.hasFileReader=O}}catch(aY){}return aZ}()));(function(a0){var aZ=0,aY=a0[az],a1={};for(;aZ<aY;aZ++){(function(){var a3=a0[aZ],a2=a3.toLowerCase();a1[aJ(a3)]=a2;
aE["is"+a3]=(function(){switch(a2){case u:return function(a4){return(a4!=ag&&(a4 instanceof Error||ap(a4)===a2))||w};case"date":return function(a4){return(a4!=ag&&(a4 instanceof Date||ap(a4)===a2))||w};default:return function(a4){return ap(a4)===a2}}}())}())}aE.update({typeOf:function(a2){return(a2==ag)?String(a2):(a1[am.call(a2)]||A)
},typeLikeOf:function(a3){var a2=ap(a3);if(a2!==s&&au(a3)){a2=s}return a2}})}("Boolean Number String Function Array Date RegExp Object Error".split(" ")));aD=aE.isBoolean;J=aE.isNumber;aN=aE.isString;aA=aE.isFunction;a=aE.isArray;f=aE.isDate;ar=aE.isRegExp;y=aE.isObject;
c=aE.isError;au=aE.isArrayLike;ap=aE.typeOf;ad=aE.typeLikeOf;(function(aY){D(E,{callInBackground:{flush:function(a0){var aZ=this.byEvent||this.byTick||this.byTimer;aZ(a0)},byEvent:(function(){var a0;if(o.isNonBrowser||o.isNodeJS||typeof window!==A||typeof document!==A||typeof Image!==F||window.opera||b.opera||typeof document[Q]!==F){return w
}try{if(typeof(new Image())[Q]!==F){return w}}catch(aZ){return w}a0="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";return function(a5){var a1,a2=new Image(),a3=function(){try{a2[aF](aX,a3,w);a2[aF](u,a3,w)}catch(a6){}if(!a1){a1=O;
a5()}};a2[Q](aX,a3,w);a2[Q](u,a3,w);try{a2.src=a0}catch(a4){this.byEvent=this.byTimer}}}()),byTick:(function(){if(!o.isNodeJS||typeof process!==A||typeof process.nextTick!==F){return w}return function(aZ){process.nextTick(aZ)}}()),byTimer:function(a0,aZ){return setTimeout(a0,aZ||0)
}},setTimeout:function(aZ,a1){try{return r.byTimer(aZ,a1||0)}catch(a0){}},clearTimeout:function(a0){try{return clearTimeout(a0)}catch(aZ){}}});r=E.callInBackground;ab=E.setTimeout;N=E.clearTimeout;aE.update({Cc:ac,Ci:Y,Cr:T,Cu:S,StopIteration:(function(){var aZ=D(function(){return aZ
},{NAME:aY,toString:K});aZ[l]={constructor:aZ,NAME:aZ[U],toString:aZ.toString};aZ[l].constructor[l]=aZ.constructor[l];return new aZ()}()),isStopIter:function(aZ){if(!aZ){return w}if(aL!==af&&(aZ==aL||aZ instanceof aL)){return O}if(typeof h!==i&&(aZ==h||aZ instanceof h)){return O
}if(this&&this.StopIteration!==af&&(aZ==this.StopIteration||aZ instanceof this.StopIteration)){return O}if(~am.call(aZ).indexOf(aY)||~String(aZ&&aZ.toString&&aZ.toString()||aZ).indexOf(aY)){return O}if(c(aZ)&&aZ[aY]&&!(aY in aZ[aY])&&!c(aZ[aY])&&aP(aZ[aY])){return O
}return w},isIterable:function(aZ){return !!(aZ&&aA(aZ.next)&&(~aE.getFunctionCode(aZ.next).indexOf(aY)||aE.isNativeCode(aZ.next)))},isArguments:function(a0){var aZ=w;if(a0){if(am.call(a0)==="[object Arguments]"){aZ=O}else{try{if("callee" in a0&&typeof a0[az]===M){aZ=O
}}catch(a1){}}}return aZ},isArrayLike:function(a0){var aZ;if(!a0){return w}if(a(a0)||a0 instanceof Array||a0.constructor===Array){return O}aZ=a0[az];if(!J(aZ)||(!y(a0)&&!a(a0))||a0===aE||a0===aG||a0===aH||H(a0)||aM(a0)||al(a0)){return w}if(a0.isArray||aE.isArguments(a0)||aT(a0)||((typeof a0.item===F||typeof a0.nextNode===F)&&a0.nodeType!=3&&a0.nodeType!=4)||(0 in a0&&((aZ-1) in a0))||ao.test(am.call(a0))){return O
}else{return w}},isDeferred:function(aZ){return aZ!=ag&&((aZ instanceof d)||(aZ.id!=ag&&aZ.id===d.fn.id&&aZ[U]!=ag&&aZ[U]===d.fn[U]))},isIter:function(aZ){return aZ!=ag&&((aZ instanceof v)||(aZ.id!=ag&&aZ.id===v.fn.id&&aZ[U]!=ag&&aZ[U]===v.fn[U]&&typeof aZ.next===F))
},isNumeric:function(aZ){return(aZ==ag||(aZ===""||(aZ==""&&aZ&&aZ.constructor===String))||(typeof aZ===A&&aZ.constructor!==Number))?w:!isNaN(aZ-0)},isNativeCode:function(a0){var aZ;if(!a0){return w}if(aE.getFunctionCode){aZ=aE.getFunctionCode(a0)}else{if(aA(a0)){aZ=P.call(a0)
}else{if(a0.toString){aZ=a0.toString()}else{aZ=""+a0}}}return !!(~aZ.indexOf("[native code]")&&aZ[az]<=92)},isBuiltinMethod:function(aZ){return aZ!=ag&&(typeof aZ===F||aZ.constructor===Function)&&aE.isNativeCode(aZ)},isWindow:function(aZ){return aZ!=ag&&typeof aZ===A&&"setInterval" in aZ&&aZ.window==aZ&&!!(aZ.location||aZ.screen||aZ.navigator||aZ.document)
},isDocument:function(aZ){return aZ!=ag&&typeof aZ===A&&"getElementById" in aZ&&aZ.nodeType>0&&typeof aZ.documentElement===A},isElement:function(aZ){return aZ!=ag&&typeof aZ===A&&aZ.nodeType==1},isNodeList:function(aZ){var a0;if(aZ&&J(aZ[az])){a0=typeof aZ.item;
if(y(aZ)){return a0===F||a0===aQ}else{if(aA(aZ)){return a0===F}}}return w}})}("StopIteration"));if(typeof h===i||!h){h=aE.StopIteration}aL=aE.StopIteration;au=aE.isArrayLike;p=aE.isNumeric;aP=aE.isStopIter;V=aE.isDeferred;aV=aE.isIter;H=aE.isWindow;aM=aE.isDocument;
al=aE.isElement;aT=aE.isNodeList;(function(){var a2,a7,aY,a5,a0,a6;a5="window contentWindow defaultView parentWindow content top".split(" ");a0="ownerDocument document".split(" ");function a1(a8){var a9;if(a8){if(H(a8)){a9=a8}else{aW(a5,function(bb){try{if(H(a8[bb])){a9=a8[bb]
}if(a8[bb].content&&H(a8[bb].content)){a9=a8[bb].content}}catch(ba){}if(a9){throw aL}})}}return a9}function aZ(a8){var a9;if(a8){if(aM(a8)){a9=a8}else{aW(a0,function(bb){try{if(aM(a8[bb])){a9=a8[bb]}if(a8[bb].content&&aM(a8[bb].content.document)){a9=a8[bb].content.document
}}catch(ba){}if(a9){throw aL}})}}return a9}aW([aH,aG,typeof window===i?this:window,typeof document===i?this:document],function(a8){if(a8){if(!a2){a2=a1(a8)}if(!a7){a7=aZ(a8)}if(a2&&a7){throw aL}}});if(o.isNodeJS){aY=(typeof process===A&&process.mainModule&&process.mainModule.filename)||(typeof __filename===aQ&&__filename)
}else{if(a7){try{aY=a7.documentURI||a7.baseURI||a7.URL}catch(a3){}}if(!aY&&a2){try{aY=a2.location&&a2.location.href||a2.location}catch(a3){try{a6=a7.createElement("a");a6.href="";aY=a6.href}catch(a4){}}}}D(o,{currentWindow:a2||{},currentDocument:a7||{},currentURI:aa(aY,O)});
aE.update({currentWindow:function(){return o.currentWindow},currentDocument:function(){return o.currentDocument},currentURI:function(){return o.currentURI}})}());D(o,{isBuiltinObjectKeys:aE.isBuiltinMethod(Object.keys),isBuiltinArrayForEach:aE.isBuiltinMethod(W.forEach),isBuiltinArrayIndexOf:aE.isBuiltinMethod(W.indexOf),isBuiltinArrayLastIndexOf:aE.isBuiltinMethod(W.lastIndexOf)});
aE.update({keys:(function(){var a0=!({toString:ag}).propertyIsEnumerable(ay),aZ=[ay,"toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aY=aZ[az];return function(a2){var a3=[],a8=typeof a2,a5,a1,a4;if(a8!==A&&a8!==F||a2===ag){return a3
}if(au(a2)){a5=a2[az];for(a4=0;a4<a5;a4++){if(a4 in a2){a3[a3[az]]=a4}}}else{if(o.isBuiltinObjectKeys){try{a3=Object.keys(a2);return a3}catch(a6){}}for(a1 in a2){try{if(ai.call(a2,a1)){a3[a3[az]]=a1}}catch(a7){}}if(a0){for(a4=0;a4<aY;a4++){try{if(ai.call(a2,aZ[a4])){a3[a3[az]]=aZ[a4]
}}catch(a9){}}}}return a3}}()),hasReturn:(function(){var aZ={STRIP:new RegExp("^\\s*function\\b[^{]*[{]|[}][^}]*$|/[*][\\s\\S]*?[*]/|/{2,}[^\\r\\n]*(?:\\r\\n|\\r|\\n|)|\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'","g"),RETURN:/(?:^|\s|[^\w$.]\b)return(?:[^\w$.]\b|\s|$)/,FUNC:/(?:^|\s|[^\w$.]\b)function(?:[^\w$.]\b|\s|)[^{}]*$/,PREREGEX:/(?:^|[,;:!?=&|!([]|[^\w$.<>%'"@){}\]])\s*\/$/,REGEXP:/(\/(?![*])(?:\\.|[^\/\r\n\\])+\/)$/,E4X:/(?:^|[(){}<>&|%*~^!?:;,\/[\]=+-])\s*<([^\s>]*)[^>]*>$/,TAG:/<([^\s>]*)[^>]*>$/},aY=8192,a1=0,a0={};
return function(a5){var a8=w,a3,a9,bb,a2,ba,bg,bh,bi,bd,a7,a6,bc,bf,a4,bj,be;a3=aE.getFunctionCode(a5);if(a3 in a0){return a0[a3]}a2=a3;a3=a3.replace(aZ.STRIP,"");if(a3&&aZ.RETURN.test(a3)){bd=0;a7=0;bc="";a6="";ba="";bj="";be=w;a4=w;bh=a3[az];for(bg=0;bg<bh;bg++){bi=a3.charAt(bg);
if(bc&&bi!=="/"){bc+=bi;continue}switch(bi){case"{":if(a7===0&&aZ.FUNC.test(ba)){bd++}break;case"}":if(a7===0&&bd>0){bd--}break;case"/":if(!be&&bd===0){if(a7>0){a6+=bi}else{if(!bc){ba+=bi;if(aZ.PREREGEX.test(ba)){bc=bi;ba=ba.slice(0,-1)+" "}}else{if(bc){bc+=bi;
if(aZ.REGEXP.test(bc)){bc=""}}}}}break;case"-":if(bd===0){if(a7>0){a6+=bi;if(a6.slice(-4)==="<!--"){be=O;a6=a6.slice(0,-4)+" "}}else{ba+=bi}}break;case"[":if((a4||!be)&&bd===0){if(a7>0){a6+=bi;if(a6.slice(-9).toUpperCase()==="<![CDATA["){be=O;a4=O;a6=a6.slice(0,-9)+" "
}}else{ba+=bi}}break;case"]":case"<":if((a4||!be)&&bd===0){if(a7>0){a6+=bi}else{ba+=bi}}break;case">":if(bd===0){if(a7===0){ba+=bi;if(aZ.E4X.test(ba)){bf=ba.match(aZ.TAG);a7++;ba=ba.slice(0,-bf[0][az])+" ";bj=bf[1];bb=new RegExp("</"+X(bj)+">$");a9=new RegExp("<"+X(bj)+"\\b[^>]*>$")
}}else{if(a7>0){if(be){if((!a4&&a6.slice(-2)==="--")||(a4&&a6.slice(-2)==="]]")){be=a4=w;a6=a6.slice(0,-2)}a6+=" ";break}a6+=bi;if(bb&&bb.test(a6)){a7--;if(a7===0){bj=a6=""}}else{if(a9&&a9.test(a6)){a7++}}}}}break;default:if(!be&&bd===0){if(a7>0){a6+=bi}else{ba+=bi
}}}}if(aZ.RETURN.test(ba)){a8=O}}if(a1<aY){a0[a2]=a8;a1++}return a8}}()),getFunctionCode:function(aY){if(aA(aY)){return P.call(aY)}if(aN(aY)){if(aY.toString){return aY.toString()}return""+aY}return""},getErrorMessage:function(aY,aZ){var a0;if(c(aY)){a0=String(aY.message||aY.description||(aY.toString&&aY.toString())||aY)
}else{a0=(aY&&aY.toString&&aY.toString())||aY}return aa(a0)||aa(aZ)||u}});function D(){var a0=arguments,aZ=a0[az],a1=1,a4,a3,aY;if(aZ===a1){a4=this||{};a1--}else{a4=a0[a1-1]}if(a4){do{aY=a0[a1];if(aY){for(a3 in aY){try{a4[a3]=aY[a3]}catch(a2){}}}}while(++a1<aZ)
}return a4}function aR(a0,aZ){var a5,a2,aY,a3=aR,a1;if(a3.canNodeList==ag){if(o.currentDocument){try{a1=t.call(o.currentDocument.documentElement.childNodes)[0].nodeType;a1=ag;a3.canNodeList=O}catch(a4){a3.canNodeList=w}}}if(a0==ag){a5=[a0]}else{switch(ap(a0)){case s:a5=a0.slice();
break;case A:if(au(a0)){if(!a3.canNodeList&&aT(a0)){a5=[];a2=0;aY=a0[az];do{a5[a2]=a0[a2]}while(++a2<aY)}else{a5=t.call(a0)}break}default:a5=t.call(aO.call([],a0))}}if(aZ>0){a5=a5.slice(aZ)}return a5}function aK(){return +new Date}function aa(a0,a1){var aZ="",a2,aY=arguments[az];
if(a0!==ag){switch(typeof a0){case aQ:case M:case"xml":aZ=a0;break;case at:if(aY>=2&&!a1){aZ=a0}else{if(!a1){aZ=a0?1:""}}break;case A:if(a0){a2=a0.constructor;if(a2===String||a2===Number||(typeof XML!==i&&a2===XML)||(typeof Buffer!==i&&a2===Buffer)){aZ=a0}else{if(a2===Boolean){if(aY>=2&&!a1){aZ=a0
}else{if(!a1){aZ=(a0==O)?1:""}}}}}}}return aZ.toString()}function aB(a0,a1,aY){var aZ;if(a1){aZ=new RegExp(["^[","]+|[","]+$"].join(X(a1)),"g"+(aY?"i":""))}else{aZ=ak}return aa(a0,O).replace(aZ,"")}function X(aY){return aa(aY,O).replace(aI,"\\$1")}function B(){var a6=aR(arguments),a8=a6[az],a2,aY,a1,a7,aZ,a9,a3,a4,a0;
try{switch(a8){case 0:throw w;case 1:aY=a6[0];break;case 2:a2=a6[0];aY=a6[1];break;case 3:a2=a6[0];aY=a6[1];a1=aR(a6[2]);break;default:a2=a6[0];aY=a6[1];a1=aR(a6,2)}if(!aY){throw aY}if(!a2&&aN(aY)){a2=(a2&&a2[aY]&&a2)||(aH&&aH[aY]&&aH)||(aG&&aG[aY]&&aG)}if(aN(aY)){a7=O;
if(!a2){a2=(aH||aG)}}}catch(a5){a0=a5;throw c(a0)?a0:new Error(a0)}if(aA(aY.apply)&&aA(aY.call)){if(a1==ag||!a1[az]){return aY.call(a2)}else{return aY.apply(a2,a1)}}else{aZ=a1||[];a4=aZ[az]||0;if(a7){switch(a4){case 0:return a2[aY]();case 1:return a2[aY](aZ[0]);
case 2:return a2[aY](aZ[0],aZ[1]);case 3:return a2[aY](aZ[0],aZ[1],aZ[2])}}else{switch(a4){case 0:return aY();case 1:return aY(aZ[0]);case 2:return aY(aZ[0],aZ[1]);case 3:return aY(aZ[0],aZ[1],aZ[2])}}a9=[];for(a3=0;a3<a4;a3++){a9[a9[az]]="p["+a3+"]"}return(new Function("e,o,m,p",["return e?o[m](","):m(",");"].join(a9.join(","))))(a7,a2,aY,aZ)
}}function n(a3){var aY=arguments,a1=n,a0,aZ;try{if(!a1.firebug("log",aY)){if(!o.hasComponents){throw w}aZ=ac[ae+"consoleservice;1"].getService(Y.nsIConsoleService);aZ.logStringMessage(String(a3))}}catch(a2){if(typeof console!==i&&console){a0=console.debug||console.dir||console.log
}else{if(typeof opera!==i&&opera&&opera.postError){a0=opera.postError}else{if(typeof GM_log===F){a0=GM_log}else{a0=function(a4){throw a4}}}}try{if(a0.apply){a0.apply(a0,aY)}else{throw a0}}catch(a2){try{a0(a3)}catch(a2){try{console.log(a3)}catch(a2){}}}}return a3
}D(n,{firebug:function(a4,a0){var aY=w,a2,aZ;try{if(!o.hasComponents){throw w}a2=m.getMostRecentWindow();if(!a2){throw a2}if(a2.FirebugConsole&&a2.FirebugContext){aZ=new a2.FirebugConsole(a2.FirebugContext,a2.content);aZ[a4].apply(aZ,a0);aY=O}else{if(a2.Firebug&&a2.Firebug.Console){try{a2.Firebug.Console.logFormatted.call(a2.Firebug.Console,aR(a0),a2.FirebugContext,a4);
aY=O}catch(a3){}}}}catch(a1){}return aY}});aE.update({arrayize:aR,stringify:aa,trim:aB,rescape:X,invoke:B,now:aK,debug:n});function aW(a2,a7,aZ){var a3,a4,a0,a1,aY,a8;if(a2){a4=a2[az];try{if(au(a2)){for(a3=0;a3<a4;a3++){if(a3 in a2){try{a0=a2[a3]}catch(a5){continue
}a7.call(aZ,a0,a3,a2)}}}else{a8=aE.keys(a2);a4=a8[az];for(a3=0;a3<a4;a3++){aY=a8[a3];try{a0=a2[aY]}catch(a5){continue}a7.call(aZ,a0,aY,a2)}}}catch(a6){a1=a6;if(!aP(a1)){throw a1}}}return a2}function Z(aZ,aY){return[String((aZ&&(aZ[U]||aZ.name))||af),Math.random().toString(36).substring(2),aK()].join(arguments[az]>=2?aY:"-")
}function aJ(aY){return"[object "+aY+"]"}function ah(a1,aZ){var a0,aY;if(a1&&aZ){if(y(a1[R])){a0=a1[R]}else{if(y(a1)){a0=a1}}if(y(aZ[R])){aY=aZ[R]}else{if(y(aZ)){aY=aZ}}if("async" in aY){a0.async=!!aY.async}if("speed" in aY&&p(aY.speed)){a0.speed=aY.speed}if(av in aY){if(!aY.cancellers||!aY.cancellers[az]){aY.cancellers=[]
}else{if(a0.cancellers&&a0.cancellers[az]){a0.cancellers=aO.call([],aR(a0.cancellers),aR(aY.cancellers))}else{a0.cancellers=aR(aY.cancellers)}}}if(aC in aY){if(!aY.stoppers||!aY.stoppers[az]){aY.stoppers=[]}else{if(a0.stoppers&&a0.stoppers[az]){a0.stoppers=aO.call([],aR(a0.stoppers),aR(aY.stoppers))
}else{a0.stoppers=aR(aY.stoppers)}}}if("storage" in aY){a0.storage=aY.storage||{}}if(!a0.storage){a0.storage={}}}}(function(){aE.update({Deferred:function(){return V(this)?this.init(arguments):new d.fn.init(arguments)}});d=aE.Deferred;D(d,{StopIteration:aL,speeds:{limp:2400,doze:1000,slow:100,normal:36,fast:20,rapid:12,ninja:0},states:{success:1,failure:2,fired:3,unfired:4}});
aW(d.states,function(be,bd){d.states[be]=bd});D(d,{defaults:{speed:d.speeds.ninja,canceller:ag,stopper:ag,async:O}});d.fn=d[l]=D(d[l],{constructor:d,id:E.getMagicNumber(),serial:ag,chains:[],chained:w,cancelled:w,freezing:w,tilling:w,waiting:w,nested:0,state:ag,results:ag,destAssign:w,chainDebris:ag,options:{},plugins:{},NAME:g,toString:K,isDeferred:V,init:function(bd){if(!this.serial){this.serial=Z(this)
}this[R]={};this.plugins={};aY.call(this,aR(bd),d.defaults);D(this,{results:{success:ag,failure:ag},state:d.states.unfired,chains:[],nested:0,chained:w,cancelled:w,freezing:w,tilling:w,waiting:w,destAssign:w,chainDebris:ag});E.referSpeeds.call(this,d.speeds);return this
},speed:function(bg){var be=this,bd=arguments,bf;if(p(bg)){bf=bg-0}else{if(p(d.speeds[bg])){bf=d.speeds[bg]-0}else{bf=this[R].speed}}if(this.state===d.states.unfired&&!this.chains[az]){if(bd[az]===0){return this[R].speed}this[R].speed=bf}else{this.then(function(bh){if(bd[az]===0){return be[R].speed
}be[R].speed=bf;return bh})}return this},async:function(bf){var be=this,bd=arguments;if(this.state===d.states.unfired&&!this.chains[az]){if(bd[az]===0){return this[R].async}this[R].async=!!bf}else{this.then(function(bg){if(bd[az]===0){return be[R].async}be[R].async=!!bf;
return bg})}return this},canceller:function(be){var bd=arguments;if(this.state===d.states.unfired&&!this.chains[az]){if(bd[az]===0){return this[R].cancellers}if(!this.cancelled&&aA(be)){this[R].cancellers.push(be)}}else{this.stopper.apply(this,bd)}return this},stopper:function(bf){var be=this,bd=arguments;
if(this.state===d.states.unfired&&!this.chains[az]){this.canceller.apply(this,bd)}else{this.then(function(bg){if(bd[az]===0){return be[R].stoppers}if(!be.cancelled&&aA(bf)){be[R].stoppers.push(bf)}return bg})}return this},then:function(be,bd){if(!this.chained&&!this.cancelled){this.chains.push({success:be,failure:bd});
if(this.state&d.states.fired){if(!this.freezing&&!this.tilling&&!this.waiting){a3.call(this)}}}E.referSpeeds.call(this,d.speeds);return this},rescue:function(bd){return this.then(ag,bd)},ensure:function(bd){return this.then(bd,bd)},cancel:function(){if(!this.cancelled){this.cancelled=O;
switch(this.state){case d.states.unfired:a5.call(this,av);if(this.state===d.states.unfired){this.raise(new Error(this))}break;case d.states.success:a5.call(this,aC);if(V(this.results.success)){this.results.success.cancel()}break;case d.states.failure:a5.call(this,aC)
}}return this},begin:function(){var bf=this,bd,be=aR(arguments),bg;bd=be[0];if(be[az]>1){bg=be}else{bg=be[0]}if(!this.cancelled&&this.state===d.states.unfired){if(V(bd)&&!bd.cancelled){bd.ensure(function(){bf.begin.apply(this,arguments)})}else{this[R].cancellers=[];
bb.call(this,bg)}}E.referSpeeds.call(this,d.speeds);return this},raise:function(){var be=aR(arguments),bd,bf;bd=be[0];if(!c(bd)){be[0]=new Error(bd)}if(be[az]>1){bf=be}else{bf=be[0]}return this.begin.apply(this,aR(bf))},end:function(){this.chained=O;return this
},wait:function(bh,bf){var bg=new d(),be=this,bd=arguments;return this.then(function(bi){if(c(bi)){throw bi}be.waiting=O;d.wait(bh).ensure(function(bj){be.waiting=w;if(c(bj)){bg.raise(bj)}else{bg.begin(bd[az]>=2?bf:bi)}});return bg})},till:function(bd){var be=this,bf=new d();
return this.then(function(bg){if(c(bg)){throw bg}be.tilling=O;d.till(bd,bg).ensure(function(bh){be.tilling=w;if(c(bh)){bf.raise(bh)}else{bf.begin(bg)}});return bf})},args:function(){var be=aR(arguments),bd=be[az];if(bd===0){return d.lastResult(this)}else{return this.then(function(){var bg,bf=aR(arguments);
if(bf[az]>1){bg=bf}else{bg=bf[0]}if(bd>1){return be}else{if(aA(be[0])){return be[0].apply(this,aR(bg))}else{return be[0]}}})}},data:function(){var bh=this,be=this,bf=aR(arguments),bg,bd=bf[az],bi=".";if(this[R]){if(!this[R].storage){this[R].storage={}}switch(bd){case 0:be={};
aW(this[R].storage,function(bl,bj){try{if(bj&&bj.charAt(0)===bi){be[bj.substring(1)]=bl}}catch(bk){}});break;case 1:if(bf[0]==ag){this[R].storage={}}else{if(y(bf[0])){aW(bf[0],function(bk,bj){bh[R].storage[bi+aa(bj)]=bk})}else{be=this[R].storage[bi+aa(bf[0])]}}break;
case 2:this[R].storage[bi+aa(bf[0])]=bf[1];break;default:bg=0;do{this[R].storage[bi+aa(bf[bg++])]=bf[bg++]}while(bg<bd)}}return be},update:function(){var be=d.fn,bd=aR(arguments);bd.unshift(be);D.apply(be,bd);return this}});d.fn.init[l]=d.fn;function a6(bd){if(c(bd)){this.state=d.states.failure
}else{this.state=d.states.success}return this.state}function bb(bd){a6.call(this,bd);this.results[d.states[this.state]]=bd;if(!this.freezing&&!this.tilling&&!this.waiting){a3.call(this)}}function a3(bd){if(bd||(!this.freezing&&!this.tilling&&!this.waiting)){if(this[R]&&this[R].async){a1.call(this)
}else{ba.call(this)}}}function a1(){var bd=this,be,bf;if(this[R]&&p(this[R].speed)){be=this[R].speed}else{be=d.defaults.speed}this.freezing=O;bf=function(){try{a2.call(bd)}catch(bg){bd.freezing=w;throw bg}if(a7.call(bd)){a3.call(bd,O)}else{bd.freezing=w}};if(!be&&this.state===d.states.unfired){r.flush(bf)
}else{ab(bf,be)}}function ba(){a2.call(this);if(this[R]&&this[R].async){a3.call(this)}}function a2(){var bh=this,bd,bf,bg,bk,bi=ag,be;a8.call(this);bd=this.results[d.states[this.state]];while(a7.call(this)){bg=this.chains.shift();bk=bg&&bg[d.states[this.state]];
if(!aA(bk)){continue}be=w;try{if(this.destAssign||(J(bk[az])&&bk[az]>1&&a(bd)&&bd[az]===bk[az])){bf=bk.apply(this,bd)}else{bf=bk.call(this,bd)}if(bf===af&&this.state!==d.states.failure&&!c(bd)&&!aE.hasReturn(bk)){bf=bd}bd=bf;if(o.hasFileReader&&bd&&bd.constructor===FileReader){bd=a9.call(this,bd)
}this.destAssign=w;this.state=a6.call({},bd);if(V(bd)){bi=function(bl){return a4.call(bh,bl)};this.nested++}}catch(bj){bd=bj;if(aP(bd)){be=O}else{aZ.call(this,bd)}this.destAssign=w;this.state=d.states.failure;if(!c(bd)){bd=new Error(bd);if(be){D(bd,{StopIteration:aL})
}}}if(this[R]&&this[R].async){break}}this.results[d.states[this.state]]=bd;if(bi&&this.nested){bd.ensure(bi).end()}bc.call(this)}function a7(){return this.chains&&this.chains[az]&&this.nested===0&&!this.cancelled}function a0(){var bh,bg,bd,bf,bi,be;bf=d.states[d.states.failure];
bi=this.chains;bd=bi&&bi[az];if(bd){for(bg=0;bg<bd;bg++){if(bi[bg]){be=bi[bg][bf];if(be&&aA(be)){bh=O;break}}}}return bh}function aZ(bd){if(!a0.call(this)){this.chainDebris={error:bd}}}function bc(){var bd=this,be;if(this.chainDebris&&u in this.chainDebris&&(this.cancelled||this.chained||(!this.chains||!this.chains[az]))){if(this[R]&&p(this[R].speed)){be=this[R].speed
}else{be=d.defaults.speed}this.chainDebris.timerId=ab(function(){throw bd.chainDebris.error},be)}}function a8(){if(this.chainDebris&&this.chainDebris.timerId!=ag&&(this.state&d.states.fired)&&a0.call(this)){N(this.chainDebris.timerId);delete this.chainDebris.error;
delete this.chainDebris.timerId;this.chainDebris=ag}}function a4(bd){bb.call(this,bd);this.nested--;if(this.nested===0&&!this.cancelled&&(this.state&d.states.fired)){a3.call(this)}}function a9(bd){var bi,bf,bg=w,bj=bd.onload,bh=bd.onloadend,be=bd.onerror;if(this[R]&&this[R].async){bg=O
}bi=new d({async:bg});if(bd.readyState===FileReader.LOADING){bd.onload=function(bk){if(!bf){bf=O;bi.begin(bk&&bk.target&&bk.target.result)}bj&&bj.apply(this,arguments)};bd.onloadend=function(bk){if(!bf){bf=O;bi.begin(bk&&bk.target&&bk.target.result)}bh&&bh.apply(this,arguments)
};bd.onerror=function(bk){if(!bf){bf=O;bi.raise(bk)}be&&be.apply(this,arguments)}}else{bi.begin(bd.result)}return bi}function aY(bl,bh){var bd,bf,bm,bj,bg,bi,bk,be;if(bl){if(bl[az]===1&&bl[0]&&y(bl[0])){bd=bl[0];bk=bd[R];if(bd.speed!==bi||bd.canceller!==bi||bd.async!==bi||bd.stopper!==bi){bf=bd.speed;
bm=bd.canceller;bj=bd.stopper;bg=bd.async}else{bf=bk&&bk.speed;bm=bk&&bk.canceller;bj=bk&&bk.stopper;bg=bk&&bk.async}}else{if(bl[az]===1&&bl[0]&&a(bl[0])){bd=bl[0]}else{bd=bl}aW(bd||[],function(bn){if(bf===bi&&p(bn)){bf=bn}else{if(bf===bi&&p(d.speeds[bn])){bf=d.speeds[bn]
}else{if(bm===bi&&aA(bn)){bm=bn}else{if(bg===bi&&aD(bn)){bg=bn}else{if(bj===bi&&bm===bi&&aA(bn)){bj=bn}}}}}})}}be=this[R]=this[R]||{};be.storage=be.storage||{};if(!a(be.cancellers)){be.cancellers=[]}if(!a(be.stoppers)){be.stoppers=[]}if(!p(bf)){if(be.speed!==bi&&p(be.speed)){bf=be.speed-0
}else{bf=bh.speed}}if(!aA(bm)){bm=bh.canceller}if(!aA(bj)){bj=bh.stopper}if(!aD(bg)){if(be.async!==bi&&aD(be.async)){bg=be.async}else{bg=bh.async}}D(be,{speed:bf-0,async:bg});if(aA(bm)){be.cancellers.push(bm)}if(aA(bj)){be.stoppers.push(bj)}return this}function a5(bd){var be,bf=this[R];
while(bf[bd]&&bf[bd][az]){be=bf[bd].shift();if(aA(be)){be.call(this)}}}D(d,{extendSpeeds:function(bi,bg,bd,bf){var bh=function(bk,bl){var bj=function(){var bo={},bm=arguments,bn=bj;bm=aR(bm);aY.call(bo,bm,{speed:bl,canceller:d.defaults.canceller,stopper:d.defaults.stopper,async:d.defaults.async});
bo.speedName=bk;bm.unshift(bo);return bd.apply(bn.instance,bm)};return bj},be={};aW(bf,function(bk,bj){be[bj]=bh(bj,bk)});return D(bi[bg],be)}});D(E,{referSpeeds:D(function(bd){var be=E.referSpeeds,bg,bf;if(bd&&this.forEach.fast.instance!==this){for(bg in be.props){if(bg in this&&this[bg]){for(bf in be.speeds){if(bf in bd&&bf in this[bg]&&this[bg][bf]){this[bg][bf].instance=this
}}}}}},{props:{forEach:O,repeat:O,forEver:O,iterate:O,items:O,zip:O,map:O,filter:O,reduce:O,every:O,some:O},speeds:{limp:0,doze:1,slow:2,normal:3,fast:4,rapid:5,ninja:6}})});d.extendSpeeds(aE,g,function(bd){return d(bd)},d.speeds)}());(function(){D(d,{isDeferred:V,succeed:function(){var aY=new d();
return aY.begin.apply(aY,arguments)},failure:function(){var aY=new d();return aY.raise.apply(aY,arguments)},wait:function(a0,aY){var a1,aZ=new d({canceller:function(){try{N(a1)}catch(a2){}}});if(arguments[az]>=2){aZ.then(function(){return aY})}a1=ab(function(){aZ.begin()
},Math.floor(((a0-0)||0)*1000));return aZ},callLater:function(aZ,a0){var aY=aR(arguments,2);return d.wait(aZ).then(function(){if(V(a0)){return a0.begin.apply(a0,aY)}else{if(aA(a0)){return a0.apply(a0,aY)}else{return a0}}})},callLazy:function(aZ){var aY=aR(arguments,1);
return d.begin(function(){if(V(aZ)){return aZ.begin.apply(aZ,aY)}else{if(aA(aZ)){return aZ.apply(aZ,aY)}else{return aZ}}})},maybeDeferred:function(aZ){var aY;if(V(aZ)){if(d.isFired(aZ)){aY=aZ}else{aY=aZ.begin()}}else{if(c(aZ)){aY=d.failure(aZ)}else{aY=d.succeed(aZ)
}}return aY},isFired:function(aY){return V(aY)&&((aY.state&d.states.fired)!==0)},lastResult:function(aZ,a2){var aY,a0=arguments,a1;if(V(aZ)){try{a1=d.states[d.states.success];if(a0[az]<=1){aY=aZ.results[a1]}else{aZ.results[a1]=a2;aY=aZ}}catch(a3){}}return aY},lastError:function(aZ,a2){var aY,a0=arguments,a1;
if(V(aZ)){try{a1=d.states[d.states.failure];if(a0[az]<=1){aY=aZ.results[a1]}else{if(!c(a2)){a2=new Error(a2)}aZ.results[a1]=a2;aY=aZ}}catch(a3){}}return aY},register:function(){var aY=0,a1=d.fn,a0=aR(arguments),aZ=[];switch(a0[az]){case 0:break;case 1:if(y(a0[0])){aW(a0[0],function(a3,a2){if(aA(a3)&&aN(a2)){aZ.push([a2,a3])
}else{if(aA(a2)&&aN(a3)){aZ.push([a3,a2])}}})}break;default:if(aA(a0[0])){aZ.push([a0[1],a0[0]])}else{aZ.push([a0[0],a0[1]])}}if(aZ&&aZ[az]){aW(aZ,function(a5){var a3={},a2,a4,a6;if(a5&&a5[az]>=2&&aA(a5[1])){a2=aa(a5[0],O);a4=a5[1];a6=function(){var a7={};a7.inputs=arguments;
return this.then(function(){a7.results=arguments;return a4.call(this,a7)})};a3[a2]=a6;D(a1,a3);aY++}})}return aY},unregister:function(){var aY=0,a0=d.fn,aZ=aR(arguments),a1;if(aZ[az]>1){a1=aZ}else{a1=aZ[0]}aW(aR(a1),function(a2){try{delete a0[a2];aY++}catch(a3){}});
return aY},deferrize:function(aZ,a4){var aY=arguments,a2,a0,a1;try{switch(aY[az]){case 0:throw w;case 1:a2=aZ;break;default:if(y(a4)){a0=a4;a2=aZ}else{a2=a4;a0=aZ}}if(!a2){throw a2}}catch(a3){a1=a3;throw (c(a1)?a1:new Error(a1))}return function(){var a6=this,a5=aR(arguments),a7=new d();
a7.then(function(){var a9=new d(),a8,bd=[],ba=w,bb,be=d.isFired;aW(a5,function(bf){if(aA(bf)){bd.push(function(){var bg,bi;try{bg=bf.apply(a6,arguments)}catch(bh){bi=bh;if(!be(a9)){a9.raise(bi)}}finally{if(!be(a9)){a9.begin(bg)}}if(bi!=ag){throw bi}return bg});
ba=O}else{bd[bd[az]]=bf}});try{a8=B(a0,a2,bd)}catch(bc){bb=bc;if(!ba&&!be(a9)){a9.raise(bb)}}finally{if(!ba&&!be(a9)){a9.begin(a8)}}if(bb!=ag){throw c(bb)?bb:new Error(bb)}return a9}).begin();return a7}},update:function(){var aZ=d,aY=aR(arguments);aY.unshift(aZ);
return D.apply(aZ,aY)},begin:function(aY){var a1=new d(),aZ=aR(arguments,1),a0;if(aY&&aA(aY)){a1.then(function(){return aY.apply(this,aZ)})}else{a0=aY}r.flush(function(){a1.begin(a0)});return a1},flush:function(aZ){var aY=aR(arguments,1);return d.begin(function(){if(V(aZ)){return aZ.begin.apply(aZ,aY)
}else{if(aA(aZ)){return aZ.apply(this,aY)}else{return aZ}}})},till:function(a0){var a1=new d(),aZ=aR(arguments,1),aY=13;return d.begin(function a2(){var a3=this,a4=aK();if(a0&&!a0.apply(this,aZ)){ab(function(){a2.call(a3)},Math.min(1000,aY+(aK()-a4)))}else{a1.begin()
}return a1})},parallel:function(a3){var aY,a0=arguments,a4,a2,aZ,a1;if(a0[az]===0){aY=d.succeed()}else{if(a0[az]===1){if(y(a3)){a2=a3}else{a2=aR(a3)}}else{a2=aR(a0)}aY=new d({canceller:function(){aW(a2,function(a5){if(V(a5)){a5.cancel()}})}});a4=new d();a1=[];aZ=y(a2)?{}:[];
aW(a2,function(a5,a6){var a7;if(V(a5)){a7=a5}else{if(aA(a5)){a7=new d();a7.then(function(){var a8=a5();if(V(a8)&&a8.state===d.states.unfired){a8.begin()}return a8})}else{a7=d.succeed(a5)}}if(!V(a7)){a7=d.maybeDeferred(a7)}a1[a1[az]]=a6;a4.then(function(){if(a7.state===d.states.unfired){d.flush(a7)
}a7.then(function(a8){if(a1[az]){aZ[a6]=a8;a1.pop();if(a1[az]===0){aY.begin(aZ)}}},function(a8){a1=[];aY.raise(a8)})})});d.flush(a4)}return aY},chain:(function(){var aY={funcName:/^\s*[()]*\s*function\s*([^\s()]+)/,rescue:/rescue|raise|err|fail/i};return function(){var a0=arguments,aZ=a0[az],a2,a1=new d();
if(aZ>0){a2=aR((aZ===1)?a0[0]:a0);aW(a2,function(a5){var a3;if(aA(a5)){try{a3=aE.getFunctionCode(a5).match(aY.funcName)[1]}catch(a4){}if(a3&&aY.rescue.test(a3)){a1.rescue(a5)}else{a1.then(a5)}}else{if(V(a5)){a1.then(function(a6){if(a5.state===d.states.unfired){a5.begin(a6)
}return a5})}else{if(y(a5)||a(a5)){a1.then(function(){return d.parallel(a5)})}else{if(c(a5)){a1.then(function(){throw a5})}else{a1.then(function(){return a5})}}}}})}d.callLazy(a1);return a1}}())});d.extendSpeeds(d,L,function(aY,a5){var a3,aZ,a4=aR(arguments,2),a0=(a5&&aA(a5)),a2=aY[R]||aY||{},a1,a6;
if(!a2.cancellers){a2.cancellers=[]}a2.cancellers.push(function(){try{if(aZ!=ag){N(aZ)}}catch(a7){}});a3=new d(a2);if(a0){a3.then(function(){return a5.apply(this,a4)})}else{a6=a5}a1=(((aY[R]&&aY[R].speed)||aY.speed)-0)||0;if(p(a1)&&a1>0){aZ=ab(function(){a3.begin(a6)
},a1)}else{r.flush(function(){a3.begin(a6)})}return a3},d.speeds);d.extendSpeeds(d,"flush",function(a0,a3){var a1,aZ,a2,aY=aR(arguments,2);a1=a0[R]?a0[R].speed:a0.speed;if(a1 in d.speeds&&aN(d.speeds[a1])){aZ=d.speeds[a1]}else{aW(d.speeds,function(a5,a4){if(a5==a1){aZ=a4;
throw aL}})}if(aZ&&aZ in d.begin){a2=d.begin[aZ]}else{a2=d.begin}return a2(function(){if(V(a3)){return a3.begin.apply(a3,aY)}else{if(aA(a3)){return a3.apply(this,aY)}else{return a3}}})},d.speeds);aE.update({succeed:d.succeed,failure:d.failure,wait:d.wait,callLater:d.callLater,callLazy:d.callLazy,maybeDeferred:d.maybeDeferred,isFired:d.isFired,lastResult:d.lastResult,lastError:d.lastError,register:d.register,unregister:d.unregister,deferrize:d.deferrize,begin:d.begin,flush:d.flush,till:d.till,parallel:d.parallel,chain:d.chain})
}());(function(){var aZ,a1,aY,a0;D(E,{LightIterator:D(function(a3,a4,a2){return new aZ.fn.doit(a3,a4,a2)},{speeds:{limp:-1,doze:0,slow:2,normal:5,fast:12,rapid:36,ninja:60},delays:{limp:1000,doze:100,slow:13,normal:0,fast:0,rapid:0,ninja:0},types:{forLoop:1,forInLoop:2,repeat:4,forEver:8,iterate:16,items:32,zip:64}})});
aq=aZ=E.LightIterator;D(aZ,{defaults:{speed:aZ.speeds.normal},revSpeeds:{}});aW(aZ.speeds,function(a3,a2){aZ.revSpeeds[a3]=a2});aZ.fn=aZ[l]=D(aZ[l],{constructor:aZ,interval:aZ.defaults.speed,iter:ag,result:ag,deferred:ag,revDeferred:ag,isDeferStopIter:w,time:{},waiting:w,restable:w,async:w,options:ag,doit:function(a3,a4,a2){this.setOptions(a2);
this.execute(a3,a4);this.watch();return this},setOptions:function(a2){this[R]=a2||{};this.setInterval();this.setAsync()},setInterval:function(){var a2=ag;if(p(this[R].interval)){a2=this[R].interval-0}else{if(this[R].interval in aZ.speeds){a2=aZ.speeds[this[R].interval]-0
}}if(a2!==ag&&!isNaN(a2)){this.interval=a2}if(!p(this.interval)){this.interval=aZ.defaults.speed}},setAsync:function(){var a2=ag;if(this[R].async!==af){a2=!!this[R].async}if(a2!==ag){this.async=!!a2}if(!aD(this.async)){this.async=!!this.async}},createDeferred:function(){return new d({async:w})
},watch:function(){var a2=this;if(!this.async&&this.waiting===O&&o.isWaitable){m.throughout(function(){return a2.waiting!==O})}},execute:function(a2,a5){var a4,a3=this;this.waiting=O;if(!a2){this.result={};this.waiting=w}else{this.waiting=O;this.restable=O;this.time={start:aK(),total:ag,loop:ag,diff:ag,risk:ag,axis:ag,count:1,rest:100,limit:255};
this.setIter(a2,a5);if(!this.async&&!o.isWaitable){this.revback();this.waiting=w}else{a4=this.createDeferred();a4.then(function(){var a7=a3.createDeferred(),a6=a3.createDeferred();a7.then(function(){return a3.revolve().then(function(){a6.begin()})}).begin();return a6
}).ensure(function(){a3.waiting=w});if(this.async){this.deferred=a4.then(function(){if(V(a3.result)&&aP(d.lastError(a3.result))){a3.result=d.lastResult(a3.result)}return a3.result})}this.flush(a4)}}},setIter:function(a2,a6){var a5=this[R].type,a4=aZ.types,a3=this[R].context;
switch(O){case ((a5&a4.iterate)===a4.iterate):this.result=ag;this.iter=this.iterate(a2,a6,a3);break;case ((a5&a4.forEver)===a4.forEver):this.result={};this.iter=this.forEver(a2,a3);break;case ((a5&a4.repeat)===a4.repeat):this.result={};this.iter=this.repeat(a2,a6,a3);
break;case ((a5&a4.items)===a4.items):this.result=[];this.iter=this.items(a2,a6,a3);break;case ((a5&a4.zip)===a4.zip):this.result=[];this.iter=this.zip(a2,a6,a3);break;default:if(au(a2)){this.result=a2;this.iter=this.forLoop(a2,a6,a3)}else{this.result=a2;this.iter=this.forInLoop(a2,a6,a3)
}}},revback:function(){var a5=this,a2,a4,a3=w,a7;this.time.loop=aK();REVOLVE:{do{try{if(this.isDeferStopIter){this.isDeferStopIter=w;throw aL}a2=this.iter.next()}catch(a6){a4=a6;if(aP(a4)){break REVOLVE}throw a4}if(this.async&&V(a2)){return a2.ensure(function(a8){if(a8!==af){if(c(a8)){if(aP(a8)){a5.isDeferStopIter=O;
if(V(a5.result)&&aP(d.lastError(a5.result))){a5.result=d.lastResult(a5.result)}}else{d.lastError(this,a8)}}else{d.lastResult(this,a8)}}a5.flush(a5.revback,O)})}a7=aK();if(o.isWaitable){if(this.time.total===ag){this.time.total=a7}else{if(a7-this.time.total>=this.time.rest){m.throughout(0);
this.time.total=aK()}}}else{if(!this.async){if(this.restable&&this.time.count>=this.time.limit){this.restable=w}}}this.time.risk=a7-this.time.start;this.time.diff=a7-this.time.loop;if(this.time.diff>=this.interval){if(this.async&&this.interval<aZ.speeds.normal){a3=O
}else{if(this.async||this.restable||o.isWaitable){if(this.time.diff<this.interval+8){this.time.axis=2}else{if(this.time.diff<this.interval+36){this.time.axis=5}else{if(this.time.diff<this.interval+48){this.time.axis=7}else{this.time.axis=10}}}if(this.time.axis>=10||(Math.random()*10<this.time.axis)){a3=O
}}}}}while(!a3);if(this.time.count<=this.time.limit){this.time.count++}return this.flush(this.revback,O)}if(V(this.revDeferred)){this.revDeferred.begin()}},revolve:function(){var a2=this,a3=this.createDeferred(),a4=this.createDeferred();a3.then(function(){var a5=a2.createDeferred();
a2.revDeferred=a2.createDeferred();a5.then(function(){return a2.revback()}).begin();return a2.revDeferred}).ensure(function(a5){a4.begin();if(c(a5)){throw a5}});this.flush(a3);return a4},flush:function(a8,a5){var a3=this,a7,a2=w,a4,a6;if(this.async||o.isWaitable){a2=O
}if(!a2&&aA(a8)){return a8.call(this)}else{a7=this.createDeferred();a7.then(function(){if(V(a8)){a8.begin()}else{a8.call(a3)}});if(a2){a4=0;if(a5){a6=aZ.revSpeeds[this.interval];if(a6&&p(aZ.delays[a6])){a4=aZ.delays[a6]}if(Math.random()*10<Math.max(2,(this.time.axis||2)/2.75)){a4+=Math.min(this.time.rest,Math.max(1,Math.ceil((this.time.risk/(this.time.rest+this.time.diff))+this.time.diff)))
}}ab(function(){a7.begin()},a4)}else{a7.begin()}}},noop:function(){return{next:function(){throw aL}}},forEver:function(a4,a3){var a2=0;if(!aA(a4)){return this.noop()}return{next:function(){var a5=a4.call(a3,a2);try{if(!isFinite(++a2)||a2>=Number.MAX_VALUE){throw 0
}}catch(a6){a2=0}return a5}}},repeat:function(a2,a8,a5){var a4,a3,a7,a6;if(!aA(a8)){return this.noop()}if(!a2||a2==ag){a7=0}else{if(p(a2)){a7=a2-0}else{a7=a2||{};if(p(a7.start)){a7.begin=a7.start}if(p(a7.stop)){a7.end=a7.stop}}}a3={begin:p(a7.begin)?a7.begin-0:0,end:p(a7.end)?a7.end-0:(a7||0)-0,step:p(a7.step)?a7.step-0:1,last:w,prev:ag};
a4=a3.step?a3.begin:a3.end;a6=a3.end-a3.step;return{next:function(){var a9;if(a4<a3.end){a3.last=(a4>=a6);a9=a8.call(a5,a4,a3.last,a3);a3.prev=a9}else{throw aL}a4+=a3.step;return a9}}},forLoop:function(a2,a6,a4){var a5,a3=0;if(!a2||!a2[az]||!aA(a6)){return this.noop()
}a5=aR(a2);return{next:function(){var a9,a7;while(O){if(a3>=a5[az]){throw aL}if(!(a3 in a5)){a3++;continue}try{a9=a5[a3]}catch(a8){a3++;continue}a7=a6.call(a4,a9,a3,a2);a3++;return a7}}}},forInLoop:function(a2,a6,a4){var a5,a3=0;if(aA(a6)){a5=[];aW(a2,function(a7,a8){a5[a5[az]]=[a7,a8]
})}if(!a5||!a5[az]){return this.noop()}return{next:function(){var a7,bb,a8,ba;while(O){if(a3>=a5[az]){throw aL}if(!(a3 in a5)){a3++;continue}try{bb=a5[a3];ba=bb[0];a8=bb[1]}catch(a9){a3++;continue}a7=a6.call(a4,ba,a8,a2);a3++;return a7}}}},iterate:function(a2,a6,a3){var a4=this,a5;
if(aE.isIterable(a2)&&!aE.isIter(a2)){if(aA(a6)){return{next:function(){var a7=a2.next();a4.result=a6.apply(a3,aR(a7));return a4.result}}}else{return{next:function(){a4.result=a2.next();return a4.result}}}}else{a5=v.toIter(a2);if(!aV(a5)){return this.noop()}if(aA(a6)){return{next:function(){var a7=a5.next();
a7=aR(a7);while(a7[az]<2){a7.push(af)}a7.push(a2);a4.result=a6.apply(a3,a7);return a4.result}}}else{return{next:function(){a4.result=a5.next();return a4.result}}}}},items:function(a2,a8,a4){var a5=this,a7,a3=0,a6;if(y(a2)){a7=[];aW(a2,function(a9,ba){a7[a7[az]]=[ba,a9]
});a6=O}else{if(au(a2)){a7=aR(a2)}}if(!a7||!a7[az]){return this.noop()}if(aA(a8)){return{next:function(){var a9,bd,ba,bc;while(O){if(a3>=a7[az]){throw aL}if(!(a3 in a7)){a3++;continue}try{bd=a7[a3];if(a6){ba=bd[0];bc=bd[1]}else{ba=a3;bc=bd}}catch(bb){a3++;continue
}a9=a8.call(a4,[ba,bc],a2);a3++;a5.result[a5.result[az]]=a9;return a9}}}}else{return{next:function(){var bc,bb,ba,a9;while(O){if(a3>=a7[az]){throw aL}if(!(a3 in a7)){a3++;continue}try{bb=a7[a3];if(a6){ba=bb[0];a9=bb[1]}else{ba=a3;a9=bb}}catch(bd){a3++;continue}a3++;
bc=[ba,a9];a5.result[a5.result[az]]=bc;return bc}}}}},zip:function(a3,a8,a5){var a6=this,a7,a4=0,a2;if(au(a3)){a7=aR(a3);a2=a7[az]}if(!a2||!a7||!a7[az]){return this.noop()}if(aA(a8)){return{next:function(){var a9,bb=[],ba,bc;for(ba=0;ba<a2;ba++){bc=aR(a7[ba]);if(!bc||!bc[az]||a4>=bc[az]){throw aL
}bb[bb[az]]=bc[a4]}a9=a8.call(a5,bb,a3);a6.result[a6.result[az]]=a9;a4++;return a9}}}else{return{next:function(){var bb=[],a9,ba;for(a9=0;a9<a2;a9++){ba=aR(a7[a9]);if(!ba||!ba[az]||a4>=ba[az]){throw aL}bb[bb[az]]=ba[a4]}a6.result[a6.result[az]]=bb;a4++;return bb
}}}}});aZ.fn.doit[l]=aZ.fn;D(aZ,{QuickIteration:{resolve:function(a2){var a3;try{while(O){a2.next()}}catch(a4){a3=a4;if(!aP(a3)){throw a3}}},forEach:function(a4,a7,a5){var a2,a3,a6=aZ.fn;if(!a4){a2={}}else{a2=a4;if(au(a4)){a3=a6.forLoop(a4,a7,a5)}else{a3=a6.forInLoop(a4,a7,a5)
}a1.resolve(a3)}return a2},repeat:function(a3,a7,a5){var a2={},a4,a6=aZ.fn;if(a3){a4=a6.repeat(a3,a7,a5);a1.resolve(a4)}return a2},forEver:function(a6,a4){var a2={},a3,a5=aZ.fn;if(a6){a3=a5.forEver(a6,a4);a1.resolve(a3)}return a2},iterate:function(a4,a8,a5){var a2,a3,a7,a6=aZ.fn;
if(!a4){a2={}}else{a2=ag;a7={noop:a6.noop,result:ag};a3=a6.iterate.call(a7,a4,a8,a5);a1.resolve(a3);a2=a7.result}return a2},items:function(a4,a8,a5){var a2=[],a3,a7,a6=aZ.fn;if(a4){a7={noop:a6.noop,result:[]};a3=a6.items.call(a7,a4,a8,a5);a1.resolve(a3);a2=a7.result
}return a2},zip:function(a4,a8,a5){var a2=[],a3,a7,a6=aZ.fn;if(a4){a7={noop:a6.noop,result:[]};a3=a6.zip.call(a7,a4,a8,a5);a1.resolve(a3);a2=a7.result}return a2}}});a1=aZ.QuickIteration;D(aj,{createLightIterateConstructor:function(a6){var a4,a5=function(a8){var a7;
if(aZ.speeds[a8]===af){a7=aZ.defaults.speed}else{a7=aZ.speeds[a8]}return a6(a7)},a3={},a2=a5();for(a4 in aZ.speeds){a3[a4]=a5(a4)}return D(a2,a3)}});aY=aj.createLightIterateConstructor;aE.update({forEach:aY(function(a2){if(o.isWaitable&&a2<aZ.speeds.normal){return function(a3,a6,a4){var a5={};
a5.type=aZ.types.forLoop|aZ.types.forInLoop;a5.interval=a2;a5.async=w;a5.context=a4;return(new aZ(a3,a6,a5)).result}}else{return function(a3,a5,a4){return a1.forEach(a3,a5,a4)}}}),repeat:aY(function(a2){if(o.isWaitable&&a2<aZ.speeds.normal){return function(a3,a6,a4){var a5={};
a5.type=aZ.types.repeat;a5.interval=a2;a5.async=w;a5.context=a4;return(new aZ(a3,a6,a5)).result}}else{return function(a3,a5,a4){return a1.repeat(a3,a5,a4)}}}),forEver:aY(function(a2){if(o.isWaitable&&a2<aZ.speeds.normal){return function(a5,a3){var a4={};a4.type=aZ.types.forEver;
a4.interval=a2;a4.async=w;a4.context=a3;return(new aZ(a5,ag,a4)).result}}else{return function(a4,a3){return a1.forEver(a4,a3)}}}),iterate:aY(function(a2){if(o.isWaitable&&a2<aZ.speeds.normal){return function(a3,a6,a4){var a5={};a5.type=aZ.types.iterate;a5.interval=a2;
a5.async=w;a5.context=a4;return(new aZ(a3,a6,a5)).result}}else{return function(a3,a5,a4){return a1.iterate(a3,a5,a4)}}}),items:aY(function(a2){if(o.isWaitable&&a2<aZ.speeds.normal){return function(a3,a6,a4){var a5={};a5.type=aZ.types.items;a5.interval=a2;a5.async=w;
a5.context=a4;return(new aZ(a3,a6,a5)).result}}else{return function(a3,a5,a4){return a1.items(a3,a5,a4)}}}),zip:aY(function(a2){if(o.isWaitable&&a2<aZ.speeds.normal){return function(a3,a6,a4){var a5={};a5.type=aZ.types.zip;a5.interval=a2;a5.async=w;a5.context=a4;
return(new aZ(a3,a6,a5)).result}}else{return function(a3,a5,a4){return a1.zip(a3,a5,a4)}}})});D(d,{forEach:aY(function(a2){return function(a3,a6,a4){var a5={};a5.type=aZ.types.forLoop|aZ.types.forInLoop;a5.interval=a2;a5.async=O;a5.context=a4;return(new aZ(a3,a6,a5)).deferred
}}),repeat:aY(function(a2){return function(a3,a6,a4){var a5={};a5.type=aZ.types.repeat;a5.interval=a2;a5.async=O;a5.context=a4;return(new aZ(a3,a6,a5)).deferred}}),forEver:aY(function(a2){return function(a5,a3){var a4={};a4.type=aZ.types.forEver;a4.interval=a2;
a4.async=O;a4.context=a3;return(new aZ(a5,ag,a4)).deferred}}),iterate:aY(function(a2){return function(a3,a6,a4){var a5={};a5.type=aZ.types.iterate;a5.interval=a2;a5.async=O;a5.context=a4;return(new aZ(a3,a6,a5)).deferred}}),items:aY(function(a2){return function(a3,a6,a4){var a5={};
a5.type=aZ.types.items;a5.interval=a2;a5.async=O;a5.context=a4;return(new aZ(a3,a6,a5)).deferred}}),zip:aY(function(a2){return function(a3,a6,a4){var a5={};a5.type=aZ.types.zip;a5.interval=a2;a5.async=O;a5.context=a4;return(new aZ(a3,a6,a5)).deferred}})});delete aj.createLightIterateConstructor;
aE.update({Iter:function(){return aV(this)?this.init(arguments):new v.fn.init(arguments)}});v=aE.Iter;v.fn=v[l]=D(v[l],{constructor:v,id:E.getMagicNumber(),serial:ag,NAME:"Iter",toString:K,isIter:aV,init:function(a2){if(!this.serial){this.serial=Z(this)}return this
},next:function(){throw aL}});v.fn.init[l]=v.fn;D(v,{StopIteration:aL,toIter:function(a3){var a4,a6,a2,a5;if(aV(a3)){return a3}a2=a3&&au(a3);a5=a3&&!a2&&y(a3);if(a5){a6=[];aW(a3,function(a7,a8){a6[a6[az]]=[a7,a8]})}else{a6=aR(a3)}a4=new v();a4.next=(function(){var a7=0;
if(a5){return function(){var a8,bb,ba;while(O){if(a7>=a6[az]){throw aL}if(!(a7 in a6)){a7++;continue}try{a8=a6[a7][1];bb=a6[a7][0]}catch(a9){a7++;continue}ba=[bb,a8];a7++;return ba}}}else{return function(){var a9,a8;while(O){if(a7>=a6[az]){throw aL}if(!(a7 in a6)){a7++;
continue}try{a9=a6[a7]}catch(ba){a7++;continue}a8=[a9,a7];a7++;return a8}}}}());return a4},forEach:function(){return aE.iterate.apply(ag,arguments)},map:function(a4,a8,a2){var a9,ba,a6,a7,a5,a3;a7=this&&this.iterateSpeed;ba=a4&&au(a4);a6=a4&&!ba&&y(a4);if(ba){a9=[]
}else{if(a6){a9={}}else{a9=ag}}a3=a7||this&&this.iterateSpeedSync||aE.iterate;a5=function(){return a3(a4,function(be,bc,bd){var bb=a8.call(a2,be,bc,bd);if(V(bb)){return bb.then(function(bf){if(ba){a9[a9[az]]=bf}else{if(a6){a9[bc]=bf}else{a9=bf}}})}else{if(ba){a9[a9[az]]=bb
}else{if(a6){a9[bc]=bb}else{a9=bb}}}},a2)};if(a7){return a5().then(function(){return a9})}else{a5();return a9}},filter:(function(){var a2=function(a3){return a3};return function(a6,ba,a3){var bb,bc,a8,a9,a7,a4,a5;a5=ba||a2;a9=this&&this.iterateSpeed;bc=a6&&au(a6);
a8=a6&&!bc&&y(a6);if(bc){bb=[]}else{if(a8){bb={}}else{bb=ag}}a4=a9||this&&this.iterateSpeedSync||aE.iterate;a7=function(){return a4(a6,function(bg,be,bf){var bd=a5.call(a3,bg,be,bf);if(V(bd)){return bd.then(function(bh){if(bh){if(bc){bb[bb[az]]=bg}else{if(a8){bb[be]=bg
}else{bb=bg}}}})}else{if(bd){if(bc){bb[bb[az]]=bg}else{if(a8){bb[be]=bg}else{bb=bg}}}}},a3)};if(a9){return a7().then(function(){return bb})}else{a7();return bb}}}()),reduce:function(a4,bb,a7,a2){var bc,a6,a9,ba,a8,a5,a3;a8=this&&this.iterateSpeed;bc=a4&&au(a4);
a6=a4&&!bc&&y(a4);if(a7===af){a9=(function(){var bd;if(bc||a6){aW(a4,function(be){bd=be;throw aL})}return bd}())}else{a9=a7}ba=O;a3=a8||this&&this.iterateSpeedSync||aE.iterate;a5=function(){return a3(a4,function(bg,be,bf){var bd;if(ba){ba=w}else{bd=bb.call(a2,a9,bg,be,bf);
if(V(bd)){return bd.then(function(bh){a9=bh})}else{a9=bd}}},a2)};if(a8){return a5().then(function(){return a9})}else{a5();return a9}},every:function(a3,a8,a4){var a2=O,a7,a5,a6;a7=this&&this.iterateSpeed;a6=a7||this&&this.iterateSpeedSync||aE.iterate;a5=function(){return a6(a3,function(bc,ba,bb){var a9=a8.call(a4,bc,ba,bb);
if(V(a9)){return a9.then(function(bd){if(!bd){a2=w;throw aL}})}else{if(!a9){a2=w;throw aL}}},a4)};if(a7){return a5().then(function(){return a2})}else{a5();return a2}},some:function(a3,a8,a4){var a2=w,a7,a5,a6;a7=this&&this.iterateSpeed;a6=a7||this&&this.iterateSpeedSync||aE.iterate;
a5=function(){return a6(a3,function(bc,ba,bb){var a9=a8.call(a4,bc,ba,bb);if(V(a9)){return a9.then(function(bd){if(bd){a2=O;throw aL}})}else{if(a9){a2=O;throw aL}}},a4)};if(a7){return a5().then(function(){return a2})}else{a5();return a2}},range:function(){var a7=arguments,a9,ba=[],a4=0,a5=0,a3=1,a2,a6,a8;
switch(a7[az]){case 0:return;case 1:a9=a7[0];if(y(a9)){if(L in a9){a4=a9.begin}else{if(z in a9){a4=a9.start}}if(G in a9){a5=a9.end}else{if(an in a9){a5=a9.stop}}if(x in a9){a3=a9.step}}else{a5=a9}break;case 2:a4=a7[0];a5=a7[1];break;default:a4=a7[0];a5=a7[1];a3=a7[2]
}if(aN(a4)&&a4[az]===1&&aN(a5)&&a5[az]===1){a4=a4.charCodeAt(0)||0;a5=a5.charCodeAt(0)||0;a6=O}else{a4=a4-0;a5=a5-0;a6=w}a3=a3-0;if(isNaN(a4)||isNaN(a5)||isNaN(a3)||a3==0){return ba}if((a3>0&&a4>a5)||(a3<0&&a4<a5)){a2=a4;a4=a5;a5=a2}a8=new v();a8.next=function(){if((a3>0&&a4>a5)||(a3<0&&a4<a5)){throw aL
}ba[ba[az]]=a6?e(a4):a4;a4+=a3};aE.iterate(a8);return ba},indexOf:function(a4,bb,bc){var bf=-1,a7,a8,a2,a6,ba=arguments,bd=ba[az],be=a4&&au(a4),a5=a4&&!be&&y(a4);if(be){try{if(o.isBuiltinArrayIndexOf){a7=j.apply(a4,aR(ba,1));if(p(a7)){bf=a7}else{throw a7}}else{throw a7
}}catch(a3){a8=(a4&&a4[az])||0;a7=(+bc)||0;a7=(a7<0)?Math.ceil(a7):Math.floor(a7);if(a7<0){a7+=a8}for(;a7<a8;a7++){try{if(a7 in a4){a2=a4[a7];if(a2===bb){bf=a7;break}}}catch(a9){continue}}}}else{if(a5){a6=w;aW(a4,function(bg,bh){if(!a6&&bd>=3&&bc!==bh){return}else{a6=O
}if(bg===bb){bf=bh}})}else{if(a4!=ag){try{a2=(a4.toString&&a4.toString())||String(a4);bf=aS.indexOf.apply(a2,aR(ba,1))}catch(a9){bf=-1}}else{bf=-1}}}return bf},lastIndexOf:function(a5,bc,bd){var bg=-1,a8,a9,be,a3,a7,a2,bb=arguments,bf=a5&&au(a5),a6=a5&&!bf&&y(a5);
if(bf){try{if(o.isBuiltinArrayLastIndexOf){a8=ax.apply(a5,aR(bb,1));if(p(a8)){bg=a8}else{throw a8}}else{throw a8}}catch(a4){a9=(a5&&a5[az])||0;a8=(+bd);if(isNaN(a8)){a8=a9-1}else{a8=(a8<0)?Math.ceil(a8):Math.floor(a8);if(a8<0){a8+=a9}else{if(a8>=a9){a8=a9-1}}}for(;
a8>-1;a8--){try{if(a8 in a5){a3=a5[a8];if(a3===bc){bg=a8;break}}}catch(ba){continue}}}}else{if(a6){a2=[];a7=w;aW(a5,function(bh,bi){a2[a2[az]]=[bi,bh];if(bh===bc){bg=bi}if(bi===bd){a7=O;throw aL}});if(a7){bg=-1;a9=a2[az];while(--a9>=0){be=a2[a9][0];a3=a2[a9][1];
if(a3===bc){bg=be;break}}}}else{if(a5!=ag){try{a3=(a5.toString&&a5.toString())||String(a5);bg=aS.lastIndexOf.apply(a3,aR(bb,1))}catch(ba){bg=-1}}else{bg=-1}}}return bg}});aE.update({toIter:v.toIter});D(aj,{createIterators:function(a2){aW(a2,function(a3){var a4={};
a4[a3[U]]=function(){var a6={},a5=aR(arguments);a6.iterateSpeed=(this&&this.iterateSpeed)||d.iterate;return d.begin(function(){var a7=new d();a3.method.apply(a6,a5).then(function(a8){a7.begin(a8)},function(a8){a7.raise(a8)});return a7})};D(d,a4);d.extendSpeeds(d,a3[U],function(a7){var a6={},a5=aR(arguments,1);
a6.iterateSpeed=d.iterate[a7.speedName];return d.begin(function(){var a8=new d();a3.method.apply(a6,a5).then(function(a9){a8.begin(a9)},function(a9){a8.raise(a9)});return a8})},aZ.speeds)})},createProtoIterators:function(a2){aW(a2,function(a3){var a5={},a4={};a5[a3[U]]=function(){var a7=aR(arguments),a6=D({},this[R]);
return this.then(function(a8){var a9=new d();a7=a3.args(a8,a7);a3.method.apply(a3.context,a7).ensure(function(ba){ah(a9,a6);if(c(ba)){a9.raise(ba)}else{a9.begin(ba)}});return a9})};D(d.fn,a5);if(a3.speed){if(a3.iterable){a4.methods=function(a6){return{iter:a3.iterable[a6],context:a3.context}
}}else{a4.methods=function(a6){return{iter:a3.method,context:{iterateSpeed:a3.context.iterateSpeed[a6]}}}}d.extendSpeeds(d.fn,a3[U],function(a8){var a7=aR(arguments,1),a9=a4.methods(a8.speedName),a6=D({},this[R]);return this.then(function(ba){var bb=new d();a7=a3.args(ba,a7);
a9.iter.apply(a9.context,a7).ensure(function(bc){ah(bb,a6);if(c(bc)){bb.raise(bc)}else{bb.begin(bc)}});return bb})},aZ.speeds)}})},createSyncIterator:function(a5){var a3,a2,a4=function(a7){var a6=a7;if(!a6){aW(aZ.speeds,function(a9,a8){if(a9===aZ.defaults.speed){a6=a8;
throw aL}})}return a5(a6)};a2=a4();a3={};aW(aZ.speeds,function(a7,a6){a3[a6]=a4(a6)});return D(a2,a3)}});aj.createIterators([{NAME:"map",method:v.map},{NAME:"filter",method:v.filter},{NAME:"reduce",method:v.reduce},{NAME:"every",method:v.every},{NAME:"some",method:v.some}]);
aj.createProtoIterators([{NAME:"forEach",method:d.forEach,context:ag,speed:O,iterable:d.forEach,args:function(a2,a3){return[a2].concat(a3)}},{NAME:"repeat",method:d.repeat,context:ag,speed:O,iterable:d.repeat,args:function(a2,a3){if(p(a2)){return[a2-0].concat(a3)
}if(a2&&J(a2[az])){return[a2[az]].concat(a3)}if(a2&&y(a2)&&(G in a2||L in a2||x in a2||an in a2||z in a2)){return[a2].concat(a3)}return a3}},{NAME:"forEver",method:d.forEver,context:ag,speed:O,iterable:d.forEver,args:function(a2,a3){return a3}},{NAME:"iterate",method:d.iterate,context:ag,speed:O,iterable:d.iterate,args:function(a2,a3){return[a2].concat(a3)
}},{NAME:"items",method:d.items,context:ag,speed:O,iterable:d.items,args:function(a2,a3){return[a2].concat(a3)}},{NAME:"zip",method:d.zip,context:ag,speed:O,iterable:d.zip,args:function(a2,a3){return[a2].concat(a3)}},{NAME:"map",method:v.map,context:{iterateSpeed:d.iterate},speed:O,iterable:ag,args:function(a2,a3){return[a2].concat(a3)
}},{NAME:"filter",method:v.filter,context:{iterateSpeed:d.iterate},speed:O,iterable:ag,args:function(a2,a3){return[a2].concat(a3)}},{NAME:"reduce",method:v.reduce,context:{iterateSpeed:d.iterate},speed:O,iterable:ag,args:function(a2,a3){return[a2].concat(a3)}},{NAME:"every",method:v.every,context:{iterateSpeed:d.iterate},speed:O,iterable:ag,args:function(a2,a3){return[a2].concat(a3)
}},{NAME:"some",method:v.some,context:{iterateSpeed:d.iterate},speed:O,iterable:ag,args:function(a2,a3){return[a2].concat(a3)}}]);a0=aj.createSyncIterator;aE.update({map:a0(function(a2){return function(){var a3={iterateSpeedSync:aE.iterate[a2]};return v.map.apply(a3,arguments)
}}),filter:a0(function(a2){return function(){var a3={iterateSpeedSync:aE.iterate[a2]};return v.filter.apply(a3,arguments)}}),reduce:a0(function(a2){return function(){var a3={iterateSpeedSync:aE.iterate[a2]};return v.reduce.apply(a3,arguments)}}),every:a0(function(a2){return function(){var a3={iterateSpeedSync:aE.iterate[a2]};
return v.every.apply(a3,arguments)}}),some:a0(function(a2){return function(){var a3={iterateSpeedSync:aE.iterate[a2]};return v.some.apply(a3,arguments)}}),range:function(){return v.range.apply(ag,arguments)},indexOf:function(){return v.indexOf.apply(ag,arguments)
},lastIndexOf:function(){return v.lastIndexOf.apply(ag,arguments)}});D(E,{defineDeferrater:a0});delete aj.createIterators;delete aj.createProtoIterators;delete aj.createSyncIterator}());aE.update({XPCOM:{throughout:function(aZ){var aY;if(o.hasComponents){try{aY=ac[ae+"thread-manager;1"].getService(Y.nsIThreadManager).mainThread
}catch(a0){o.isWaitable=o.hasComponents=w}if(aY&&o.hasComponents){do{aY.processNextEvent(O)}while(aZ&&!aZ())}}},getMostRecentWindow:function(){var aZ;if(o.hasComponents){try{aZ=ac[ae+"appshell/window-mediator;1"].getService(Y.nsIWindowMediator).getMostRecentWindow("navigator:browser")
}catch(aY){o.isWaitable=o.hasComponents=w}}return aZ}}});m=aE.XPCOM;aE.update({throughout:m.throughout,getMostRecentWindow:m.getMostRecentWindow});aE.update({deferrizejQueryAjax:(function(){if(typeof jQuery!==F||!jQuery.fn){return k}return function(){return(function(aY){var aZ=aY.ajax;
aY.pot=aE;aY.fn.extend({deferred:function(a3){var a2,a0=aR(arguments,1),a1=w;aW(a0,function(a4){if(aA(a4)){a1=O;throw aL}});if(!a1){a0.push(function(){return aR(arguments)})}a2=d.deferrize(a3,this);return a2.apply(this,a0)}});aY.ajax=function(a0){var a5,a4=new d(),a2=D({},a0||{}),a1=D({},a2);
D(a2,{success:function(){var a7=aR(arguments),a8,a6;try{if(a1.success){a1.success.apply(this,a7)}}catch(a9){a6=O;a8=a9||new Error(a9);a7.push(a8);a4.raise.apply(a4,a7)}if(!a6){a4.destAssign=O;a4.begin.apply(a4,a7)}},error:function(){var a6=aR(arguments),a7;try{if(a1.error){a1.error.apply(this,a6)
}}catch(a8){a7=a8||new Error(a8);a6.unshift(a7)}finally{a4.raise.apply(a4,a6)}}});try{a4.data({result:aZ(a2)})}catch(a3){a5=a3;a4.raise(a5)}return a4}}(jQuery))}}())});aE.update({globalize:function(a4,a1){var aZ=w,a3=aR(arguments),a0,a5,aY=a3[az],a2=[];if(aY<=1&&this===aE&&!y(a4)){a0=this;
if(aY>=1&&aD(a4)){a1=a4}else{a1=!!a4}}else{if(a4&&(y(a4)||aA(a4)||a(a4))){a0=a4}}a5=E.getExportObject(O);if(a0&&a5){if(a0===aE){if(E.exportPot&&E.PotExportProps){aZ=E.exportPot(a1,O,O)}}else{aW(a0,function(a7,a6){if(a1&&a6 in a5){a2[a2[az]]=a6}else{a5[a6]=a7}});
aZ=a2}}return aZ}});D(E,{exportPot:function(aZ,a3,a1,aY){var a2,a0=[];a2=E.getExportObject(a3);if(a2){if(a1){aW(E.PotExportProps,function(a5,a4){if(aZ&&a4 in a2){a0[a0[az]]=a4}else{a2[a4]=a5}})}else{aW(E.PotExportObject,function(a5,a4){if(aZ&&a4 in a2){a0[a0[az]]=a4
}else{a2[a4]=a5}})}}if(aY){a2=E.getExportObject(o.isNodeJS?w:O);if(a2){D(a2,E.PotExportObject)}if((o.isNonBrowser||!o.isNotExtension)&&typeof exports!==i){if(typeof module!==i&&module.exports){exports=module.exports=aE}exports.Pot=aE}else{if(typeof define===F&&define.amd){define("pot",function(){return aE
})}}if(a2&&!a2.Pot){a2[aw]=aE}}return a0},PotExportObject:{Pot:aE},PotExportProps:{Pot:aE,update:D,isBoolean:aD,isNumber:J,isString:aN,isFunction:aA,isArray:a,isDate:f,isRegExp:ar,isObject:y,isError:c,typeOf:ap,typeLikeOf:ad,StopIteration:aL,isStopIter:aP,isIterable:aE.isIterable,isArguments:aE.isArguments,isArrayLike:au,isDeferred:V,isIter:aV,isNumeric:p,isNativeCode:aE.isNativeCode,isBuiltinMethod:aE.isBuiltinMethod,isWindow:H,isDocument:aM,isElement:al,isNodeList:aT,Cc:ac,Ci:Y,Cr:T,Cu:S,Deferred:d,succeed:d.succeed,failure:d.failure,wait:d.wait,callLater:d.callLater,callLazy:d.callLazy,maybeDeferred:d.maybeDeferred,isFired:d.isFired,lastResult:d.lastResult,lastError:d.lastError,register:d.register,unregister:d.unregister,deferrize:d.deferrize,begin:d.begin,flush:d.flush,till:d.till,parallel:d.parallel,chain:d.chain,forEach:aE.forEach,repeat:aE.repeat,forEver:aE.forEver,iterate:aE.iterate,items:aE.items,zip:aE.zip,Iter:v,toIter:v.toIter,map:aE.map,filter:aE.filter,reduce:aE.reduce,every:aE.every,some:aE.some,range:aE.range,indexOf:aE.indexOf,lastIndexOf:aE.lastIndexOf,hasReturn:aE.hasReturn,getErrorMessage:aE.getErrorMessage,getFunctionCode:aE.getFunctionCode,currentWindow:aE.currentWindow,currentDocument:aE.currentDocument,currentURI:aE.currentURI,throughout:m.throughout,getMostRecentWindow:m.getMostRecentWindow,rescape:X,arrayize:aR,invoke:B,stringify:aa,trim:aB,now:aK,globalize:aE.globalize,debug:n}});
E.exportPot(w,w,w,O);return aE}(this||{}));
